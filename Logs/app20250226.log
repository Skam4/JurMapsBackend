2025-02-26 00:05:23.201 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryN6W3G1Nfrd6GQB9X 1250
2025-02-26 00:05:23.205 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:05:23.207 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-26 00:05:23.208 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-26 00:05:23.216 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 00:05:23.225 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 00:05:23.516 +01:00 [INF] Received HTTP response headers after 289.6552ms - 200
2025-02-26 00:05:23.517 +01:00 [INF] End processing HTTP request after 301.2515ms - 200
2025-02-26 00:05:23.573 +01:00 [ERR] Błąd w PlaceController.SavePlaceInfo
System.InvalidOperationException: Nazwa miejsca jest zbyt toksyczna i nie może zostać zapisana.
   at JurMaps.Services.PlaceService.SavePlaceInfoAsync(Int32 placeId, String placeName, String placeDescription, IFormFile placePhoto1, IFormFile placePhoto2, IFormFile placePhoto3, String placeColor, Boolean changePlacePhoto1, Boolean changePlacePhoto2, Boolean changePlacePhoto3) in E:\jurmaps2\Services\PlaceService.cs:line 173
   at JurMaps.Controllers.PlaceController.SavePlaceInfo(PlaceDto placeDto) in E:\jurmaps2\Controllers\PlaceController.cs:line 34
2025-02-26 00:05:23.576 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-26 00:05:23.578 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 367.6188ms
2025-02-26 00:05:23.579 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-26 00:05:23.580 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryN6W3G1Nfrd6GQB9X 1250 - 500 - text/plain;+charset=utf-8 379.7948ms
2025-02-26 00:50:23.807 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-26 00:50:24.059 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-26 00:50:24.061 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-26 00:50:24.063 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-26 00:50:24.064 +01:00 [INF] Hosting environment: Development
2025-02-26 00:50:24.064 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-26 00:50:24.426 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 00:50:28.535 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-26 00:50:28.672 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 00:50:28.677 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4254.2053ms
2025-02-26 00:50:28.737 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-26 00:50:29.640 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 903.0040ms
2025-02-26 00:50:31.741 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 00:50:35.785 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 00:50:35.787 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4046.4755ms
2025-02-26 00:50:38.817 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 00:50:42.870 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 00:50:42.871 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4053.7820ms
2025-02-26 00:50:45.888 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 00:50:55.900 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 00:50:55.901 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10012.9782ms
2025-02-26 00:50:58.923 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 00:51:08.936 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 00:51:08.937 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10014.2568ms
2025-02-26 00:51:10.102 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-26 00:51:11.954 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 00:51:12.030 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-26 00:51:12.031 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 77.5982ms
2025-02-26 00:51:12.650 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 00:51:12.651 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 00:51:12.650 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 00:51:12.651 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 00:51:12.651 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 00:51:12.651 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 00:51:12.651 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 00:51:12.723 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:12.658 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 00:51:12.723 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:12.723 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:12.723 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:12.723 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:12.723 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:12.723 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:12.726 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 75.8664ms
2025-02-26 00:51:12.726 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:12.727 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 76.9101ms
2025-02-26 00:51:12.728 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 76.4500ms
2025-02-26 00:51:12.728 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 77.9313ms
2025-02-26 00:51:12.730 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 79.4465ms
2025-02-26 00:51:12.729 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 78.9756ms
2025-02-26 00:51:12.731 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 80.3990ms
2025-02-26 00:51:12.732 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 73.9081ms
2025-02-26 00:51:12.735 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:51:12.735 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:51:12.744 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:12.744 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:12.919 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:51:12.919 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:51:12.966 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:12'.
2025-02-26 00:51:12.969 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:12'.
2025-02-26 00:51:12.971 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:51:12.971 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:51:13.023 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:51:13.023 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:51:22.351 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:22.475 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:51:22.476 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:22.477 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9449.4953ms
2025-02-26 00:51:22.478 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:51:22.480 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:51:22.485 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:22'.
2025-02-26 00:51:22.488 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9753.0550ms
2025-02-26 00:51:22.492 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:51:22.495 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:51:22.511 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:22.514 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.808ms
2025-02-26 00:51:22.515 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:51:22.515 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:51:22.517 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:22.518 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 42.9420ms
2025-02-26 00:51:22.520 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:51:22.545 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:22'.
2025-02-26 00:51:22.547 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:51:22.547 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:51:22.553 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:22.557 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.8621ms
2025-02-26 00:51:22.558 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:51:22.559 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:51:22.559 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 44.3898ms
2025-02-26 00:51:22.560 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:22.562 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:51:22.568 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:22'.
2025-02-26 00:51:22.571 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:51:22.572 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:51:22.576 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:22.578 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.2907ms
2025-02-26 00:51:22.579 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:51:22.580 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 21.1535ms
2025-02-26 00:51:24.669 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:51:24.758 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:24.762 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11735.0783ms
2025-02-26 00:51:24.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:51:24.764 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:51:24.764 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:24.766 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:51:24.773 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 12037.4676ms
2025-02-26 00:51:24.776 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:24'.
2025-02-26 00:51:24.779 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:51:24.780 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:51:24.803 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:51:24.808 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:24.810 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 27.9852ms
2025-02-26 00:51:24.811 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:51:24.811 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:51:24.812 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:24.813 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 51.0931ms
2025-02-26 00:51:24.814 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:51:24.820 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:24'.
2025-02-26 00:51:24.822 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:51:24.823 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:51:24.877 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:51:24.884 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:24.885 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 60.1023ms
2025-02-26 00:51:24.886 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:51:24.886 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:51:24.887 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 75.6866ms
2025-02-26 00:51:24.888 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:24.890 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:51:24.895 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:24'.
2025-02-26 00:51:24.896 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:51:24.897 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:51:24.903 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:51:24.909 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:24.911 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.6568ms
2025-02-26 00:51:24.912 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:51:24.913 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 26.4225ms
2025-02-26 00:51:51.765 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 00:51:51.766 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:51.767 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.1669ms
2025-02-26 00:51:51.769 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 00:51:51.771 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:51.772 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:51:51.780 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:51'.
2025-02-26 00:51:51.781 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 00:51:51.809 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:51:51.819 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:51:51.962 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 00:51:51.982 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:51.985 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 173.9238ms
2025-02-26 00:51:51.986 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 00:51:51.988 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 219.3802ms
2025-02-26 00:51:55.579 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/7 - -
2025-02-26 00:51:55.579 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/7 - -
2025-02-26 00:51:55.580 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/7 - -
2025-02-26 00:51:55.581 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/7 - -
2025-02-26 00:51:55.582 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:55.582 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:55.604 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/7 - - - 204 - - 24.5057ms
2025-02-26 00:51:55.584 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:55.586 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/7 - - - 204 - - 6.0982ms
2025-02-26 00:51:55.584 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:55.610 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/7 - - - 204 - - 30.7940ms
2025-02-26 00:51:55.607 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/7 - - - 204 - - 26.7607ms
2025-02-26 00:51:55.669 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/7 application/json -
2025-02-26 00:51:55.669 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/7 application/json -
2025-02-26 00:51:55.677 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:55.678 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:55.680 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:51:55.680 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:51:55.688 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:55'.
2025-02-26 00:51:55.691 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:51:55.693 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:51:55.695 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:51:56.081 +01:00 [INF] Executed DbCommand (128ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:51:56.092 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:56.094 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 396.6852ms
2025-02-26 00:51:56.096 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:51:56.097 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/7 application/json -
2025-02-26 00:51:56.098 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/7 application/json - - 200 - application/json;+charset=utf-8 428.7766ms
2025-02-26 00:51:56.099 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:56.107 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:51:56.118 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:51:56'.
2025-02-26 00:51:56.122 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:51:56.124 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:51:56.136 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:51:56.141 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:56.143 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 17.0314ms
2025-02-26 00:51:56.145 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:51:56.146 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/7 application/json - - 200 - application/json;+charset=utf-8 48.8923ms
2025-02-26 00:51:56.370 +01:00 [INF] Executed DbCommand (481ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 00:51:56.510 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:56.549 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 853.354ms
2025-02-26 00:51:56.551 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:51:56.555 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/7 application/json -
2025-02-26 00:51:56.556 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/7 application/json - - 200 - application/json;+charset=utf-8 886.2708ms
2025-02-26 00:51:56.560 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:56.565 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:51:56.567 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:51:56.589 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 00:51:56.594 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:51:56.598 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 26.0925ms
2025-02-26 00:51:56.603 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:51:56.605 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/7 application/json - - 200 - application/json;+charset=utf-8 49.6736ms
2025-02-26 00:51:57.569 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - -
2025-02-26 00:51:57.569 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - -
2025-02-26 00:51:57.570 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:57.571 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:57.572 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - - - 204 - - 3.6786ms
2025-02-26 00:51:57.574 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - - - 204 - - 5.1842ms
2025-02-26 00:51:57.580 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json -
2025-02-26 00:51:57.594 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:57.598 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:51:57.604 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:51:57.619 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:51:57.648 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:51:57.670 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 00:51:57.681 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 74.7118ms
2025-02-26 00:51:57.683 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json -
2025-02-26 00:51:57.684 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:51:57.685 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:51:57.688 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json - - 200 - application/json;+charset=utf-8 107.7402ms
2025-02-26 00:51:57.689 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:51:57.694 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:51:57.710 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:51:57.722 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:51:57.726 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 00:51:57.730 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 31.124ms
2025-02-26 00:51:57.731 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:51:57.736 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json - - 200 - application/json;+charset=utf-8 52.4589ms
2025-02-26 00:52:12.242 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryBU56EanqnBSD2Z1L 252
2025-02-26 00:52:12.244 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:52:12.254 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 00:52:12.263 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:52:12.342 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 00:52:12.347 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 00:52:12.712 +01:00 [INF] Received HTTP response headers after 361.4868ms - 200
2025-02-26 00:52:12.716 +01:00 [INF] End processing HTTP request after 375.614ms - 200
2025-02-26 00:52:12.856 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 00:52:12.866 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:52:12.867 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 602.697ms
2025-02-26 00:52:12.868 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 00:52:12.869 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryBU56EanqnBSD2Z1L 252 - 200 - application/json;+charset=utf-8 626.5966ms
2025-02-26 00:52:14.764 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 00:52:14.765 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:52:14.765 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 00:52:14.766 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:52:14.767 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 00:52:14.769 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:52:14.770 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:52:14.771 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:52:14.772 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:52:14.784 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:52:14.784 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:52:14.785 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:52:14.826 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-26 00:52:14.827 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-26 00:52:14.830 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 00:52:14.834 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:52:14.838 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 45.5798ms
2025-02-26 00:52:14.840 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:52:14.840 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 00:52:14.841 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 74.5906ms
2025-02-26 00:52:14.842 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:52:14.846 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:52:14.846 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:52:14.857 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 00:52:14.860 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 00:52:14.867 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:52:14.864 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:52:14.871 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 75.9256ms
2025-02-26 00:52:14.877 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:52:14.876 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 00:52:14.883 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:52:14.886 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:52:14.881 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 00:52:14.878 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 114.4128ms
2025-02-26 00:52:14.877 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 89.901ms
2025-02-26 00:52:14.888 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:52:14.889 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:52:14.894 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:52:14.897 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:52:14.903 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:52:14.898 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 132.9744ms
2025-02-26 00:52:14.907 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 00:52:14.920 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 00:52:14.922 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:52:14.925 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:52:14.928 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 32.0075ms
2025-02-26 00:52:14.929 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 00:52:14.930 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 20.1726ms
2025-02-26 00:52:14.933 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:52:14.935 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:52:14.936 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:52:14.937 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 61.5853ms
2025-02-26 00:52:14.939 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 90.7987ms
2025-02-26 00:52:14.940 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 58.9386ms
2025-02-26 00:52:14.944 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:52:14.946 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 105.7643ms
2025-02-26 00:53:12.986 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 00:53:12.987 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:12.988 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.4086ms
2025-02-26 00:53:12.990 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 00:53:12.991 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:12.993 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:13.007 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:12'.
2025-02-26 00:53:13.009 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 00:53:13.010 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:13.018 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:53:13.036 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 00:53:13.039 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:13.041 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 28.8917ms
2025-02-26 00:53:13.042 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 00:53:13.043 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 53.0444ms
2025-02-26 00:53:13.173 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/8 - -
2025-02-26 00:53:13.175 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/8 - -
2025-02-26 00:53:13.176 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/8 - -
2025-02-26 00:53:13.175 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/8 - -
2025-02-26 00:53:13.184 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:13.185 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:13.187 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/8 - - - 204 - - 13.5833ms
2025-02-26 00:53:13.193 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/8 - - - 204 - - 17.7600ms
2025-02-26 00:53:13.185 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:13.186 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:13.193 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/8 application/json -
2025-02-26 00:53:13.200 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/8 - - - 204 - - 23.7021ms
2025-02-26 00:53:13.201 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/8 - - - 204 - - 26.0066ms
2025-02-26 00:53:13.201 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:13.202 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/8 application/json -
2025-02-26 00:53:13.206 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:13'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:13.206 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:13.213 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:13'.
2025-02-26 00:53:13.214 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:53:13.215 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:53:13.216 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:13.217 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:13.234 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:53:13.237 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 00:53:13.239 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:13.242 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:13.243 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 16.5216ms
2025-02-26 00:53:13.245 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 22.7928ms
2025-02-26 00:53:13.246 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:53:13.246 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/8 application/json -
2025-02-26 00:53:13.246 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/8 application/json -
2025-02-26 00:53:13.247 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:53:13.248 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/8 application/json - - 200 - application/json;+charset=utf-8 55.2163ms
2025-02-26 00:53:13.249 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:13.253 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:13.254 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/8 application/json - - 200 - application/json;+charset=utf-8 52.5119ms
2025-02-26 00:53:13.257 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:13'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:13.258 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:53:13.269 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:13'.
2025-02-26 00:53:13.270 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:13.271 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:53:13.275 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:13.280 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 00:53:13.287 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:53:13.295 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:13.303 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:13.304 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 30.8599ms
2025-02-26 00:53:13.308 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 30.6571ms
2025-02-26 00:53:13.309 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:53:13.310 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:53:13.311 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/8 application/json - - 200 - application/json;+charset=utf-8 64.5097ms
2025-02-26 00:53:13.312 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/8 application/json - - 200 - application/json;+charset=utf-8 66.0551ms
2025-02-26 00:53:17.269 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 00:53:17.269 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 00:53:17.271 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/7 - -
2025-02-26 00:53:17.273 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.272 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 00:53:17.308 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 38.5301ms
2025-02-26 00:53:17.318 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.272 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 00:53:17.326 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:53:17.332 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 60.2500ms
2025-02-26 00:53:17.274 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.295 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.285 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 00:53:17.271 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/7 - -
2025-02-26 00:53:17.340 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.339 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.342 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 73.2172ms
2025-02-26 00:53:17.346 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:17.347 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 75.1816ms
2025-02-26 00:53:17.343 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/7 - - - 204 - - 72.3501ms
2025-02-26 00:53:17.344 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.345 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.276 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 00:53:17.289 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/7 - -
2025-02-26 00:53:17.360 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
2025-02-26 00:53:17.364 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 79.9277ms
2025-02-26 00:53:17.365 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/7 - - - 204 - - 94.5398ms
2025-02-26 00:53:17.366 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.299 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/7 - -
2025-02-26 00:53:17.314 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 00:53:17.318 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 00:53:17.338 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:53:17.344 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/7 application/json -
2025-02-26 00:53:17.367 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/7 application/json -
2025-02-26 00:53:17.367 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.368 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:53:17.371 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 95.3111ms
2025-02-26 00:53:17.372 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.373 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.373 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.374 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.375 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.380 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:53:17.376 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.377 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/7 - - - 204 - - 88.4482ms
2025-02-26 00:53:17.381 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/7 - - - 204 - - 83.7093ms
2025-02-26 00:53:17.383 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 68.4933ms
2025-02-26 00:53:17.384 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 65.5051ms
2025-02-26 00:53:17.385 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:17.386 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:17.389 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:53:17.392 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.421 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
2025-02-26 00:53:17.438 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 49.6752ms
2025-02-26 00:53:17.436 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:17.435 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
2025-02-26 00:53:17.441 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:53:17.443 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:53:17.444 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:53:17.451 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.457 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 130.9262ms
2025-02-26 00:53:17.453 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:53:17.450 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:53:17.455 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 00:53:17.459 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:17.468 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:17.469 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:53:17.477 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.492 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
2025-02-26 00:53:17.506 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 58.0121ms
2025-02-26 00:53:17.510 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:53:17.510 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:53:17.514 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:53:17.515 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.515 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/7 application/json -
2025-02-26 00:53:17.522 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.527 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.523 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:53:17.528 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:53:17.530 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:53:17.531 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/7 application/json -
2025-02-26 00:53:17.529 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 31.3381ms
2025-02-26 00:53:17.526 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 62.3939ms
2025-02-26 00:53:17.524 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/7 application/json - - 200 - application/json;+charset=utf-8 157.7201ms
2025-02-26 00:53:17.536 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.537 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:17.538 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.539 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:53:17.545 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:17.554 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:17.555 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/7 application/json - - 200 - application/json;+charset=utf-8 210.9299ms
2025-02-26 00:53:17.539 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.540 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:53:17.562 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 00:53:17.576 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
2025-02-26 00:53:17.589 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
2025-02-26 00:53:17.595 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:53:17.593 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 57.6214ms
2025-02-26 00:53:17.596 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 258.1768ms
2025-02-26 00:53:17.602 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.603 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:53:17.604 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:53:17.620 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:17.607 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:53:17.618 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 69.7037ms
2025-02-26 00:53:17.618 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:53:17.633 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:53:17.606 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.628 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 186.5448ms
2025-02-26 00:53:17.645 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/7 application/json - - 200 - application/json;+charset=utf-8 130.1484ms
2025-02-26 00:53:17.634 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:53:17.647 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:17.675 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.677 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:53:17.688 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
2025-02-26 00:53:17.694 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 70.7507ms
2025-02-26 00:53:17.697 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:53:17.698 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:53:17.699 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:53:17.700 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.700 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/7 application/json - - 200 - application/json;+charset=utf-8 169.4404ms
2025-02-26 00:53:17.706 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 62.1544ms
2025-02-26 00:53:17.708 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:53:17.708 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.709 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:53:17.710 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.712 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.3418ms
2025-02-26 00:53:17.714 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:53:17.713 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 185.4822ms
2025-02-26 00:53:17.714 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:17.715 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:53:17.716 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.728 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
2025-02-26 00:53:17.728 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 133.3418ms
2025-02-26 00:53:17.730 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:17.731 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:53:17.742 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
2025-02-26 00:53:17.744 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:53:17.745 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:53:17.749 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:53:17.755 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:53:17.759 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.762 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.7125ms
2025-02-26 00:53:17.763 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:53:17.764 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.767 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 53.1715ms
2025-02-26 00:53:17.769 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 21.0756ms
2025-02-26 00:53:17.770 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:53:17.772 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:53:17.773 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:17.774 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 65.7440ms
2025-02-26 00:53:17.775 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:53:17.785 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:53:17'.
2025-02-26 00:53:17.787 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:53:17.788 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:53:17.795 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:53:17.802 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:53:17.804 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.942ms
2025-02-26 00:53:17.805 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:53:17.807 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 36.7152ms
2025-02-26 00:53:18.546 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - -
2025-02-26 00:53:18.546 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - -
2025-02-26 00:53:18.547 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:18.548 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:18.548 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - - - 204 - - 2.7490ms
2025-02-26 00:53:18.550 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - - - 204 - - 3.6403ms
2025-02-26 00:53:18.550 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json -
2025-02-26 00:53:18.553 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:18.554 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:53:18.554 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:18.562 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:53:18.569 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:53:18.573 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 00:53:18.575 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 17.8437ms
2025-02-26 00:53:18.577 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json -
2025-02-26 00:53:18.577 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:53:18.578 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:18.579 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json - - 200 - application/json;+charset=utf-8 28.9143ms
2025-02-26 00:53:18.580 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:53:18.583 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:18.593 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:53:18.601 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:53:18.605 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 00:53:18.608 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 20.6703ms
2025-02-26 00:53:18.609 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:53:18.610 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json - - 200 - application/json;+charset=utf-8 33.7258ms
2025-02-26 00:53:47.688 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - -
2025-02-26 00:53:47.689 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - -
2025-02-26 00:53:47.690 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:47.690 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:47.691 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - - - 204 - - 2.8472ms
2025-02-26 00:53:47.692 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/7 - - - 204 - - 2.7596ms
2025-02-26 00:53:47.692 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json -
2025-02-26 00:53:47.695 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:47.696 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:53:47.697 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:47.705 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:53:47.711 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:53:47.717 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 00:53:47.718 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 19.1529ms
2025-02-26 00:53:47.720 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json -
2025-02-26 00:53:47.720 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:53:47.720 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:53:47.722 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json - - 200 - application/json;+charset=utf-8 29.8620ms
2025-02-26 00:53:47.723 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:53:47.727 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:53:47.733 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:53:47.740 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:53:47.745 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 00:53:47.746 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 16.5393ms
2025-02-26 00:53:47.747 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:53:47.748 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/7 application/json - - 200 - application/json;+charset=utf-8 28.6383ms
2025-02-26 00:54:01.010 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundary8PwOkMLq4ngxwczF 252
2025-02-26 00:54:01.012 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:54:01.013 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 00:54:01.014 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:54:07.145 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 00:54:07.147 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 00:54:07.430 +01:00 [INF] Received HTTP response headers after 281.8381ms - 200
2025-02-26 00:54:07.431 +01:00 [INF] End processing HTTP request after 285.7146ms - 200
2025-02-26 00:54:46.387 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 00:56:58.505 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:56:58.561 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 177544.9479ms
2025-02-26 00:56:58.562 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 00:56:58.563 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundary8PwOkMLq4ngxwczF 252 - 200 - application/json;+charset=utf-8 177552.9796ms
2025-02-26 00:56:58.728 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 00:56:58.729 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:56:58.730 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 00:56:58.730 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:56:58.731 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:56:58.731 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 00:56:58.732 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:56:58.733 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:56:58.733 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:56:58.737 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:56:58.738 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:56:58.741 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:56:58.744 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 00:56:58.741 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 00:56:58.747 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:56:58.749 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 00:56:58.751 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 11.8457ms
2025-02-26 00:56:58.856 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:57:02.342 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:56:58.857 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:57:02.344 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 3599.7332ms
2025-02-26 00:57:02.346 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 3609.7829ms
2025-02-26 00:57:02.345 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 00:56:58.835 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 00:57:02.347 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 3616.6821ms
2025-02-26 00:57:02.347 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 00:57:02.348 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:57:02.349 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:57:02.350 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:57:02.350 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:57:02.352 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:57:02.353 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 3621.2138ms
2025-02-26 00:57:02.353 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 3625.0716ms
2025-02-26 00:57:02.354 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:57:02.355 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:57:02.355 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:57:02.358 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:57:02.359 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:57:02.360 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:57:02.367 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 00:57:02.369 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 00:57:02.371 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:57:02.373 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 00:57:02.375 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:57:02.376 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 13.8357ms
2025-02-26 00:57:02.378 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:57:02.378 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 14.5619ms
2025-02-26 00:57:02.379 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:57:02.380 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 13.7035ms
2025-02-26 00:57:02.381 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:57:02.382 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 37.0930ms
2025-02-26 00:57:02.383 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:57:02.384 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 3548.8828ms
2025-02-26 00:57:02.386 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 39.1175ms
2025-02-26 00:58:03.877 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 00:58:03.878 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:03.879 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 00:58:03.879 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 2.4052ms
2025-02-26 00:58:03.880 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:03.882 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:58:03.884 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 5.7256ms
2025-02-26 00:58:03.885 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:03.887 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:58:03.888 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:58:03.888 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:03.890 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 00:58:03.894 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 00:58:03.896 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 00:58:03.895 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:58:03.896 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:03.902 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:03.894 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:03'.
2025-02-26 00:58:03.896 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:03.910 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:03'.
2025-02-26 00:58:03.910 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:58:03.913 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:58:03.916 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:58:03.917 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:58:03.918 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:58:03.919 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:03.920 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:03.921 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:58:03.922 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:58:03.938 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:03.921 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:03.948 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.8697ms
2025-02-26 00:58:03.950 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:58:03.953 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:58:03.931 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 00:58:03.957 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 75.2664ms
2025-02-26 00:58:03.938 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 00:58:03.951 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:58:03.961 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:03.961 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:03.963 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:03.968 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 24.2058ms
2025-02-26 00:58:03.970 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:58:03.969 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 44.1754ms
2025-02-26 00:58:03.975 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:58:03.973 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:58:03.974 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:03.971 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 44.4025ms
2025-02-26 00:58:03.981 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:58:03.977 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 89.8304ms
2025-02-26 00:58:03.976 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 00:58:03.976 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 82.1062ms
2025-02-26 00:58:03.967 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:03.980 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:58:03.972 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 00:58:03.985 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:03.983 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 86.7670ms
2025-02-26 00:58:03.988 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:58:03.993 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:03'.
2025-02-26 00:58:03.993 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:03.994 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:58:04.001 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:03'.
2025-02-26 00:58:04.002 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:58:04.002 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:58:04.003 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:04.004 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:58:04.006 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:58:04.007 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:04.016 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 00:58:04.010 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:58:04.025 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:04.024 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:58:04.028 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 00:58:04.028 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 00:58:04.029 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 20.3757ms
2025-02-26 00:58:04.030 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:04.033 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:04.035 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:04.037 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:58:04.045 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 26.2344ms
2025-02-26 00:58:04.047 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 71.3560ms
2025-02-26 00:58:04.039 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 18.9786ms
2025-02-26 00:58:04.048 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:58:04.035 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:04.040 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:58:04.049 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:58:04.050 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:58:04.059 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 88.5867ms
2025-02-26 00:58:04.051 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:04.052 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 102.4038ms
2025-02-26 00:58:04.061 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 89.0561ms
2025-02-26 00:58:04.054 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:04.038 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 11.8554ms
2025-02-26 00:58:04.063 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:58:04.064 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:58:04.055 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 00:58:04.066 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:58:04.066 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:58:04.072 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:04'.
2025-02-26 00:58:04.072 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 182.2781ms
2025-02-26 00:58:04.073 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:04.078 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:04'.
2025-02-26 00:58:04.080 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 128.2036ms
2025-02-26 00:58:04.081 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:58:04.083 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:58:04.084 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:58:04.086 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:58:04.087 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:04.088 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:58:04.097 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 00:58:04.097 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:58:04.098 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:04.100 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:04.104 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 10.608ms
2025-02-26 00:58:04.105 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 14.0776ms
2025-02-26 00:58:04.106 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 00:58:04.107 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:58:04.107 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:04.108 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:58:04.109 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:04.111 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 21.5983ms
2025-02-26 00:58:04.112 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 57.1443ms
2025-02-26 00:58:04.110 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 69.4790ms
2025-02-26 00:58:04.113 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 00:58:04.113 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:58:04.114 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:58:04.117 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:04.123 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:04'.
2025-02-26 00:58:04.124 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 76.0683ms
2025-02-26 00:58:04.125 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:58:04.126 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:58:04.131 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:04'.
2025-02-26 00:58:04.132 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:58:04.133 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:58:04.136 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 00:58:04.138 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:04.139 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.1695ms
2025-02-26 00:58:04.140 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 00:58:04.141 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 35.6657ms
2025-02-26 00:58:04.141 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:58:04.149 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:04.151 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.4132ms
2025-02-26 00:58:04.152 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 00:58:04.153 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 40.8400ms
2025-02-26 00:58:21.836 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 00:58:21.837 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:21.837 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 1.7185ms
2025-02-26 00:58:21.840 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 00:58:21.840 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:21.842 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:58:21.847 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:21'.
2025-02-26 00:58:21.848 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 00:58:21.849 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:58:21.855 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:58:21.861 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 00:58:21.864 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:21.865 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 14.172ms
2025-02-26 00:58:21.867 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 00:58:21.868 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 27.9395ms
2025-02-26 00:58:22.464 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/9 - -
2025-02-26 00:58:22.465 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:22.466 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - -
2025-02-26 00:58:22.466 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/9 - - - 204 - - 1.6006ms
2025-02-26 00:58:22.467 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:22.468 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - -
2025-02-26 00:58:22.468 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/9 application/json -
2025-02-26 00:58:22.470 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:22.468 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - - - 204 - - 2.7687ms
2025-02-26 00:58:22.471 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json -
2025-02-26 00:58:22.471 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:22.472 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - - - 204 - - 3.8138ms
2025-02-26 00:58:22.474 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:22.475 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:58:22.477 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:58:22.494 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:22'.
2025-02-26 00:58:22.494 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:58:22.495 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:58:22.498 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:58:22.501 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 00:58:22.505 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:58:22.506 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:22.509 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:22.510 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 13.451ms
2025-02-26 00:58:22.514 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json -
2025-02-26 00:58:22.515 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 14.986ms
2025-02-26 00:58:22.516 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:58:22.516 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/9 application/json -
2025-02-26 00:58:22.517 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:22.518 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:58:22.520 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json - - 200 - application/json;+charset=utf-8 48.7958ms
2025-02-26 00:58:22.521 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:22.521 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:58:22.522 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/9 application/json - - 200 - application/json;+charset=utf-8 53.7749ms
2025-02-26 00:58:22.524 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 00:58:22.525 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:58:22.530 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 23:58:22'.
2025-02-26 00:58:22.534 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:58:22.534 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:58:22.544 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:58:22.545 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 00:58:22.548 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:22.550 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:22.551 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 13.5534ms
2025-02-26 00:58:22.552 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 19.6863ms
2025-02-26 00:58:22.554 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 00:58:22.555 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 00:58:22.556 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/9 application/json - - 200 - application/json;+charset=utf-8 39.4827ms
2025-02-26 00:58:22.557 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json - - 200 - application/json;+charset=utf-8 42.8578ms
2025-02-26 00:58:23.793 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/9 - -
2025-02-26 00:58:23.793 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/9 - -
2025-02-26 00:58:23.794 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:23.794 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:23.795 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/9 - - - 204 - - 2.3110ms
2025-02-26 00:58:23.796 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/9 - - - 204 - - 2.2465ms
2025-02-26 00:58:23.798 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/9 application/json -
2025-02-26 00:58:23.799 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:23.799 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:58:23.800 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:58:23.806 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:58:23.810 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:58:23.813 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 00:58:23.814 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 12.6042ms
2025-02-26 00:58:23.815 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:58:23.816 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/9 application/json -
2025-02-26 00:58:23.816 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/9 application/json - - 200 - application/json;+charset=utf-8 18.5206ms
2025-02-26 00:58:23.817 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:23.819 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:58:23.820 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:58:23.826 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 00:58:23.830 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 00:58:23.832 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 00:58:23.833 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 12.0792ms
2025-02-26 00:58:23.835 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 00:58:23.836 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/9 application/json - - 200 - application/json;+charset=utf-8 19.9611ms
2025-02-26 00:58:33.872 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryArWqM4RYLYTo3lFf 252
2025-02-26 00:58:33.873 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:33.874 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 00:58:33.875 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 00:58:38.391 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 00:58:38.392 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 00:58:38.758 +01:00 [INF] Received HTTP response headers after 364.9746ms - 200
2025-02-26 00:58:38.759 +01:00 [INF] End processing HTTP request after 368.3166ms - 200
2025-02-26 00:58:38.804 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 00:58:38.806 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:38.807 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 4930.0127ms
2025-02-26 00:58:38.807 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 00:58:38.808 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryArWqM4RYLYTo3lFf 252 - 200 - application/json;+charset=utf-8 4936.1474ms
2025-02-26 00:58:38.905 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 00:58:38.907 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:38.907 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 00:58:38.907 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:58:38.908 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:38.909 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 00:58:38.909 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:38.910 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:58:38.910 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:38.913 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:38.914 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:58:38.917 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 00:58:38.917 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:38.921 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:38.925 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 12.3126ms
2025-02-26 00:58:38.926 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:58:38.926 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 00:58:38.928 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 00:58:38.930 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:38.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 24.6180ms
2025-02-26 00:58:38.932 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:38.932 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:58:38.937 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:38.936 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 12.0208ms
2025-02-26 00:58:38.938 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 00:58:38.940 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:58:38.941 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:38.945 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 00:58:38.947 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 38.2735ms
2025-02-26 00:58:38.947 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:58:38.951 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:38.953 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:38.955 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 15.4157ms
2025-02-26 00:58:38.957 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 00:58:38.958 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 31.7332ms
2025-02-26 00:58:38.960 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 00:58:38.963 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:38.964 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 8.0185ms
2025-02-26 00:58:38.965 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 00:58:38.966 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 28.7988ms
2025-02-26 00:58:38.970 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 00:58:38.972 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:38.973 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 56.924ms
2025-02-26 00:58:38.974 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:58:38.974 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 00:58:38.974 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 67.5246ms
2025-02-26 00:58:38.975 +01:00 [INF] CORS policy execution successful.
2025-02-26 00:58:38.976 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:58:38.977 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 00:58:38.983 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 00:58:38.986 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 00:58:38.988 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 9.5432ms
2025-02-26 00:58:38.989 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 00:58:38.991 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 16.8332ms
2025-02-26 01:00:47.537 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 01:00:47.538 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:47.539 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.6705ms
2025-02-26 01:00:47.541 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 01:00:47.542 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:47.544 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:00:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:00:47.550 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:00:47'.
2025-02-26 01:00:47.552 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 01:00:47.554 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:00:47.563 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:00:47.568 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 01:00:47.571 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:00:47.572 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 16.5589ms
2025-02-26 01:00:47.574 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 01:00:47.576 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 34.8221ms
2025-02-26 01:00:47.735 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/10 - -
2025-02-26 01:00:47.744 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/10 - -
2025-02-26 01:00:47.749 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:47.746 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/10 - -
2025-02-26 01:00:47.747 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:47.744 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/10 - -
2025-02-26 01:00:47.753 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/10 - - - 204 - - 18.2724ms
2025-02-26 01:00:47.751 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/10 - - - 204 - - 7.4343ms
2025-02-26 01:00:47.758 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:47.764 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/10 application/json -
2025-02-26 01:00:47.752 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:47.755 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/10 application/json -
2025-02-26 01:00:47.769 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/10 - - - 204 - - 24.7125ms
2025-02-26 01:00:47.770 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:47.771 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/10 - - - 204 - - 25.6551ms
2025-02-26 01:00:47.773 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:47.776 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:00:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:00:47.778 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:00:47.787 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:00:47'.
2025-02-26 01:00:47.790 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:00:47.791 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:00:47.796 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:00:47.821 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:00:47.828 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:00:47.834 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:00:47.836 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:00:47.838 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 38.5928ms
2025-02-26 01:00:47.841 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/10 application/json -
2025-02-26 01:00:47.840 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 45.7193ms
2025-02-26 01:00:47.846 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/10 application/json -
2025-02-26 01:00:47.847 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:00:47.848 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:47.849 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:00:47.852 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/10 application/json - - 200 - application/json;+charset=utf-8 88.7192ms
2025-02-26 01:00:47.851 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:47.855 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:00:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:00:47.856 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/10 application/json - - 200 - application/json;+charset=utf-8 100.6781ms
2025-02-26 01:00:47.861 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:00:47.867 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:00:47'.
2025-02-26 01:00:47.869 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:00:47.870 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:00:47.875 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:00:47.882 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:00:47.892 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:00:47.892 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:00:47.895 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:00:47.896 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 21.695ms
2025-02-26 01:00:47.899 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:00:47.898 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 14.1997ms
2025-02-26 01:00:47.901 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:00:47.900 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/10 application/json - - 200 - application/json;+charset=utf-8 54.3415ms
2025-02-26 01:00:47.902 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/10 application/json - - 200 - application/json;+charset=utf-8 61.5420ms
2025-02-26 01:00:49.136 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/10 - -
2025-02-26 01:00:49.136 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/10 - -
2025-02-26 01:00:49.138 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:49.139 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:49.140 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/10 - - - 204 - - 3.8196ms
2025-02-26 01:00:49.142 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/10 - - - 204 - - 6.0889ms
2025-02-26 01:00:49.143 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/10 application/json -
2025-02-26 01:00:49.146 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:49.147 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:00:49.148 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:00:49.158 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:00:49.174 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:00:49.198 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:00:49.202 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 51.332ms
2025-02-26 01:00:49.205 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/10 application/json -
2025-02-26 01:00:49.206 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:00:49.207 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:00:49.208 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/10 application/json - - 200 - application/json;+charset=utf-8 65.3765ms
2025-02-26 01:00:49.210 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:00:49.215 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:00:49.237 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:00:49.246 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:00:49.252 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:00:49.258 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 28.9616ms
2025-02-26 01:00:49.266 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:00:49.269 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/10 application/json - - 200 - application/json;+charset=utf-8 64.7975ms
2025-02-26 01:01:00.756 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundarylV0FkABfzXD01poR 253
2025-02-26 01:01:00.757 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:00.758 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:01:00.759 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:01:00.764 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:01:00.765 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:01:01.091 +01:00 [INF] Received HTTP response headers after 324.3923ms - 200
2025-02-26 01:01:01.092 +01:00 [INF] End processing HTTP request after 328.0192ms - 200
2025-02-26 01:01:01.144 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 01:01:01.146 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:01.147 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 385.9776ms
2025-02-26 01:01:01.148 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:01:01.149 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundarylV0FkABfzXD01poR 253 - 200 - application/json;+charset=utf-8 392.7913ms
2025-02-26 01:01:01.277 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 01:01:01.278 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:01.279 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 01:01:01.279 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 01:01:01.279 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:01.281 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 01:01:01.280 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:01:01.280 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 01:01:01.282 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:01:01.285 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:01.289 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 01:01:01.290 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 01:01:01.291 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:01:01.293 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 01:01:01.294 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:01.298 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:01.299 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 01:01:01.300 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 01:01:01.301 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 13.753ms
2025-02-26 01:01:01.299 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 14.5688ms
2025-02-26 01:01:01.302 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 01:01:01.303 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:01.304 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:01.307 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 11.005ms
2025-02-26 01:01:01.308 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 01:01:01.311 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 01:01:01.304 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 01:01:01.305 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 01:01:01.313 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:01:01.314 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:01.312 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 01:01:01.314 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 35.8059ms
2025-02-26 01:01:01.319 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 41.7663ms
2025-02-26 01:01:01.323 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 01:01:01.324 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 44.5141ms
2025-02-26 01:01:01.328 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 01:01:01.306 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:01.330 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:01:01.333 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:01.334 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 01:01:01.338 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 15.4868ms
2025-02-26 01:01:01.340 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:01:01.343 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 01:01:01.341 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 01:01:01.346 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:01.348 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 01:01:01.347 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 46.5052ms
2025-02-26 01:01:01.350 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 13.1579ms
2025-02-26 01:01:01.353 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:01.355 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 01:01:01.356 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 12.207ms
2025-02-26 01:01:01.356 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 45.7012ms
2025-02-26 01:01:01.359 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 01:01:01.361 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 58.9071ms
2025-02-26 01:01:54.041 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 01:01:54.042 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:54.043 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.6092ms
2025-02-26 01:01:54.045 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 01:01:54.045 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:54.046 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:01:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:01:54.052 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:01:54'.
2025-02-26 01:01:54.054 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 01:01:54.054 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:01:54.064 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:01:54.070 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 01:01:54.072 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:54.073 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 16.5124ms
2025-02-26 01:01:54.075 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 01:01:54.075 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 30.7585ms
2025-02-26 01:01:54.204 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/11 - -
2025-02-26 01:01:54.204 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - -
2025-02-26 01:01:54.211 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/11 - -
2025-02-26 01:01:54.211 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - -
2025-02-26 01:01:54.213 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:54.214 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:54.218 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/11 - - - 204 - - 14.4352ms
2025-02-26 01:01:54.217 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:54.224 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/11 application/json -
2025-02-26 01:01:54.219 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - - - 204 - - 14.8833ms
2025-02-26 01:01:54.240 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:54.228 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - - - 204 - - 17.6597ms
2025-02-26 01:01:54.216 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:54.231 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json -
2025-02-26 01:01:54.245 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:01:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:01:54.247 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/11 - - - 204 - - 36.4970ms
2025-02-26 01:01:54.248 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:54.260 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:01:54'.
2025-02-26 01:01:54.262 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:01:54.264 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:01:54.292 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:01:54.294 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:01:54.307 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:01:54.333 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:54.337 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:01:54.337 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 39.7546ms
2025-02-26 01:01:54.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json -
2025-02-26 01:01:54.344 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:54.345 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:01:54.345 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:54.346 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 39.3232ms
2025-02-26 01:01:54.351 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:01:54.350 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json - - 200 - application/json;+charset=utf-8 118.6659ms
2025-02-26 01:01:54.374 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/11 application/json -
2025-02-26 01:01:54.379 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:01:54.400 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/11 application/json - - 200 - application/json;+charset=utf-8 175.9224ms
2025-02-26 01:01:54.399 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:54.380 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:01:54.419 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:01:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:01:54.645 +01:00 [INF] Executed DbCommand (218ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:01:54.650 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:01:54'.
2025-02-26 01:01:54.653 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:01:54.654 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:54.654 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:01:54.655 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 233.2286ms
2025-02-26 01:01:54.658 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:01:54.659 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json - - 200 - application/json;+charset=utf-8 319.8490ms
2025-02-26 01:01:54.667 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:01:54.687 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:01:54.696 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 38.419ms
2025-02-26 01:01:54.712 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:01:54.716 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/11 application/json - - 200 - application/json;+charset=utf-8 341.3339ms
2025-02-26 01:01:55.246 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/11 - -
2025-02-26 01:01:55.246 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/11 - -
2025-02-26 01:01:55.248 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:55.249 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:55.250 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/11 - - - 204 - - 3.8831ms
2025-02-26 01:01:55.251 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/11 - - - 204 - - 4.7832ms
2025-02-26 01:01:55.256 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/11 application/json -
2025-02-26 01:01:55.257 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:55.258 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:01:55.259 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:01:55.283 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:01:55.329 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:01:55.442 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:01:55.445 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 184.0921ms
2025-02-26 01:01:55.449 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/11 application/json -
2025-02-26 01:01:55.449 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:01:55.450 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:01:55.451 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/11 application/json - - 200 - application/json;+charset=utf-8 195.6445ms
2025-02-26 01:01:55.454 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:01:55.461 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:01:55.511 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:01:55.519 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:01:55.529 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:01:55.533 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 34.1351ms
2025-02-26 01:01:55.539 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:01:55.542 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/11 application/json - - 200 - application/json;+charset=utf-8 93.2095ms
2025-02-26 01:02:04.085 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundarytAAm4VKjCzsBnL1N 253
2025-02-26 01:02:04.086 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:04.087 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:02:04.088 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:02:04.093 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:02:04.094 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:02:04.289 +01:00 [INF] Received HTTP response headers after 194.3478ms - 200
2025-02-26 01:02:04.290 +01:00 [INF] End processing HTTP request after 197.0715ms - 200
2025-02-26 01:02:04.339 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 01:02:04.342 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:04.343 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 253.3759ms
2025-02-26 01:02:04.344 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:02:04.345 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundarytAAm4VKjCzsBnL1N 253 - 200 - application/json;+charset=utf-8 259.8824ms
2025-02-26 01:02:04.458 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 01:02:04.459 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:04.460 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 01:02:04.460 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 01:02:04.462 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 01:02:04.461 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:04.462 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:02:04.463 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:04.464 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 01:02:04.468 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 01:02:04.469 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:02:04.471 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:02:04.472 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 01:02:04.477 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 01:02:04.480 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:04.483 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:04.484 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 17.3577ms
2025-02-26 01:02:04.488 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 01:02:04.489 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 01:02:04.486 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 01:02:04.487 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 13.1074ms
2025-02-26 01:02:04.489 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 30.8238ms
2025-02-26 01:02:04.500 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:04.502 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:04.503 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 01:02:04.504 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 01:02:04.505 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 01:02:04.508 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:02:04.507 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:02:04.506 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 46.5124ms
2025-02-26 01:02:04.514 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 01:02:04.517 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 01:02:04.519 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:04.522 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:04.523 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 13.1999ms
2025-02-26 01:02:04.525 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 13.3459ms
2025-02-26 01:02:04.526 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 01:02:04.527 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 01:02:04.528 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 41.1885ms
2025-02-26 01:02:04.529 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 40.0279ms
2025-02-26 01:02:04.533 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 01:02:04.535 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:04.536 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 60.6256ms
2025-02-26 01:02:04.538 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 01:02:04.538 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 01:02:04.539 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 77.3950ms
2025-02-26 01:02:04.540 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:04.542 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 01:02:04.543 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 01:02:04.549 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 01:02:04.554 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:04.555 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 9.7839ms
2025-02-26 01:02:04.557 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 01:02:04.558 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 20.3558ms
2025-02-26 01:02:51.515 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 01:02:51.516 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:51.517 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 1.6513ms
2025-02-26 01:02:51.518 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 01:02:51.519 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:51.520 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:02:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:02:51.525 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:02:51'.
2025-02-26 01:02:51.526 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 01:02:51.527 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:02:51.533 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:02:51.540 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 01:02:51.542 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:51.543 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 14.5283ms
2025-02-26 01:02:51.544 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 01:02:51.545 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 26.8348ms
2025-02-26 01:02:51.667 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-26 01:02:51.671 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-26 01:02:51.672 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:51.673 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-26 01:02:51.673 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:51.676 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-26 01:02:51.686 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:51.687 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 16.0933ms
2025-02-26 01:02:51.697 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 23.9738ms
2025-02-26 01:02:51.685 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-26 01:02:51.694 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:51.675 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 7.9127ms
2025-02-26 01:02:51.696 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-26 01:02:51.716 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:51.717 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 40.7448ms
2025-02-26 01:02:51.719 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:51.722 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:02:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:02:51.723 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:02:51.731 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:02:51'.
2025-02-26 01:02:51.732 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:02:51.734 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:02:51.738 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:02:51.742 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:02:51.746 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:02:51.749 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:51.753 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:51.757 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-26 01:02:51.755 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 18.205ms
2025-02-26 01:02:51.758 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 17.7893ms
2025-02-26 01:02:51.759 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:51.760 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-26 01:02:51.772 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:02:51.774 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:02:51.775 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:02:51.776 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:51.777 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 81.2063ms
2025-02-26 01:02:51.779 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 93.1937ms
2025-02-26 01:02:51.780 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:02:51.782 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:02:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:02:51.805 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:02:51'.
2025-02-26 01:02:51.806 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:02:51.807 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:02:51.817 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:02:51.825 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:02:51.829 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:51.834 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:02:51.835 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 48.982ms
2025-02-26 01:02:51.838 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 23.1342ms
2025-02-26 01:02:51.840 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:02:51.841 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:02:51.843 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 85.9084ms
2025-02-26 01:02:51.845 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 85.0848ms
2025-02-26 01:02:52.801 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - -
2025-02-26 01:02:52.804 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - -
2025-02-26 01:02:52.805 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:52.806 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:52.807 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - - - 204 - - 5.5330ms
2025-02-26 01:02:52.808 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - - - 204 - - 3.6824ms
2025-02-26 01:02:52.809 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json -
2025-02-26 01:02:52.811 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:52.811 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:02:52.812 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:02:52.819 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:02:52.824 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:02:52.826 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:02:52.827 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 12.8624ms
2025-02-26 01:02:52.828 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:02:52.828 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json -
2025-02-26 01:02:52.830 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json - - 200 - application/json;+charset=utf-8 20.8157ms
2025-02-26 01:02:52.831 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:02:52.833 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:02:52.833 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:02:52.840 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:02:52.850 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:02:52.853 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:02:52.854 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 19.2264ms
2025-02-26 01:02:52.856 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:02:52.858 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json - - 200 - application/json;+charset=utf-8 29.4126ms
2025-02-26 01:03:12.748 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryK5GpnOeUv5890QFj 253
2025-02-26 01:03:12.750 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:03:12.751 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:03:12.753 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:03:12.758 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:03:12.759 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:03:13.005 +01:00 [INF] Received HTTP response headers after 244.9409ms - 200
2025-02-26 01:03:13.006 +01:00 [INF] End processing HTTP request after 248.2761ms - 200
2025-02-26 01:03:13.051 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 01:03:13.053 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:03:13.054 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 299.6885ms
2025-02-26 01:03:13.055 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:03:13.055 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryK5GpnOeUv5890QFj 253 - 200 - application/json;+charset=utf-8 307.0170ms
2025-02-26 01:04:51.615 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 01:04:51.617 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 01:04:51.618 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.619 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.620 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-26 01:04:51.620 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 4.6911ms
2025-02-26 01:04:51.630 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-26 01:04:51.632 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:04:51.641 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.645 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.630 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:04:51.660 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:04:51.657 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 27.4092ms
2025-02-26 01:04:51.668 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.630 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.680 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
2025-02-26 01:04:51.682 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:04:51.692 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-26 01:04:51.689 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:04:51.622 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 5.1745ms
2025-02-26 01:04:51.683 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 63.0589ms
2025-02-26 01:04:51.641 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-26 01:04:51.733 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.739 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 98.0478ms
2025-02-26 01:04:51.711 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
2025-02-26 01:04:51.723 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.728 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:04:51.746 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:04:51.646 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-26 01:04:51.668 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-26 01:04:51.748 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:04:51.751 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:04:51.752 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.752 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.755 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:04:51.757 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
2025-02-26 01:04:51.759 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 113.1992ms
2025-02-26 01:04:51.763 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:04:51.760 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:51.759 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:04:51.765 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:04:51.766 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.8058ms
2025-02-26 01:04:51.767 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:04:51.765 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:51.767 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:04:51.770 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:04:51.776 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 145.9931ms
2025-02-26 01:04:51.775 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.773 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:04:51.776 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:04:51.774 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 23.7004ms
2025-02-26 01:04:51.781 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:04:51.784 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:51.784 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.785 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:04:51.801 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
2025-02-26 01:04:51.808 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 38.7936ms
2025-02-26 01:04:51.810 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:04:51.811 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-26 01:04:51.812 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 180.5455ms
2025-02-26 01:04:51.813 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:04:51.815 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:04:51.856 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
2025-02-26 01:04:51.857 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.861 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:04:51.862 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 169.9560ms
2025-02-26 01:04:51.863 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:04:51.865 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:04:51.869 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:04:51.870 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:51.876 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
2025-02-26 01:04:51.881 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 13.9109ms
2025-02-26 01:04:51.884 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:04:51.885 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:04:51.883 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:04:51.889 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 122.0275ms
2025-02-26 01:04:51.889 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.896 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:04:51.883 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:04:51.897 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:51.904 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
2025-02-26 01:04:51.905 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:04:51.912 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 33.7778ms
2025-02-26 01:04:51.910 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:04:51.913 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:04:51.913 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:04:51.917 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:51.918 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:04:51.926 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 154.5132ms
2025-02-26 01:04:51.924 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:04:51.923 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.927 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:04:51.930 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:04:51.929 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 153.3225ms
2025-02-26 01:04:51.928 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-26 01:04:51.933 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:04:51.935 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:51.937 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:51.937 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 269.4477ms
2025-02-26 01:04:51.950 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 17.9814ms
2025-02-26 01:04:51.947 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
2025-02-26 01:04:51.940 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.952 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:04:51.953 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 31.22ms
2025-02-26 01:04:51.955 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:04:51.956 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:04:51.957 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:04:51.958 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.958 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:04:51.959 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 75.6673ms
2025-02-26 01:04:51.960 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:04:51.961 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:04:51.962 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:04:51.975 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:04:51.979 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:04:51.963 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 152.2975ms
2025-02-26 01:04:51.980 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:51'.
2025-02-26 01:04:51.986 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:51.987 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:51.988 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:04:51.989 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 17.7503ms
2025-02-26 01:04:51.991 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 23.2796ms
2025-02-26 01:04:51.992 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:04:51.992 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:04:51.994 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:04:51.994 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:04:51.997 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:51.998 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 70.2263ms
2025-02-26 01:04:51.999 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 86.3961ms
2025-02-26 01:04:52.000 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:52.001 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:04:52.007 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 11.3497ms
2025-02-26 01:04:52.014 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:04:52'.
2025-02-26 01:04:52.015 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:04:52.016 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:04:52.017 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 65.7316ms
2025-02-26 01:04:52.020 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:04:52.028 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:04:52.039 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:04:52.045 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 21.9869ms
2025-02-26 01:04:52.048 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:04:52.049 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 56.4694ms
2025-02-26 01:04:52.839 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - -
2025-02-26 01:04:52.839 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - -
2025-02-26 01:04:52.840 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:52.840 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:52.841 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - - - 204 - - 2.2689ms
2025-02-26 01:04:52.841 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - - - 204 - - 2.0290ms
2025-02-26 01:04:52.843 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json -
2025-02-26 01:04:52.844 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:52.845 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:04:52.846 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:04:52.852 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:04:52.856 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:04:52.860 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:04:52.861 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 13.2903ms
2025-02-26 01:04:52.862 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json -
2025-02-26 01:04:52.862 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:04:52.863 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:04:52.863 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json - - 200 - application/json;+charset=utf-8 20.8006ms
2025-02-26 01:04:52.864 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:04:52.866 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:04:52.875 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:04:52.879 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:04:52.882 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:04:52.883 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 15.8655ms
2025-02-26 01:04:52.884 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:04:52.885 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json - - 200 - application/json;+charset=utf-8 23.1688ms
2025-02-26 01:05:03.347 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryobFCJF5Gz0FhMLKP 253
2025-02-26 01:05:03.349 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:03.350 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:05:03.351 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:05:03.356 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:05:03.358 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:05:03.676 +01:00 [INF] Received HTTP response headers after 317.2748ms - 200
2025-02-26 01:05:03.678 +01:00 [INF] End processing HTTP request after 321.7443ms - 200
2025-02-26 01:05:03.727 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 01:05:03.730 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:03.731 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 377.6997ms
2025-02-26 01:05:03.732 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:05:03.733 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryobFCJF5Gz0FhMLKP 253 - 200 - application/json;+charset=utf-8 386.0236ms
2025-02-26 01:05:54.982 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 01:05:54.982 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 01:05:54.984 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:54.985 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:54.987 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 4.2141ms
2025-02-26 01:05:54.985 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-26 01:05:54.987 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 5.0486ms
2025-02-26 01:05:55.003 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-26 01:05:55.052 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-26 01:05:55.006 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.060 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.061 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.065 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 61.9038ms
2025-02-26 01:05:55.066 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 13.6703ms
2025-02-26 01:05:55.073 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-26 01:05:55.074 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-26 01:05:55.064 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 78.4569ms
2025-02-26 01:05:55.049 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:05:55.052 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:05:55.053 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-26 01:05:55.078 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.078 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.081 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.082 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.086 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:05:55.086 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:05:55.088 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:05:55.084 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.088 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:05:55.093 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
2025-02-26 01:05:55.094 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:05:55.099 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
2025-02-26 01:05:55.101 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 48.3851ms
2025-02-26 01:05:55.108 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:05:55.115 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:05:55.112 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:05:55.107 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
2025-02-26 01:05:55.116 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:05:55.121 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.121 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:05:55.122 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:05:55.125 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 14.9465ms
2025-02-26 01:05:55.131 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:05:55.134 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:05:55.134 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-26 01:05:55.135 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:05:55.131 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:05:55.138 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 63.6736ms
2025-02-26 01:05:55.139 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.140 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.145 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.146 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.150 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:05:55.149 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.1091ms
2025-02-26 01:05:55.147 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:05:55.153 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.157 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:05:55.152 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-26 01:05:55.156 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:05:55.166 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:05:55.152 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 25.0719ms
2025-02-26 01:05:55.150 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 26.0702ms
2025-02-26 01:05:55.176 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:05:55.176 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.177 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.191 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
2025-02-26 01:05:55.191 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:05:55.178 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 126.0759ms
2025-02-26 01:05:55.181 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:05:55.183 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:05:55.192 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:05:55.192 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:05:55.193 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:05:55.198 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
2025-02-26 01:05:55.199 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 149.8426ms
2025-02-26 01:05:55.200 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 127.0366ms
2025-02-26 01:05:55.203 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.213 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
2025-02-26 01:05:55.225 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:05:55.215 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:05:55.218 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 38.1958ms
2025-02-26 01:05:55.213 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:05:55.227 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:05:55.228 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:05:55.230 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:05:55.236 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.244 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 110.1757ms
2025-02-26 01:05:55.246 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.0621ms
2025-02-26 01:05:55.259 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:05:55.261 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:05:55.252 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:05:55.270 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.267 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 116.3228ms
2025-02-26 01:05:55.264 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:05:55.270 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.273 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.271 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 28.4438ms
2025-02-26 01:05:55.275 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:05:55.275 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 34.0248ms
2025-02-26 01:05:55.276 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:05:55.277 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:05:55.278 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.279 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:05:55.283 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
2025-02-26 01:05:55.284 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 127.4191ms
2025-02-26 01:05:55.286 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:05:55.286 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 134.7795ms
2025-02-26 01:05:55.287 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:05:55.293 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
2025-02-26 01:05:55.295 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:05:55.297 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:05:55.300 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:05:55.302 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.304 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.672ms
2025-02-26 01:05:55.315 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:05:55.318 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:05:55.325 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:05:55.327 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.328 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 64.4938ms
2025-02-26 01:05:55.331 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:05:55.333 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.350 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
2025-02-26 01:05:55.353 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:05:55.351 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 48.6796ms
2025-02-26 01:05:55.356 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:05:55.356 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:05:55.359 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:55.358 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:05:55.365 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.366 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:05:55.366 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 91.2599ms
2025-02-26 01:05:55.367 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.0219ms
2025-02-26 01:05:55.381 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:05:55'.
2025-02-26 01:05:55.384 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:05:55.386 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:05:55.387 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 69.1117ms
2025-02-26 01:05:55.388 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:05:55.398 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:05:55.406 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:05:55.408 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 15.1055ms
2025-02-26 01:05:55.410 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:05:55.412 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 56.4554ms
2025-02-26 01:05:56.106 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - -
2025-02-26 01:05:56.108 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - -
2025-02-26 01:05:56.111 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:56.111 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:56.114 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - - - 204 - - 5.9846ms
2025-02-26 01:05:56.117 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - - - 204 - - 11.6025ms
2025-02-26 01:05:56.120 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json -
2025-02-26 01:05:56.131 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:56.137 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:05:56.141 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:05:56.159 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:05:56.215 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:05:56.242 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:05:56.248 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 100.5412ms
2025-02-26 01:05:56.256 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json -
2025-02-26 01:05:56.257 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:05:56.259 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:05:56.260 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json - - 200 - application/json;+charset=utf-8 140.1819ms
2025-02-26 01:05:56.261 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:05:56.267 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:05:56.278 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:05:56.287 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:05:56.291 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:05:56.293 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 22.2826ms
2025-02-26 01:05:56.296 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:05:56.297 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json - - 200 - application/json;+charset=utf-8 41.6211ms
2025-02-26 01:06:06.456 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryr1wO2ao6ykHLt5ra 253
2025-02-26 01:06:06.459 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:06:06.460 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:06:06.461 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:06:06.465 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:06:06.467 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:06:06.729 +01:00 [INF] Received HTTP response headers after 261.3609ms - 200
2025-02-26 01:06:06.730 +01:00 [INF] End processing HTTP request after 265.2186ms - 200
2025-02-26 01:06:06.785 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 01:06:06.789 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:06:06.790 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 327.2174ms
2025-02-26 01:06:06.791 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:06:06.792 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryr1wO2ao6ykHLt5ra 253 - 200 - application/json;+charset=utf-8 335.5321ms
2025-02-26 01:07:09.195 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 01:07:09.196 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-26 01:07:09.200 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.195 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 01:07:09.200 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 01:07:09.265 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 69.8679ms
2025-02-26 01:07:09.273 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.196 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-26 01:07:09.200 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 01:07:09.273 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 01:07:09.264 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.289 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 01:07:09.290 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 94.8695ms
2025-02-26 01:07:09.288 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.299 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.299 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-26 01:07:09.291 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.292 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.292 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.302 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-26 01:07:09.298 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 102.1220ms
2025-02-26 01:07:09.308 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 18.4254ms
2025-02-26 01:07:09.308 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.332 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:07:09.307 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 106.5529ms
2025-02-26 01:07:09.309 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 113.6788ms
2025-02-26 01:07:09.310 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 110.6315ms
2025-02-26 01:07:09.311 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 37.8211ms
2025-02-26 01:07:09.311 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.315 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 01:07:09.322 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 01:07:09.332 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 32.9047ms
2025-02-26 01:07:09.334 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:07:09.335 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-26 01:07:09.336 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-26 01:07:09.339 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 37.1458ms
2025-02-26 01:07:09.340 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.333 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.346 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.347 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.348 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.354 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 33.8271ms
2025-02-26 01:07:09.349 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.350 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 36.3903ms
2025-02-26 01:07:09.355 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:07:09.356 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:07:09.353 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:07:09.358 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:07:09.363 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
2025-02-26 01:07:09.364 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:07:09.368 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
2025-02-26 01:07:09.372 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
2025-02-26 01:07:09.374 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:07:09.376 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:07:09.377 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:07:09.378 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:07:09.388 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:07:09.388 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:07:09.395 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:07:09.397 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.379 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:07:09.403 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 27.2581ms
2025-02-26 01:07:09.405 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.405 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-26 01:07:09.407 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:07:09.408 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.408 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 17.9031ms
2025-02-26 01:07:09.409 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.412 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:07:09.426 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:07:09.439 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:07:09.410 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 74.8077ms
2025-02-26 01:07:09.411 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.5754ms
2025-02-26 01:07:09.447 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:07:09.448 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 115.2778ms
2025-02-26 01:07:09.441 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.443 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:07:09.436 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:07:09.440 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 106.2570ms
2025-02-26 01:07:09.451 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:07:09.454 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.459 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:07:09.464 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
2025-02-26 01:07:09.466 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:07:09.472 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.473 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:07:09.480 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
2025-02-26 01:07:09.483 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 29.8821ms
2025-02-26 01:07:09.486 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:07:09.484 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:07:09.495 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:07:09.494 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:07:09.514 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:07:09.519 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.517 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 112.0323ms
2025-02-26 01:07:09.522 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.0697ms
2025-02-26 01:07:09.521 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.522 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:07:09.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:07:09.527 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:07:09.535 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-26 01:07:09.540 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.528 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 136.1304ms
2025-02-26 01:07:09.537 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 110.8441ms
2025-02-26 01:07:09.535 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.537 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.542 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:07:09.547 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:07:09.551 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:07:09.542 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:07:09.548 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 33.6782ms
2025-02-26 01:07:09.555 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
2025-02-26 01:07:09.561 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
2025-02-26 01:07:09.561 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.562 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 226.5071ms
2025-02-26 01:07:09.564 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:07:09.565 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:07:09.563 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:07:09.567 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:07:09.569 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:07:09.570 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:07:09.571 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 144.5755ms
2025-02-26 01:07:09.576 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
2025-02-26 01:07:09.589 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:07:09.589 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.590 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:07:09.593 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.596 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 15.3233ms
2025-02-26 01:07:09.596 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:07:09.597 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:07:09.597 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 19.9122ms
2025-02-26 01:07:09.598 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:07:09.601 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.603 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:07:09.604 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 77.2014ms
2025-02-26 01:07:09.607 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:07:09.609 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:07:09.609 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 74.7023ms
2025-02-26 01:07:09.616 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
2025-02-26 01:07:09.620 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:07:09.623 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.623 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:07:09.643 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 43.1365ms
2025-02-26 01:07:09.650 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:07:09.674 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:07:09.650 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.676 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 125.5255ms
2025-02-26 01:07:09.678 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:09.680 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 34.3933ms
2025-02-26 01:07:09.683 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:07:09.683 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:07:09.692 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 94.8344ms
2025-02-26 01:07:09.690 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:07:09'.
2025-02-26 01:07:09.694 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:07:09.695 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:07:09.703 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:07:09.714 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:09.716 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 18.7053ms
2025-02-26 01:07:09.717 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:07:09.718 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 44.0469ms
2025-02-26 01:07:10.483 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - -
2025-02-26 01:07:10.486 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - -
2025-02-26 01:07:10.486 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:10.487 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:10.488 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - - - 204 - - 4.4773ms
2025-02-26 01:07:10.492 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json -
2025-02-26 01:07:10.492 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/12 - - - 204 - - 6.4336ms
2025-02-26 01:07:10.494 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:10.499 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:07:10.509 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:07:10.589 +01:00 [INF] Executed DbCommand (70ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:07:10.629 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:07:10.641 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:07:10.647 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 131.9562ms
2025-02-26 01:07:10.652 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json -
2025-02-26 01:07:10.655 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:07:10.656 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:10.657 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json - - 200 - application/json;+charset=utf-8 165.6568ms
2025-02-26 01:07:10.659 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:07:10.666 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:07:10.695 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:07:10.703 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:07:10.709 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:07:10.710 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 39.6494ms
2025-02-26 01:07:10.713 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:07:10.715 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/12 application/json - - 200 - application/json;+charset=utf-8 62.5554ms
2025-02-26 01:07:19.445 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryPhhKMEEUrAdVBL9p 253
2025-02-26 01:07:19.446 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:19.448 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:07:19.449 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:07:19.455 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:07:19.456 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:07:19.717 +01:00 [INF] Received HTTP response headers after 259.5302ms - 200
2025-02-26 01:07:19.718 +01:00 [INF] End processing HTTP request after 262.9094ms - 200
2025-02-26 01:07:19.765 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 01:07:19.767 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:19.769 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 318.1108ms
2025-02-26 01:07:19.770 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:07:19.771 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryPhhKMEEUrAdVBL9p 253 - 200 - application/json;+charset=utf-8 326.1536ms
2025-02-26 01:07:28.421 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryCSP5vAy8JkyNGB5t 241
2025-02-26 01:07:28.422 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:07:28.423 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:07:28.424 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:07:28.430 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:07:28.431 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:07:28.650 +01:00 [INF] Received HTTP response headers after 217.7743ms - 200
2025-02-26 01:07:28.651 +01:00 [INF] End processing HTTP request after 220.6791ms - 200
2025-02-26 01:07:28.652 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:07:28.653 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:07:28.707 +01:00 [INF] Received HTTP response headers after 52.995ms - 400
2025-02-26 01:07:28.708 +01:00 [INF] End processing HTTP request after 55.7624ms - 400
2025-02-26 01:07:28.777 +01:00 [ERR] Błąd w MapController.SaveMap
System.Net.Http.HttpRequestException: API request failed with status code BadRequest
   at JurMaps.Shared.Helpers.AnalyzeText(String text) in E:\jurmaps2\Shared\Helpers.cs:line 41
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 248
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 01:07:28.780 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:07:28.781 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 354.5664ms
2025-02-26 01:07:28.782 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:07:28.783 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryCSP5vAy8JkyNGB5t 241 - 200 - application/json;+charset=utf-8 362.3515ms
2025-02-26 01:08:25.220 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryb3UPv1qdnHqdHKxX 241
2025-02-26 01:08:25.222 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:08:25.223 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:08:25.224 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:08:25.228 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:08:25.229 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:08:25.506 +01:00 [INF] Received HTTP response headers after 275.4065ms - 200
2025-02-26 01:08:25.507 +01:00 [INF] End processing HTTP request after 279.5572ms - 200
2025-02-26 01:08:25.509 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:08:25.510 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:08:25.564 +01:00 [INF] Received HTTP response headers after 52.9085ms - 400
2025-02-26 01:08:25.565 +01:00 [INF] End processing HTTP request after 56.3029ms - 400
2025-02-26 01:08:25.642 +01:00 [ERR] Błąd w MapController.SaveMap
System.Net.Http.HttpRequestException: API request failed with status code BadRequest
   at JurMaps.Shared.Helpers.AnalyzeText(String text) in E:\jurmaps2\Shared\Helpers.cs:line 41
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 248
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 01:08:25.646 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:08:25.648 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 422.9249ms
2025-02-26 01:08:25.649 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:08:25.650 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryb3UPv1qdnHqdHKxX 241 - 200 - application/json;+charset=utf-8 429.9576ms
2025-02-26 01:08:33.004 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundarypZBcULeqSJsw7dMd 241
2025-02-26 01:08:33.006 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:08:33.007 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:08:33.008 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:08:37.885 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:08:37.886 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:08:38.101 +01:00 [INF] Received HTTP response headers after 213.7642ms - 200
2025-02-26 01:08:38.102 +01:00 [INF] End processing HTTP request after 217.2353ms - 200
2025-02-26 01:08:53.062 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:08:53.064 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:08:53.120 +01:00 [INF] Received HTTP response headers after 55.2086ms - 400
2025-02-26 01:08:53.121 +01:00 [INF] End processing HTTP request after 59.0119ms - 400
2025-02-26 01:11:40.509 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-26 01:11:40.664 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-26 01:11:40.665 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-26 01:11:40.668 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-26 01:11:40.668 +01:00 [INF] Hosting environment: Development
2025-02-26 01:11:40.669 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-26 01:11:41.071 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 01:11:45.219 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-26 01:11:45.318 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 01:11:45.323 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4255.0759ms
2025-02-26 01:11:45.398 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-26 01:11:45.541 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 142.4583ms
2025-02-26 01:11:48.402 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 01:11:53.173 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-26 01:11:53.178 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-26 01:11:53.179 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 4777.8296ms
2025-02-26 01:11:54.037 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 01:11:54.038 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 01:11:54.037 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 01:11:54.037 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 01:11:54.037 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 01:11:54.248 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:11:54.247 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:11:54.248 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:11:54.247 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:11:54.259 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 222.5174ms
2025-02-26 01:11:54.259 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 221.0668ms
2025-02-26 01:11:54.259 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 222.3788ms
2025-02-26 01:11:54.268 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 230.9504ms
2025-02-26 01:11:54.257 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:11:54.039 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 01:11:54.037 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 01:11:54.051 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 01:11:54.267 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:11:54.267 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:11:54.279 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:11:54.279 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:11:54.279 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:11:54.276 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 238.8157ms
2025-02-26 01:11:54.279 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:11:54.279 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:11:54.280 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 240.8830ms
2025-02-26 01:11:54.281 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 243.4178ms
2025-02-26 01:11:54.282 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 230.4742ms
2025-02-26 01:11:54.354 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:11:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:11:54.354 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:11:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:11:54.382 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:11:54'.
2025-02-26 01:11:54.382 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:11:54'.
2025-02-26 01:11:54.384 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:11:54.384 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:11:54.428 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:11:54.428 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:12:02.976 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:12:03.053 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:12:03.053 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:12:03.054 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8620.2774ms
2025-02-26 01:12:03.056 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:12:03.058 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:12:03.061 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:03'.
2025-02-26 01:12:03.063 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:12:03.063 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8796.6939ms
2025-02-26 01:12:03.064 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:12:03.081 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:12:03.083 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.7185ms
2025-02-26 01:12:03.085 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:12:03.085 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:12:03.086 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 33.6138ms
2025-02-26 01:12:03.087 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:12:03.089 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:12:03.094 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:03'.
2025-02-26 01:12:03.095 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:12:03.100 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:12:03.106 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:12:03.109 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.0557ms
2025-02-26 01:12:03.110 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:12:03.111 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 01:12:03.112 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 26.5785ms
2025-02-26 01:12:03.113 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:12:03.115 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:12:03.120 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:03'.
2025-02-26 01:12:03.121 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:12:03.123 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:12:03.134 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:12:03.136 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.1505ms
2025-02-26 01:12:03.137 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 01:12:03.138 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 26.8119ms
2025-02-26 01:12:04.672 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:12:04.762 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:12:04.765 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10334.5419ms
2025-02-26 01:12:04.766 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:12:04.766 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:12:04.767 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:12:04.768 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:12:04.773 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:04'.
2025-02-26 01:12:04.774 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10506.3734ms
2025-02-26 01:12:04.774 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:12:04.776 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:12:04.798 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:12:04.805 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:12:04.806 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 28.7084ms
2025-02-26 01:12:04.807 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:12:04.807 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:12:04.809 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 42.8838ms
2025-02-26 01:12:04.809 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:12:04.811 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:12:04.814 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:04'.
2025-02-26 01:12:04.815 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:12:04.815 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:12:04.868 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:12:04.874 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:12:04.875 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 58.6475ms
2025-02-26 01:12:04.876 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:12:04.877 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 01:12:04.877 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 69.9443ms
2025-02-26 01:12:04.878 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:12:04.880 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:12:04.883 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:12:04'.
2025-02-26 01:12:04.884 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:12:04.885 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 01:12:04.890 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:12:04.896 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:12:04.897 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.0833ms
2025-02-26 01:12:04.898 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 01:12:04.899 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 22.6517ms
2025-02-26 01:14:25.771 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 01:14:25.772 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:25.773 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.2339ms
2025-02-26 01:14:25.774 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 01:14:25.777 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:25.778 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:14:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:14:25.783 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:14:25'.
2025-02-26 01:14:25.785 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 01:14:25.790 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:14:25.801 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:14:25.935 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 01:14:25.959 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:14:25.961 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 169.8374ms
2025-02-26 01:14:25.962 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 01:14:25.963 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 188.5911ms
2025-02-26 01:14:28.470 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/13 - -
2025-02-26 01:14:28.477 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/13 - -
2025-02-26 01:14:28.478 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/13 - -
2025-02-26 01:14:28.470 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/13 - -
2025-02-26 01:14:28.482 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:28.482 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:28.483 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:28.483 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:28.484 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/13 - - - 204 - - 13.7111ms
2025-02-26 01:14:28.484 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/13 - - - 204 - - 7.1927ms
2025-02-26 01:14:28.485 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/13 - - - 204 - - 7.7437ms
2025-02-26 01:14:28.486 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/13 - - - 204 - - 16.4541ms
2025-02-26 01:14:28.489 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/13 application/json -
2025-02-26 01:14:28.487 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/13 application/json -
2025-02-26 01:14:28.497 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:28.497 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:28.498 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:14:28'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:14:28.498 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:14:28.504 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:14:28'.
2025-02-26 01:14:28.505 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:14:28.508 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:14:28.510 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:14:28.644 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:14:28.656 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:14:28.660 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 147.4963ms
2025-02-26 01:14:28.663 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:14:28.664 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/13 application/json -
2025-02-26 01:14:28.665 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/13 application/json - - 200 - application/json;+charset=utf-8 176.1370ms
2025-02-26 01:14:28.665 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:28.669 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:14:28'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 01:14:28.676 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 00:14:28'.
2025-02-26 01:14:28.677 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:14:28.678 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:14:28.689 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:14:28.699 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:14:28.704 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 24.0293ms
2025-02-26 01:14:28.705 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 01:14:28.706 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/13 application/json - - 200 - application/json;+charset=utf-8 42.7782ms
2025-02-26 01:14:28.714 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:14:28.720 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:14:28.746 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 235.7393ms
2025-02-26 01:14:28.749 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:14:28.752 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/13 application/json - - 200 - application/json;+charset=utf-8 265.2997ms
2025-02-26 01:14:28.765 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/13 application/json -
2025-02-26 01:14:28.768 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:28.774 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:14:28.776 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:14:28.795 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 01:14:28.799 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:14:28.802 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 22.1412ms
2025-02-26 01:14:28.803 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 01:14:28.804 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/13 application/json - - 200 - application/json;+charset=utf-8 38.4850ms
2025-02-26 01:14:31.077 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/13 - -
2025-02-26 01:14:31.077 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/13 - -
2025-02-26 01:14:31.079 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:31.079 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:31.080 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/13 - - - 204 - - 2.8203ms
2025-02-26 01:14:31.081 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/13 - - - 204 - - 3.4336ms
2025-02-26 01:14:31.083 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/13 application/json -
2025-02-26 01:14:31.085 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:31.086 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:14:31.093 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:14:31.106 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:14:31.111 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:14:31.121 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:14:31.128 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 31.9654ms
2025-02-26 01:14:31.129 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/13 application/json -
2025-02-26 01:14:31.129 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:14:31.130 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:31.131 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/13 application/json - - 200 - application/json;+charset=utf-8 48.0246ms
2025-02-26 01:14:31.132 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:14:31.135 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:14:31.148 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:14:31.155 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 01:14:31.158 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 01:14:31.162 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 19.5118ms
2025-02-26 01:14:31.163 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 01:14:31.165 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/13 application/json - - 200 - application/json;+charset=utf-8 35.3693ms
2025-02-26 01:14:45.623 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryZJWF8jf02fMkh6k0 252
2025-02-26 01:14:45.624 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:45.625 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:14:45.630 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:14:47.933 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:14:47.937 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:14:48.290 +01:00 [INF] Received HTTP response headers after 350.4757ms - 200
2025-02-26 01:14:48.291 +01:00 [INF] End processing HTTP request after 359.5602ms - 200
2025-02-26 01:14:48.385 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 01:14:48.390 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:14:48.391 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 2759.2043ms
2025-02-26 01:14:48.392 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:14:48.393 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryZJWF8jf02fMkh6k0 252 - 200 - application/json;+charset=utf-8 2770.5054ms
2025-02-26 01:14:58.207 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundary7rr13FAahQr8U7lJ 242
2025-02-26 01:14:58.208 +01:00 [INF] CORS policy execution successful.
2025-02-26 01:14:58.209 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:14:58.210 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 01:15:02.346 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:15:02.347 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:15:02.571 +01:00 [INF] Received HTTP response headers after 223.2143ms - 200
2025-02-26 01:15:02.572 +01:00 [INF] End processing HTTP request after 226.4874ms - 200
2025-02-26 01:15:13.023 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:15:13.024 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 01:15:13.196 +01:00 [INF] Received HTTP response headers after 171.3373ms - 200
2025-02-26 01:15:13.197 +01:00 [INF] End processing HTTP request after 174.5447ms - 200
2025-02-26 01:15:27.417 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:15:27.425 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 01:15:27.491 +01:00 [INF] Executed DbCommand (60ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-26 01:15:27.494 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 01:15:27.495 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 29282.7573ms
2025-02-26 01:15:27.496 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 01:15:27.497 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundary7rr13FAahQr8U7lJ 242 - 200 - application/json;+charset=utf-8 29289.5656ms
2025-02-26 10:49:16.185 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-26 10:49:16.603 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-26 10:49:16.606 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-26 10:49:16.609 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-26 10:49:16.611 +01:00 [INF] Hosting environment: Development
2025-02-26 10:49:16.612 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-26 10:49:18.924 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 10:49:23.084 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-26 10:49:23.241 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 10:49:23.246 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4325.3738ms
2025-02-26 10:49:23.328 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-26 10:49:24.458 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 1130.3376ms
2025-02-26 10:49:26.327 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 10:49:30.396 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 10:49:30.397 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4070.3625ms
2025-02-26 10:49:33.432 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 10:49:43.442 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 10:49:43.443 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10010.9842ms
2025-02-26 10:49:46.467 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 10:49:55.840 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-26 10:49:55.860 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 9392.8020ms
2025-02-26 10:49:56.165 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-26 11:05:42.419 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 11:05:42.420 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 11:05:42.419 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 11:05:42.419 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 11:05:42.426 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 11:05:42.434 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 11:05:42.441 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 11:05:42.448 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 11:05:42.453 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:42.453 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:42.453 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:42.453 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:42.453 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:42.453 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:42.453 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:42.453 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:42.456 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 36.6739ms
2025-02-26 11:05:42.456 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 36.5159ms
2025-02-26 11:05:42.456 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 36.6739ms
2025-02-26 11:05:42.456 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 21.6586ms
2025-02-26 11:05:42.457 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 37.3997ms
2025-02-26 11:05:42.456 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 30.3908ms
2025-02-26 11:05:42.458 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 16.3323ms
2025-02-26 11:05:42.458 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 10.3566ms
2025-02-26 11:05:42.466 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 11:05:42.466 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 11:05:42.468 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:42.468 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:42.642 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:42'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 11:05:42.642 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:42'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 11:05:42.687 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:42'.
2025-02-26 11:05:42.688 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:42'.
2025-02-26 11:05:42.690 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 11:05:42.690 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 11:05:42.737 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 11:05:42.737 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 11:05:52.224 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:05:52.309 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 11:05:52.311 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9569.7263ms
2025-02-26 11:05:52.312 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:52.314 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 11:05:52.316 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 11:05:52.316 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9850.3802ms
2025-02-26 11:05:52.321 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:52'.
2025-02-26 11:05:52.324 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 11:05:52.325 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 11:05:52.340 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:05:52.346 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 19.2101ms
2025-02-26 11:05:52.347 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 11:05:52.347 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 11:05:52.348 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:52.349 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 39.8347ms
2025-02-26 11:05:52.350 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 11:05:52.355 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:52'.
2025-02-26 11:05:52.355 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 11:05:52.356 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 11:05:52.361 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:05:52.362 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.65ms
2025-02-26 11:05:52.363 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 11:05:52.364 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 11:05:52.364 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 16.9184ms
2025-02-26 11:05:52.365 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:52.367 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 11:05:52.372 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:52'.
2025-02-26 11:05:52.373 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 11:05:52.374 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 11:05:52.378 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:05:52.379 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.5117ms
2025-02-26 11:05:52.380 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 11:05:52.381 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 17.2729ms
2025-02-26 11:05:54.159 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 11:05:54.236 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:05:54.239 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11499.4098ms
2025-02-26 11:05:54.240 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 11:05:54.240 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 11:05:54.241 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:54.243 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 11:05:54.247 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:54'.
2025-02-26 11:05:54.248 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 11781.5960ms
2025-02-26 11:05:54.248 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 11:05:54.249 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 11:05:54.267 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 11:05:54.274 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:05:54.277 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 25.8372ms
2025-02-26 11:05:54.278 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 11:05:54.278 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 11:05:54.279 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:54.280 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 40.6923ms
2025-02-26 11:05:54.281 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 11:05:54.285 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:54'.
2025-02-26 11:05:54.286 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 11:05:54.286 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 11:05:54.337 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 11:05:54.343 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:05:54.344 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 56.0581ms
2025-02-26 11:05:54.345 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 11:05:54.345 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 11:05:54.345 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:05:54.346 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 68.0424ms
2025-02-26 11:05:54.347 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 11:05:54.351 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:05:54'.
2025-02-26 11:05:54.352 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 11:05:54.352 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 11:05:54.358 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 11:05:54.363 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:05:54.364 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.5526ms
2025-02-26 11:05:54.365 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 11:05:54.366 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 21.4231ms
2025-02-26 11:08:38.959 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 11:08:38.960 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:08:38.961 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.5166ms
2025-02-26 11:08:38.963 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 11:08:38.965 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:08:38.966 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:08:38'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 11:08:38.973 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:08:38'.
2025-02-26 11:08:38.974 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 11:08:38.980 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 11:08:38.989 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 11:08:39.115 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 11:08:39.135 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:08:39.137 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 155.9353ms
2025-02-26 11:08:39.138 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 11:08:39.139 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 175.9505ms
2025-02-26 11:08:42.287 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/14 - -
2025-02-26 11:08:42.289 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:08:42.291 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/14 - - - 204 - - 4.3725ms
2025-02-26 11:08:42.293 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/14 - -
2025-02-26 11:08:42.295 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/14 application/json -
2025-02-26 11:08:42.296 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/14 - -
2025-02-26 11:08:42.298 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:08:42.299 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:08:42.301 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/14 - - - 204 - - 7.7906ms
2025-02-26 11:08:42.300 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:08:42.307 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/14 application/json -
2025-02-26 11:08:42.308 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:08:42'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 11:08:42.310 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/14 - - - 204 - - 13.0387ms
2025-02-26 11:08:42.310 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:08:42.316 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:08:42'.
2025-02-26 11:08:42.318 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 11:08:42.319 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 11:08:42.324 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 11:08:42.324 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 11:08:42.856 +01:00 [INF] Executed DbCommand (121ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 11:08:42.864 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:08:42.865 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 539.3223ms
2025-02-26 11:08:42.866 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 11:08:42.867 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/14 application/json -
2025-02-26 11:08:42.867 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/14 application/json - - 200 - application/json;+charset=utf-8 572.4163ms
2025-02-26 11:08:42.868 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:08:42.870 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:08:42'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 11:08:42.876 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 10:08:42'.
2025-02-26 11:08:42.877 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 11:08:42.879 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 11:08:42.887 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 11:08:42.891 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:08:42.893 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 12.6943ms
2025-02-26 11:08:42.894 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 11:08:42.895 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/14 application/json - - 200 - application/json;+charset=utf-8 28.2044ms
2025-02-26 11:08:43.094 +01:00 [INF] Executed DbCommand (609ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 11:08:43.098 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:08:43.182 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 854.9156ms
2025-02-26 11:08:43.183 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 11:08:43.184 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/14 application/json -
2025-02-26 11:08:43.184 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/14 application/json - - 200 - application/json;+charset=utf-8 879.6328ms
2025-02-26 11:08:43.185 +01:00 [INF] CORS policy execution successful.
2025-02-26 11:08:43.186 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 11:08:43.187 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 11:08:43.202 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 11:08:43.204 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 11:08:43.206 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 17.1027ms
2025-02-26 11:08:43.207 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 11:08:43.208 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/14 application/json - - 200 - application/json;+charset=utf-8 24.5882ms
2025-02-26 12:16:06.451 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/14 - -
2025-02-26 12:16:06.451 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/14 - -
2025-02-26 12:16:06.453 +01:00 [INF] CORS policy execution successful.
2025-02-26 12:16:06.454 +01:00 [INF] CORS policy execution successful.
2025-02-26 12:16:06.455 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/14 - - - 204 - - 3.4486ms
2025-02-26 12:16:06.455 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/14 - - - 204 - - 3.9052ms
2025-02-26 12:16:06.462 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/14 application/json -
2025-02-26 12:16:06.464 +01:00 [INF] CORS policy execution successful.
2025-02-26 12:16:06.465 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 12:16:06.471 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 12:16:06.543 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 12:16:06.550 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 12:16:06.560 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 12:16:06.567 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 92.5125ms
2025-02-26 12:16:06.568 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/14 application/json -
2025-02-26 12:16:06.568 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 12:16:06.569 +01:00 [INF] CORS policy execution successful.
2025-02-26 12:16:06.570 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/14 application/json - - 200 - application/json;+charset=utf-8 108.1215ms
2025-02-26 12:16:06.571 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 12:16:06.574 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 12:16:06.583 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 12:16:06.590 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 12:16:06.594 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 12:16:06.598 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 20.7584ms
2025-02-26 12:16:06.599 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 12:16:06.601 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/14 application/json - - 200 - application/json;+charset=utf-8 32.4716ms
2025-02-26 12:16:26.626 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryBrmndExSC3W7K8B9 252
2025-02-26 12:16:26.628 +01:00 [INF] CORS policy execution successful.
2025-02-26 12:16:26.629 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 12:16:26.636 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 12:16:33.522 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 12:16:33.525 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 12:16:33.863 +01:00 [INF] Received HTTP response headers after 334.5451ms - 200
2025-02-26 12:16:33.864 +01:00 [INF] End processing HTTP request after 343.4687ms - 200
2025-02-26 12:16:33.978 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 12:16:34.009 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 12:16:34.010 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 7372.0407ms
2025-02-26 12:16:34.010 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 12:16:34.012 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryBrmndExSC3W7K8B9 252 - 200 - application/json;+charset=utf-8 7386.6375ms
2025-02-26 12:16:46.830 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryGu0MmBfGL0ollZjr 240
2025-02-26 12:16:46.837 +01:00 [INF] CORS policy execution successful.
2025-02-26 12:16:46.838 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 12:16:46.839 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 12:16:46.845 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 12:16:46.847 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 12:16:47.091 +01:00 [INF] Received HTTP response headers after 242.1445ms - 200
2025-02-26 12:16:47.092 +01:00 [INF] End processing HTTP request after 246.153ms - 200
2025-02-26 12:16:47.093 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 12:16:47.094 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 12:16:47.149 +01:00 [INF] Received HTTP response headers after 54.4155ms - 400
2025-02-26 12:16:47.150 +01:00 [INF] End processing HTTP request after 57.3116ms - 400
2025-02-26 12:16:47.153 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 12:16:47.154 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 12:16:47.378 +01:00 [INF] Received HTTP response headers after 223.0529ms - 200
2025-02-26 12:16:47.379 +01:00 [INF] End processing HTTP request after 226.069ms - 200
2025-02-26 12:16:47.382 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 12:16:47.388 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 12:16:47.474 +01:00 [INF] Executed DbCommand (78ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-26 12:16:47.478 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 12:16:47.480 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 638.4144ms
2025-02-26 12:16:47.481 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 12:16:47.482 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryGu0MmBfGL0ollZjr 240 - 200 - application/json;+charset=utf-8 651.9416ms
2025-02-26 13:34:23.854 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryqvPlpi1H4szcBt9v 240
2025-02-26 13:34:23.857 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:34:23.859 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:34:23.873 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:34:23.881 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:34:23.882 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:34:24.217 +01:00 [INF] Received HTTP response headers after 332.1837ms - 200
2025-02-26 13:34:24.218 +01:00 [INF] End processing HTTP request after 337.0639ms - 200
2025-02-26 13:34:24.219 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:34:24.220 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:34:24.285 +01:00 [INF] Received HTTP response headers after 64.4343ms - 400
2025-02-26 13:34:24.287 +01:00 [INF] End processing HTTP request after 67.7935ms - 400
2025-02-26 13:34:24.288 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:34:24.289 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:34:24.526 +01:00 [INF] Received HTTP response headers after 235.3486ms - 200
2025-02-26 13:34:24.527 +01:00 [INF] End processing HTTP request after 238.663ms - 200
2025-02-26 13:34:24.571 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:34:24.576 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:34:24.593 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-26 13:34:24.596 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:34:24.597 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 720.8706ms
2025-02-26 13:34:24.598 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:34:24.599 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryqvPlpi1H4szcBt9v 240 - 200 - application/json;+charset=utf-8 745.0922ms
2025-02-26 13:35:14.051 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundary5UzESOOBB2icXj83 240
2025-02-26 13:35:14.052 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:14.054 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:35:14.055 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:35:14.063 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:35:14.064 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:35:14.282 +01:00 [INF] Received HTTP response headers after 216.721ms - 200
2025-02-26 13:35:14.283 +01:00 [INF] End processing HTTP request after 220.5597ms - 200
2025-02-26 13:35:14.285 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:35:14.286 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:35:14.340 +01:00 [INF] Received HTTP response headers after 53.105ms - 400
2025-02-26 13:35:14.341 +01:00 [INF] End processing HTTP request after 56.0818ms - 400
2025-02-26 13:35:14.342 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:35:14.343 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:35:14.574 +01:00 [INF] Received HTTP response headers after 230.4692ms - 200
2025-02-26 13:35:14.576 +01:00 [INF] End processing HTTP request after 233.8924ms - 200
2025-02-26 13:35:14.579 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:35:14.584 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:35:14.591 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-26 13:35:14.593 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:14.595 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 537.5999ms
2025-02-26 13:35:14.598 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:35:14.599 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundary5UzESOOBB2icXj83 240 - 200 - application/json;+charset=utf-8 548.4374ms
2025-02-26 13:35:15.862 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 13:35:15.863 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 13:35:15.863 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:15.864 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 13:35:15.865 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:35:15.866 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:15.866 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:15.868 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:35:15.869 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:35:15.874 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:35:15.874 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:35:15.877 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:35:15.939 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-26 13:35:15.940 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-26 13:35:15.966 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 13:35:15.972 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:15.980 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 103.915ms
2025-02-26 13:35:15.983 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 13:35:15.983 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:35:15.986 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:15.987 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 122.8415ms
2025-02-26 13:35:15.989 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:35:15.992 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:35:16.004 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 13:35:16.009 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:16.013 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 19.0159ms
2025-02-26 13:35:16.017 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:35:16.020 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 37.2047ms
2025-02-26 13:35:16.042 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 13:35:16.047 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:16.049 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 164.3502ms
2025-02-26 13:35:16.049 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 13:35:16.050 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:35:16.050 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 13:35:16.053 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 190.0044ms
2025-02-26 13:35:16.053 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:16.054 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:16.057 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:35:16.058 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 175.6633ms
2025-02-26 13:35:16.058 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:35:16.059 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 13:35:16.062 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:35:16.065 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:16.066 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 203.5712ms
2025-02-26 13:35:16.066 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:35:16.069 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:35:16.070 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 13:35:16.079 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:16.084 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 13:35:16.100 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 35.951ms
2025-02-26 13:35:16.101 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:16.103 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:35:16.107 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 33.9983ms
2025-02-26 13:35:16.114 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 64.5383ms
2025-02-26 13:35:16.118 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:35:16.120 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 61.0311ms
2025-02-26 13:35:45.613 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 13:35:45.614 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:45.616 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 3.2183ms
2025-02-26 13:35:45.618 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 13:35:45.619 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:45.623 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:35:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:35:45.634 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:35:45'.
2025-02-26 13:35:45.636 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 13:35:45.637 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:35:45.647 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:35:45.798 +01:00 [INF] Executed DbCommand (145ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 13:35:45.801 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:45.804 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 163.6404ms
2025-02-26 13:35:45.805 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 13:35:45.806 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 187.3403ms
2025-02-26 13:35:45.934 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/15 - -
2025-02-26 13:35:45.975 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/15 - -
2025-02-26 13:35:45.977 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/15 - -
2025-02-26 13:35:45.935 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/15 - -
2025-02-26 13:35:46.010 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:46.008 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:46.004 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:46.009 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:46.012 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/15 - - - 204 - - 76.7904ms
2025-02-26 13:35:46.028 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/15 - - - 204 - - 93.5281ms
2025-02-26 13:35:46.027 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/15 - - - 204 - - 51.6131ms
2025-02-26 13:35:46.029 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/15 - - - 204 - - 53.0177ms
2025-02-26 13:35:46.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/15 application/json -
2025-02-26 13:35:46.035 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/15 application/json -
2025-02-26 13:35:46.051 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:46.055 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:46.057 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:35:46.060 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:35:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:35:46.060 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:35:46.078 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:35:46'.
2025-02-26 13:35:46.086 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:35:46.092 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:35:46.106 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:35:46.111 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:46.112 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 13.4765ms
2025-02-26 13:35:46.118 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/15 application/json -
2025-02-26 13:35:46.119 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:35:46.120 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:46.123 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/15 application/json - - 200 - application/json;+charset=utf-8 87.3095ms
2025-02-26 13:35:46.125 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:35:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:35:46.143 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:35:46'.
2025-02-26 13:35:46.147 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:35:46.150 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:35:46.172 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:35:46.180 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:46.182 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 16.8882ms
2025-02-26 13:35:46.188 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:35:46.190 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/15 application/json - - 200 - application/json;+charset=utf-8 71.5032ms
2025-02-26 13:35:49.108 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/15 - -
2025-02-26 13:35:49.109 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/15 - -
2025-02-26 13:35:49.109 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:49.110 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:49.111 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/15 - - - 204 - - 2.8009ms
2025-02-26 13:35:49.112 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/15 - - - 204 - - 2.7313ms
2025-02-26 13:35:49.114 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/15 application/json -
2025-02-26 13:35:49.116 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:49.117 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:35:49.118 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:35:49.124 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:35:49.130 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:35:49.136 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 13:35:49.137 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 17.4003ms
2025-02-26 13:35:49.139 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:35:49.139 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/15 application/json -
2025-02-26 13:35:49.140 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/15 application/json - - 200 - application/json;+charset=utf-8 26.9790ms
2025-02-26 13:35:49.142 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:49.145 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:35:49.151 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:35:49.160 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:35:49.167 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:35:49.171 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 13:35:49.173 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 19.3945ms
2025-02-26 13:35:49.174 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:35:49.176 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/15 application/json - - 200 - application/json;+charset=utf-8 36.4691ms
2025-02-26 13:35:49.614 +01:00 [INF] Executed DbCommand (3,525ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 13:35:49.620 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:49.622 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 3538.4669ms
2025-02-26 13:35:49.624 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/15 application/json -
2025-02-26 13:35:49.625 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:35:49.626 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:35:49.627 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/15 application/json - - 200 - application/json;+charset=utf-8 3607.1918ms
2025-02-26 13:35:49.630 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:35:49.635 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:35:49.670 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 13:35:49.677 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:35:49.694 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 50.7308ms
2025-02-26 13:35:49.696 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:35:49.697 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/15 application/json - - 200 - application/json;+charset=utf-8 73.6005ms
2025-02-26 13:36:00.133 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundary9MzCsvaDLXb0qDx8 253
2025-02-26 13:36:00.135 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:00.137 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:36:00.138 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:36:00.145 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:00.146 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:00.399 +01:00 [INF] Received HTTP response headers after 250.7024ms - 200
2025-02-26 13:36:00.400 +01:00 [INF] End processing HTTP request after 254.8357ms - 200
2025-02-26 13:36:00.460 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Tytuł mapy jest zbyt toksyczny i nie może zostać zapisany. Zmień tytuł mapy.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 245
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 13:36:00.463 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:00.464 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 323.5127ms
2025-02-26 13:36:00.465 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:36:00.466 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundary9MzCsvaDLXb0qDx8 253 - 200 - application/json;+charset=utf-8 333.3546ms
2025-02-26 13:36:14.418 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundary46RTV5JvTS0bTsA3 237
2025-02-26 13:36:14.421 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:14.422 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:36:14.435 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:36:14.446 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:14.448 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:14.675 +01:00 [INF] Received HTTP response headers after 225.5461ms - 200
2025-02-26 13:36:14.677 +01:00 [INF] End processing HTTP request after 230.3082ms - 200
2025-02-26 13:36:14.678 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:14.679 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:14.739 +01:00 [INF] Received HTTP response headers after 58.1344ms - 400
2025-02-26 13:36:14.740 +01:00 [INF] End processing HTTP request after 61.9887ms - 400
2025-02-26 13:36:14.741 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:14.743 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:14.968 +01:00 [INF] Received HTTP response headers after 224.2073ms - 200
2025-02-26 13:36:14.969 +01:00 [INF] End processing HTTP request after 227.9203ms - 200
2025-02-26 13:36:14.972 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:36:14.978 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:36:14.986 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-26 13:36:14.991 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:14.992 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 550.7104ms
2025-02-26 13:36:14.994 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:36:14.995 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundary46RTV5JvTS0bTsA3 237 - 200 - application/json;+charset=utf-8 576.3559ms
2025-02-26 13:36:15.108 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 13:36:15.109 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:15.110 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 13:36:15.110 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:36:15.111 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:15.112 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 13:36:15.113 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:36:15.114 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:36:15.115 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:15.120 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:36:15.122 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:36:15.124 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 13:36:15.132 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:36:15.135 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 13:36:15.137 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:15.143 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 13:36:15.142 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:15.146 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 13:36:15.148 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 18.6977ms
2025-02-26 13:36:15.147 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:15.153 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 13:36:15.156 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 18.1538ms
2025-02-26 13:36:15.155 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:36:15.152 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:15.145 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 27.3014ms
2025-02-26 13:36:15.161 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 13:36:15.163 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:15.164 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:36:15.165 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 54.5917ms
2025-02-26 13:36:15.165 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:36:15.166 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:36:15.167 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:15.168 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:36:15.169 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 57.5220ms
2025-02-26 13:36:15.171 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:36:15.173 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 65.3800ms
2025-02-26 13:36:15.174 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:36:15.175 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:36:15.183 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:36:15.192 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 13:36:15.185 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 13:36:15.197 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:15.206 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 13:36:15.206 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:15.207 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 21.4526ms
2025-02-26 13:36:15.211 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:15.212 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 32.731ms
2025-02-26 13:36:15.213 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:36:15.214 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 20.2792ms
2025-02-26 13:36:15.215 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:36:15.217 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 64.2668ms
2025-02-26 13:36:15.221 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:36:15.222 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 75.8179ms
2025-02-26 13:36:15.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 64.9319ms
2025-02-26 13:36:22.035 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 13:36:22.036 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:22.037 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.1443ms
2025-02-26 13:36:22.039 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 13:36:22.039 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:22.041 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:36:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:36:22.049 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:36:22'.
2025-02-26 13:36:22.053 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 13:36:22.054 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:36:22.066 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:36:22.093 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 13:36:22.096 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:22.097 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 36.2407ms
2025-02-26 13:36:22.099 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 13:36:22.100 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 61.3002ms
2025-02-26 13:36:22.246 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/16 - -
2025-02-26 13:36:22.248 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/16 - -
2025-02-26 13:36:22.252 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/16 - -
2025-02-26 13:36:22.256 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:22.252 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/16 - -
2025-02-26 13:36:22.265 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:22.253 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:22.263 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/16 - - - 204 - - 11.5260ms
2025-02-26 13:36:22.269 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/16 - - - 204 - - 21.0963ms
2025-02-26 13:36:22.267 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/16 application/json -
2025-02-26 13:36:22.267 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/16 - - - 204 - - 14.7424ms
2025-02-26 13:36:22.249 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:22.270 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/16 application/json -
2025-02-26 13:36:22.274 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:22.278 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/16 - - - 204 - - 31.7713ms
2025-02-26 13:36:22.279 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:22.282 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:36:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:36:22.285 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:36:22.298 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:36:22'.
2025-02-26 13:36:22.300 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:36:22.302 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:36:22.306 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:36:22.311 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 13:36:22.317 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:36:22.319 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:22.334 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:22.336 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 31.3604ms
2025-02-26 13:36:22.345 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:36:22.347 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/16 application/json -
2025-02-26 13:36:22.344 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/16 application/json -
2025-02-26 13:36:22.343 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 31.3561ms
2025-02-26 13:36:22.349 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/16 application/json - - 200 - application/json;+charset=utf-8 78.5077ms
2025-02-26 13:36:22.351 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:22.352 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:22.354 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:36:22.363 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:36:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:36:22.364 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:36:22.366 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/16 application/json - - 200 - application/json;+charset=utf-8 98.9712ms
2025-02-26 13:36:22.380 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:36:22'.
2025-02-26 13:36:22.381 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:36:22.384 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:36:22.390 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:36:22.402 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:36:22.408 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:22.410 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 14.9678ms
2025-02-26 13:36:22.413 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:36:22.415 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/16 application/json - - 200 - application/json;+charset=utf-8 67.7167ms
2025-02-26 13:36:22.566 +01:00 [INF] Executed DbCommand (174ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 13:36:22.569 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:22.571 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 182.1554ms
2025-02-26 13:36:22.573 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:36:22.575 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/16 application/json - - 200 - application/json;+charset=utf-8 231.1199ms
2025-02-26 13:36:28.447 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/16 - -
2025-02-26 13:36:28.448 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/16 - -
2025-02-26 13:36:28.448 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:28.450 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:28.450 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/16 - - - 204 - - 3.1442ms
2025-02-26 13:36:28.453 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/16 application/json 8
2025-02-26 13:36:28.451 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/16 - - - 204 - - 3.6110ms
2025-02-26 13:36:28.454 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/16 application/json 99
2025-02-26 13:36:28.456 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:28.461 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:28.462 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-26 13:36:28.464 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-26 13:36:28.479 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:36:28.482 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:36:28.524 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:36:28.543 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 13:36:28.549 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-26 13:36:28.582 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-26 13:36:28.616 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-26 13:36:28.633 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-26 13:36:28.643 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-26 13:36:28.645 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:28.647 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 161.7314ms
2025-02-26 13:36:28.648 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-26 13:36:28.650 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/16 application/json 8 - 200 - application/json;+charset=utf-8 197.0889ms
2025-02-26 13:36:28.744 +01:00 [INF] Executed DbCommand (92ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-26 13:36:28.792 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-26 13:36:28.795 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:28.796 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 304.8416ms
2025-02-26 13:36:28.797 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-26 13:36:28.799 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/16 application/json 99 - 200 - application/json;+charset=utf-8 345.1208ms
2025-02-26 13:36:38.140 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary8lbiQyirHDPwmhdF 1257
2025-02-26 13:36:38.142 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:38.143 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-26 13:36:38.151 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-26 13:36:38.220 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:38.221 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:38.370 +01:00 [INF] Received HTTP response headers after 147.2805ms - 400
2025-02-26 13:36:38.371 +01:00 [INF] End processing HTTP request after 151.0318ms - 400
2025-02-26 13:36:38.373 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:38.374 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:38.587 +01:00 [INF] Received HTTP response headers after 211.6624ms - 200
2025-02-26 13:36:38.588 +01:00 [INF] End processing HTTP request after 215.2244ms - 200
2025-02-26 13:36:38.590 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:38.593 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:38.814 +01:00 [INF] Received HTTP response headers after 220.2425ms - 200
2025-02-26 13:36:38.815 +01:00 [INF] End processing HTTP request after 224.8614ms - 200
2025-02-26 13:36:38.868 +01:00 [INF] Executed DbCommand (46ms) [Parameters=[@__placeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM "Places" AS p
WHERE p."PlaceId" = @__placeId_0
LIMIT 1
2025-02-26 13:36:38.914 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Places" SET "MapId" = @p0, "PlaceColor" = @p1, "PlaceCountry" = @p2, "PlaceDescription" = @p3, "PlaceName" = @p4, "PlacePhoto1" = @p5, "PlacePhoto2" = @p6, "PlacePhoto3" = @p7, "PlacePosition" = @p8, "PlaceType" = @p9
WHERE "PlaceId" = @p10;
2025-02-26 13:36:38.919 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:36:38.923 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 767.1706ms
2025-02-26 13:36:38.924 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-26 13:36:38.926 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary8lbiQyirHDPwmhdF 1257 - 200 - application/json;+charset=utf-8 786.7917ms
2025-02-26 13:36:56.837 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryOLwmlGlH3c1Dchjp 1262
2025-02-26 13:36:56.839 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:36:56.840 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-26 13:36:56.842 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-26 13:36:56.848 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:56.849 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:36:57.049 +01:00 [INF] Received HTTP response headers after 196.2534ms - 200
2025-02-26 13:36:57.050 +01:00 [INF] End processing HTTP request after 202.1522ms - 200
2025-02-26 13:36:57.114 +01:00 [ERR] Błąd w PlaceController.SavePlaceInfo
System.InvalidOperationException: Nazwa miejsca jest zbyt toksyczna i nie może zostać zapisana.
   at JurMaps.Services.PlaceService.SavePlaceInfoAsync(Int32 placeId, String placeName, String placeDescription, IFormFile placePhoto1, IFormFile placePhoto2, IFormFile placePhoto3, String placeColor, Boolean changePlacePhoto1, Boolean changePlacePhoto2, Boolean changePlacePhoto3) in E:\jurmaps2\Services\PlaceService.cs:line 173
   at JurMaps.Controllers.PlaceController.SavePlaceInfo(PlaceDto placeDto) in E:\jurmaps2\Controllers\PlaceController.cs:line 34
2025-02-26 13:36:57.116 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-26 13:36:57.119 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 274.7893ms
2025-02-26 13:36:57.120 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-26 13:36:57.121 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryOLwmlGlH3c1Dchjp 1262 - 500 - text/plain;+charset=utf-8 283.9148ms
2025-02-26 13:41:54.662 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-26 13:41:55.029 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-26 13:41:55.030 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-26 13:41:55.032 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-26 13:41:55.033 +01:00 [INF] Hosting environment: Development
2025-02-26 13:41:55.034 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-26 13:41:55.538 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 13:41:59.716 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-26 13:41:59.874 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 13:41:59.882 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4346.5709ms
2025-02-26 13:41:59.957 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-26 13:42:01.200 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 1243.2683ms
2025-02-26 13:42:02.957 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 13:42:07.015 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 13:42:07.016 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4058.6299ms
2025-02-26 13:42:10.035 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 13:42:14.088 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 13:42:14.089 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4054.7661ms
2025-02-26 13:42:17.120 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 13:42:27.130 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 13:42:27.132 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10011.6970ms
2025-02-26 13:42:30.153 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 13:42:40.171 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 13:42:40.172 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10018.7376ms
2025-02-26 13:42:43.205 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 13:42:48.925 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-26 13:42:48.927 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-26 13:42:48.928 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 5722.5674ms
2025-02-26 13:42:49.753 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:42:49.753 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:42:49.753 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:42:49.754 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:42:49.754 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:42:49.754 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:42:49.760 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:42:49.764 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:42:49.770 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:49.770 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:49.770 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:49.770 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:49.770 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:49.770 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:49.770 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:49.771 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:49.775 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 21.4004ms
2025-02-26 13:42:49.775 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 15.6262ms
2025-02-26 13:42:49.775 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 21.4005ms
2025-02-26 13:42:49.775 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 21.3542ms
2025-02-26 13:42:49.776 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 22.9967ms
2025-02-26 13:42:49.778 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 24.5370ms
2025-02-26 13:42:49.777 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 23.5149ms
2025-02-26 13:42:49.779 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 15.4303ms
2025-02-26 13:42:49.785 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:42:49.785 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:42:49.791 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:49.791 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:50.011 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:42:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:42:50.011 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:42:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:42:50.038 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:42:50'.
2025-02-26 13:42:50.040 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:42:50'.
2025-02-26 13:42:50.044 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:42:50.044 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:42:50.091 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:42:50.091 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:42:59.415 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:42:59.489 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:42:59.492 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9393.658ms
2025-02-26 13:42:59.493 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:59.495 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:42:59.498 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:42:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:42:59.498 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9712.4773ms
2025-02-26 13:42:59.506 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:42:59'.
2025-02-26 13:42:59.509 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:42:59.510 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:42:59.530 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:42:59.533 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 18.0709ms
2025-02-26 13:42:59.541 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:42:59.543 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:42:59.544 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:59.545 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 56.2297ms
2025-02-26 13:42:59.550 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:42:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:42:59.562 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:42:59'.
2025-02-26 13:42:59.564 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:42:59.565 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:42:59.570 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:42:59.572 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.8946ms
2025-02-26 13:42:59.572 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:42:59.573 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:42:59.574 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 32.5698ms
2025-02-26 13:42:59.576 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:42:59.579 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:42:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:42:59.584 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:42:59'.
2025-02-26 13:42:59.586 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:42:59.586 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:42:59.592 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:42:59.593 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.1459ms
2025-02-26 13:42:59.594 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:42:59.595 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 22.0033ms
2025-02-26 13:43:01.386 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:43:01.472 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:43:01.475 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11379.0538ms
2025-02-26 13:43:01.476 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:43:01.477 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:43:01.477 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:43:01.480 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:43:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:43:01.486 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 11700.5095ms
2025-02-26 13:43:01.487 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:43:01'.
2025-02-26 13:43:01.489 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:43:01.491 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:43:01.517 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:43:01.523 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:43:01.525 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 28.4147ms
2025-02-26 13:43:01.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:43:01.527 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:43:01.527 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:43:01.529 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 52.7551ms
2025-02-26 13:43:01.530 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:43:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:43:01.539 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:43:01'.
2025-02-26 13:43:01.540 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:43:01.541 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:43:01.600 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:43:01.607 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:43:01.608 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 65.0087ms
2025-02-26 13:43:01.609 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:43:01.609 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:43:01.610 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 83.7019ms
2025-02-26 13:43:01.611 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:43:01.613 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:43:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:43:01.619 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:43:01'.
2025-02-26 13:43:01.621 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:43:01.621 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:43:01.628 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:43:01.635 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:43:01.636 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.0952ms
2025-02-26 13:43:01.637 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:43:01.638 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 28.7070ms
2025-02-26 13:44:17.081 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 13:44:17.082 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:17.083 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.7593ms
2025-02-26 13:44:17.085 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 13:44:17.089 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:17.090 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:44:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:44:17.100 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:44:17'.
2025-02-26 13:44:17.105 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 13:44:17.110 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:44:17.122 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:44:17.261 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 13:44:17.284 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:44:17.287 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 175.3714ms
2025-02-26 13:44:17.289 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 13:44:17.290 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 204.3270ms
2025-02-26 13:44:20.896 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/17 - -
2025-02-26 13:44:20.896 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/17 - -
2025-02-26 13:44:20.896 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/17 - -
2025-02-26 13:44:20.896 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/17 - -
2025-02-26 13:44:20.989 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:20.992 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:20.993 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:20.994 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:21.007 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/17 - - - 204 - - 110.8186ms
2025-02-26 13:44:21.005 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/17 - - - 204 - - 108.9992ms
2025-02-26 13:44:20.996 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/17 - - - 204 - - 99.1046ms
2025-02-26 13:44:21.016 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/17 application/json -
2025-02-26 13:44:21.006 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/17 - - - 204 - - 109.8264ms
2025-02-26 13:44:21.008 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/17 application/json -
2025-02-26 13:44:21.021 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:21.023 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:21.025 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:44:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:44:21.025 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:44:21.034 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:44:21'.
2025-02-26 13:44:21.036 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:44:21.039 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:44:21.040 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:44:21.156 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:44:21.166 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:44:21.168 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 124.2317ms
2025-02-26 13:44:21.172 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:44:21.173 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/17 application/json - - 200 - application/json;+charset=utf-8 157.2519ms
2025-02-26 13:44:21.178 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/17 application/json -
2025-02-26 13:44:21.180 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:21.182 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:44:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:44:21.206 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:44:21'.
2025-02-26 13:44:21.208 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:44:21.214 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:44:21.230 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:44:21.238 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:44:21.242 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 21.4652ms
2025-02-26 13:44:21.251 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:44:21.256 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/17 application/json - - 200 - application/json;+charset=utf-8 77.8242ms
2025-02-26 13:44:21.379 +01:00 [INF] Executed DbCommand (165ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 13:44:21.383 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:44:21.403 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 361.708ms
2025-02-26 13:44:21.405 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:44:21.405 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/17 application/json -
2025-02-26 13:44:21.407 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/17 application/json - - 200 - application/json;+charset=utf-8 398.9772ms
2025-02-26 13:44:21.408 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:21.411 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:44:21.413 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:44:21.432 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 13:44:21.436 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:44:21.438 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 19.8843ms
2025-02-26 13:44:21.440 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:44:21.442 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/17 application/json - - 200 - application/json;+charset=utf-8 36.9910ms
2025-02-26 13:44:24.672 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/17 - -
2025-02-26 13:44:24.673 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/17 - -
2025-02-26 13:44:24.674 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:24.675 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:24.676 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/17 - - - 204 - - 3.4105ms
2025-02-26 13:44:24.677 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/17 - - - 204 - - 3.9042ms
2025-02-26 13:44:24.678 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/17 application/json -
2025-02-26 13:44:24.679 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:24.680 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:44:24.685 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:44:24.700 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:44:24.707 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:44:24.720 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 13:44:24.728 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 39.0236ms
2025-02-26 13:44:24.729 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/17 application/json -
2025-02-26 13:44:24.729 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:44:24.730 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:44:24.734 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/17 application/json - - 200 - application/json;+charset=utf-8 56.6049ms
2025-02-26 13:44:24.735 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:44:24.740 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:44:24.749 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:44:24.755 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:44:24.759 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 13:44:24.762 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 18.5471ms
2025-02-26 13:44:24.763 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:44:24.765 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/17 application/json - - 200 - application/json;+charset=utf-8 36.0364ms
2025-02-26 13:45:32.011 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryFrBMx33jhAuzrBjq 336
2025-02-26 13:45:32.013 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:45:32.014 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:45:32.018 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:45:32.068 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:32.072 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:32.268 +01:00 [INF] Received HTTP response headers after 192.1109ms - 400
2025-02-26 13:45:32.270 +01:00 [INF] End processing HTTP request after 203.0815ms - 400
2025-02-26 13:45:32.275 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:32.277 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:32.485 +01:00 [INF] Received HTTP response headers after 206.512ms - 200
2025-02-26 13:45:32.487 +01:00 [INF] End processing HTTP request after 211.717ms - 200
2025-02-26 13:45:32.495 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:32.497 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:32.552 +01:00 [INF] Received HTTP response headers after 54.2924ms - 400
2025-02-26 13:45:32.553 +01:00 [INF] End processing HTTP request after 57.803ms - 400
2025-02-26 13:45:32.555 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:32.557 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:32.764 +01:00 [INF] Received HTTP response headers after 206.0687ms - 200
2025-02-26 13:45:32.765 +01:00 [INF] End processing HTTP request after 210.0002ms - 200
2025-02-26 13:45:32.769 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:45:42.249 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:42.251 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:42.312 +01:00 [INF] Received HTTP response headers after 58.7632ms - 400
2025-02-26 13:45:42.313 +01:00 [INF] End processing HTTP request after 63.7204ms - 400
2025-02-26 13:45:47.577 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:47.579 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:45:47.808 +01:00 [INF] Received HTTP response headers after 227.6718ms - 200
2025-02-26 13:45:47.809 +01:00 [INF] End processing HTTP request after 232.4757ms - 200
2025-02-26 13:46:38.433 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-26 13:46:38.618 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-26 13:46:38.619 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-26 13:46:38.622 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-26 13:46:38.623 +01:00 [INF] Hosting environment: Development
2025-02-26 13:46:38.624 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-26 13:46:38.931 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 13:46:43.079 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-26 13:46:43.222 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 13:46:43.229 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4300.7292ms
2025-02-26 13:46:43.300 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-26 13:46:43.499 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 199.5861ms
2025-02-26 13:46:46.297 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 13:46:53.631 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-26 13:46:53.635 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 7337.9988ms
2025-02-26 13:46:54.267 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-26 13:46:54.603 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:46:54.603 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:46:54.603 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:46:54.603 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:46:54.603 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:46:54.603 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:46:54.603 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:46:54.603 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:46:54.617 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:46:54.617 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:46:54.617 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:46:54.617 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:46:54.617 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:46:54.617 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:46:54.630 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 26.5271ms
2025-02-26 13:46:54.617 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:46:54.622 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 19.0741ms
2025-02-26 13:46:54.622 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 19.1836ms
2025-02-26 13:46:54.625 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 22.1644ms
2025-02-26 13:46:54.645 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 42.4741ms
2025-02-26 13:46:54.623 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 20.3829ms
2025-02-26 13:46:54.625 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 21.2254ms
2025-02-26 13:46:54.617 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:46:54.649 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:46:54.650 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:46:54.658 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 54.9841ms
2025-02-26 13:46:54.666 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:46:54.666 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:46:54.915 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:46:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:46:54.915 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:46:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:46:54.948 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:46:54'.
2025-02-26 13:46:54.950 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:46:54'.
2025-02-26 13:46:54.954 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:46:54.955 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:46:55.013 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:46:55.013 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:47:03.787 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:03.864 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:47:03.865 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:03.866 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8844.7627ms
2025-02-26 13:47:03.868 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:47:03.870 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:47:03.874 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:03'.
2025-02-26 13:47:03.877 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9228.1670ms
2025-02-26 13:47:03.878 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:47:03.880 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:47:03.896 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:03.899 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 17.0061ms
2025-02-26 13:47:03.901 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:47:03.901 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:47:03.902 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 37.5630ms
2025-02-26 13:47:03.902 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:03.908 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:47:03.923 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:03'.
2025-02-26 13:47:03.925 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:47:03.927 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:47:03.935 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:03.937 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.0383ms
2025-02-26 13:47:03.940 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:47:03.941 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:47:03.942 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:03.943 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 41.9610ms
2025-02-26 13:47:03.944 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:47:03.958 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:03'.
2025-02-26 13:47:03.960 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:47:03.961 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:47:03.965 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:03.968 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.9118ms
2025-02-26 13:47:03.969 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:47:03.970 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 30.3248ms
2025-02-26 13:47:05.512 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:47:05.602 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:05.605 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10583.8089ms
2025-02-26 13:47:05.606 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:47:05.607 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:47:05.607 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:05.609 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:47:05.617 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10967.4303ms
2025-02-26 13:47:05.620 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:05'.
2025-02-26 13:47:05.623 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:47:05.624 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:47:05.646 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:47:05.653 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:05.654 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 28.1598ms
2025-02-26 13:47:05.656 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:47:05.656 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:47:05.657 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 51.1366ms
2025-02-26 13:47:05.657 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:05.661 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:47:05.666 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:05'.
2025-02-26 13:47:05.667 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:47:05.668 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:47:05.727 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:47:05.733 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:05.734 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 64.6317ms
2025-02-26 13:47:05.735 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:47:05.736 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:47:05.738 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 81.8983ms
2025-02-26 13:47:05.738 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:05.740 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:47:05.746 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:05'.
2025-02-26 13:47:05.747 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:47:05.748 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:47:05.754 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:47:05.760 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:05.762 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.603ms
2025-02-26 13:47:05.763 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:47:05.764 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 28.9409ms
2025-02-26 13:47:37.698 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 13:47:37.701 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:37.703 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 4.3549ms
2025-02-26 13:47:37.704 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 13:47:37.706 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:37.708 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:47:37.716 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:37'.
2025-02-26 13:47:37.719 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 13:47:37.724 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:47:37.735 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:47:37.891 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 13:47:37.913 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:37.916 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 189.8828ms
2025-02-26 13:47:37.917 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 13:47:37.920 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 216.1288ms
2025-02-26 13:47:40.954 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/18 - -
2025-02-26 13:47:40.958 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/18 - -
2025-02-26 13:47:40.959 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/18 - -
2025-02-26 13:47:40.959 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/18 - -
2025-02-26 13:47:40.960 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:40.961 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:40.962 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:40.963 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:40.966 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/18 - - - 204 - - 9.9163ms
2025-02-26 13:47:40.968 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/18 - - - 204 - - 9.4945ms
2025-02-26 13:47:40.965 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/18 - - - 204 - - 10.7288ms
2025-02-26 13:47:40.974 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/18 - - - 204 - - 15.3206ms
2025-02-26 13:47:40.973 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/18 application/json -
2025-02-26 13:47:40.973 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/18 application/json -
2025-02-26 13:47:40.989 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:40.990 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:40.991 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:47:40.992 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:40'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:47:40.997 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:47:41.003 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:40'.
2025-02-26 13:47:41.008 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:47:41.013 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:47:41.131 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:47:41.156 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:41.178 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 161.1198ms
2025-02-26 13:47:41.181 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/18 application/json -
2025-02-26 13:47:41.203 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:47:41.204 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:41.246 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/18 application/json - - 200 - application/json;+charset=utf-8 272.5406ms
2025-02-26 13:47:41.286 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:41'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:47:41.294 +01:00 [INF] Executed DbCommand (55ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 13:47:41.304 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:47:41'.
2025-02-26 13:47:41.316 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:41.316 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:47:41.320 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:47:41.336 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:47:41.343 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 336.7634ms
2025-02-26 13:47:41.345 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/18 application/json -
2025-02-26 13:47:41.346 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:41.347 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:47:41.348 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:41.351 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 22.3872ms
2025-02-26 13:47:41.355 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/18 application/json - - 200 - application/json;+charset=utf-8 381.2947ms
2025-02-26 13:47:41.356 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:47:41.357 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:47:41.362 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:47:41.364 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/18 application/json - - 200 - application/json;+charset=utf-8 182.6132ms
2025-02-26 13:47:41.376 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 13:47:41.381 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:47:41.391 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 23.3637ms
2025-02-26 13:47:41.399 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:47:41.417 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/18 application/json - - 200 - application/json;+charset=utf-8 72.0598ms
2025-02-26 13:47:42.618 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/18 - -
2025-02-26 13:47:42.618 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/18 - -
2025-02-26 13:47:42.619 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:42.620 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:42.622 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/18 - - - 204 - - 3.8497ms
2025-02-26 13:47:42.621 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/18 - - - 204 - - 3.3714ms
2025-02-26 13:47:42.624 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/18 application/json -
2025-02-26 13:47:42.626 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:42.627 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:47:42.635 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:47:42.648 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:47:42.655 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:47:42.667 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 13:47:42.681 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 42.7053ms
2025-02-26 13:47:42.691 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:47:42.695 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/18 application/json -
2025-02-26 13:47:42.696 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/18 application/json - - 200 - application/json;+charset=utf-8 71.4478ms
2025-02-26 13:47:42.697 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:42.701 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:47:42.702 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:47:42.713 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:47:42.723 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:47:42.728 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 13:47:42.733 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 25.9496ms
2025-02-26 13:47:42.734 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:47:42.738 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/18 application/json - - 200 - application/json;+charset=utf-8 42.9567ms
2025-02-26 13:47:59.129 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundarypBT39t7CD5jV3XhO 316
2025-02-26 13:47:59.133 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:47:59.134 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:47:59.141 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:47:59.196 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:47:59.200 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:47:59.522 +01:00 [INF] Received HTTP response headers after 318.7079ms - 200
2025-02-26 13:47:59.523 +01:00 [INF] End processing HTTP request after 328.952ms - 200
2025-02-26 13:47:59.533 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:47:59.534 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:47:59.753 +01:00 [INF] Received HTTP response headers after 217.9624ms - 200
2025-02-26 13:47:59.755 +01:00 [INF] End processing HTTP request after 221.6024ms - 200
2025-02-26 13:47:59.758 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:48:05.016 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:48:05.017 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:48:05.073 +01:00 [INF] Received HTTP response headers after 54.8298ms - 400
2025-02-26 13:48:05.075 +01:00 [INF] End processing HTTP request after 58.7897ms - 400
2025-02-26 13:48:19.048 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:48:19.051 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:48:19.269 +01:00 [INF] Received HTTP response headers after 214.1351ms - 200
2025-02-26 13:48:19.270 +01:00 [INF] End processing HTTP request after 221.8243ms - 200
2025-02-26 13:48:40.544 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:48:40.546 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:48:40.616 +01:00 [INF] Received HTTP response headers after 67.9353ms - 400
2025-02-26 13:48:40.617 +01:00 [INF] End processing HTTP request after 72.4733ms - 400
2025-02-26 13:48:42.362 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:48:42.364 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:48:42.594 +01:00 [INF] Received HTTP response headers after 227.7094ms - 200
2025-02-26 13:48:42.595 +01:00 [INF] End processing HTTP request after 233.7476ms - 200
2025-02-26 13:49:40.911 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Słowa kluczowe mapy są zbyt toksyczne i należy je zmienić.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 263
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 13:49:40.921 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:49:40.923 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 101779.7541ms
2025-02-26 13:49:40.924 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:49:40.925 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundarypBT39t7CD5jV3XhO 316 - 200 - application/json;+charset=utf-8 101796.2260ms
2025-02-26 13:49:50.511 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundarycHmXQrrSk2Mt7VSj 299
2025-02-26 13:49:50.513 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:49:50.514 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:49:50.515 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:49:50.521 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:49:50.522 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:49:50.809 +01:00 [INF] Received HTTP response headers after 285.9514ms - 200
2025-02-26 13:49:50.811 +01:00 [INF] End processing HTTP request after 289.4861ms - 200
2025-02-26 13:49:50.813 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:49:50.814 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:49:51.034 +01:00 [INF] Received HTTP response headers after 217.7932ms - 200
2025-02-26 13:49:51.035 +01:00 [INF] End processing HTTP request after 222.2039ms - 200
2025-02-26 13:49:51.040 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:49:56.013 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:49:56.014 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:49:56.069 +01:00 [INF] Received HTTP response headers after 53.2675ms - 400
2025-02-26 13:49:56.070 +01:00 [INF] End processing HTTP request after 57.2957ms - 400
2025-02-26 13:49:59.352 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:49:59.354 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:49:59.571 +01:00 [INF] Received HTTP response headers after 215.9766ms - 200
2025-02-26 13:49:59.573 +01:00 [INF] End processing HTTP request after 220.6096ms - 200
2025-02-26 13:50:23.306 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Słowa kluczowe mapy są zbyt toksyczne i należy je zmienić.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 263
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 13:50:23.310 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:50:23.312 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 32795.0851ms
2025-02-26 13:50:23.313 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:50:23.314 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundarycHmXQrrSk2Mt7VSj 299 - 200 - application/json;+charset=utf-8 32803.2878ms
2025-02-26 13:50:31.013 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryCJAS8EllRuBVzj8I 292
2025-02-26 13:50:31.015 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:50:31.015 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:50:31.017 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:50:31.022 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:50:31.024 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:50:31.318 +01:00 [INF] Received HTTP response headers after 291.7189ms - 200
2025-02-26 13:50:31.319 +01:00 [INF] End processing HTTP request after 296.2647ms - 200
2025-02-26 13:50:31.320 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:50:31.322 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:50:31.513 +01:00 [INF] Received HTTP response headers after 189.4856ms - 200
2025-02-26 13:50:31.514 +01:00 [INF] End processing HTTP request after 193.8135ms - 200
2025-02-26 13:50:31.518 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:50:35.331 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:50:35.332 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:50:35.560 +01:00 [INF] Received HTTP response headers after 226.3863ms - 200
2025-02-26 13:50:35.561 +01:00 [INF] End processing HTTP request after 230.1308ms - 200
2025-02-26 13:50:55.068 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:50:55.069 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:50:55.239 +01:00 [INF] Received HTTP response headers after 167.4438ms - 200
2025-02-26 13:50:55.239 +01:00 [INF] End processing HTTP request after 171.6368ms - 200
2025-02-26 13:51:02.833 +01:00 [ERR] Błąd w MapController.SaveMap
System.InvalidOperationException: Słowa kluczowe mapy są zbyt toksyczne i należy je zmienić.
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 263
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-26 13:51:02.836 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:51:02.837 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 31817.8586ms
2025-02-26 13:51:02.838 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:51:02.840 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryCJAS8EllRuBVzj8I 292 - 200 - application/json;+charset=utf-8 31826.5293ms
2025-02-26 13:51:29.744 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryAMAbo5b6zZpSNhvT 322
2025-02-26 13:51:29.745 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:51:29.746 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:51:29.748 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:51:29.752 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:51:29.754 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:51:29.955 +01:00 [INF] Received HTTP response headers after 198.5942ms - 200
2025-02-26 13:51:29.956 +01:00 [INF] End processing HTTP request after 204.0318ms - 200
2025-02-26 13:51:29.958 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:51:29.960 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:51:30.177 +01:00 [INF] Received HTTP response headers after 215.0962ms - 200
2025-02-26 13:51:30.178 +01:00 [INF] End processing HTTP request after 220.1137ms - 200
2025-02-26 13:51:30.181 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:51:36.393 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:51:36.395 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:51:36.619 +01:00 [INF] Received HTTP response headers after 221.6444ms - 200
2025-02-26 13:51:36.620 +01:00 [INF] End processing HTTP request after 227.4327ms - 200
2025-02-26 13:51:52.130 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:51:52.135 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:51:52.345 +01:00 [INF] Received HTTP response headers after 207.8991ms - 200
2025-02-26 13:51:52.347 +01:00 [INF] End processing HTTP request after 216.9907ms - 200
2025-02-26 13:52:01.206 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:52:01.208 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:52:01.401 +01:00 [INF] Received HTTP response headers after 191.1965ms - 200
2025-02-26 13:52:01.402 +01:00 [INF] End processing HTTP request after 196.0256ms - 200
2025-02-26 13:52:11.777 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:52:11.778 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:52:11.964 +01:00 [INF] Received HTTP response headers after 183.5531ms - 200
2025-02-26 13:52:11.965 +01:00 [INF] End processing HTTP request after 188.1865ms - 200
2025-02-26 13:52:23.134 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:52:23.136 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:52:23.320 +01:00 [INF] Received HTTP response headers after 183.1643ms - 200
2025-02-26 13:52:23.321 +01:00 [INF] End processing HTTP request after 187.8109ms - 200
2025-02-26 13:52:39.416 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tagName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
WHERE t."TagName" = @__tagName_0
LIMIT 1
2025-02-26 13:52:39.548 +01:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("TagName", "TagQuantity")
VALUES (@p0, @p1)
RETURNING "TagId";
2025-02-26 13:52:39.556 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapTag" ("MapTagsTagId", "MapsWithThisTagMapId")
VALUES (@p2, @p3);
2025-02-26 13:52:39.576 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tagName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
WHERE t."TagName" = @__tagName_0
LIMIT 1
2025-02-26 13:52:39.581 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("TagName", "TagQuantity")
VALUES (@p0, @p1)
RETURNING "TagId";
2025-02-26 13:52:39.585 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapTag" ("MapTagsTagId", "MapsWithThisTagMapId")
VALUES (@p2, @p3);
2025-02-26 13:52:39.617 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tagName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
WHERE t."TagName" = @__tagName_0
LIMIT 1
2025-02-26 13:52:39.621 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("TagName", "TagQuantity")
VALUES (@p0, @p1)
RETURNING "TagId";
2025-02-26 13:52:39.625 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapTag" ("MapTagsTagId", "MapsWithThisTagMapId")
VALUES (@p2, @p3);
2025-02-26 13:52:39.628 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tagName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
WHERE t."TagName" = @__tagName_0
LIMIT 1
2025-02-26 13:52:39.632 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("TagName", "TagQuantity")
VALUES (@p0, @p1)
RETURNING "TagId";
2025-02-26 13:52:39.635 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapTag" ("MapTagsTagId", "MapsWithThisTagMapId")
VALUES (@p2, @p3);
2025-02-26 13:52:39.640 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tagName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
WHERE t."TagName" = @__tagName_0
LIMIT 1
2025-02-26 13:52:39.644 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("TagName", "TagQuantity")
VALUES (@p0, @p1)
RETURNING "TagId";
2025-02-26 13:52:39.648 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapTag" ("MapTagsTagId", "MapsWithThisTagMapId")
VALUES (@p2, @p3);
2025-02-26 13:52:39.655 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:52:39.670 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-26 13:52:39.672 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:52:39.674 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 69924.3252ms
2025-02-26 13:52:39.675 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:52:39.675 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryAMAbo5b6zZpSNhvT 322 - 200 - application/json;+charset=utf-8 69931.6303ms
2025-02-26 13:52:40.869 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 13:52:40.870 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 13:52:40.870 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 13:52:40.872 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:52:40.875 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:52:40.875 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:52:40.875 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:52:40.877 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:52:40.879 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:52:40.883 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:52:40.884 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:52:40.887 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:52:40.907 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 13:52:40.907 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 13:52:40.913 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:52:40.916 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:52:40.917 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 27.0788ms
2025-02-26 13:52:40.919 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-26 13:52:40.919 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 26.6263ms
2025-02-26 13:52:40.920 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:52:40.921 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-26 13:52:40.922 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:52:40.922 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-26 13:52:40.923 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:52:40.924 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 54.1904ms
2025-02-26 13:52:40.925 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:52:40.925 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:52:40.927 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-26 13:52:40.928 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 58.8055ms
2025-02-26 13:52:40.932 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:52:40.933 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:52:40.937 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:52:40.943 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-26 13:52:40.945 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 13:52:40.950 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:52:40.957 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:52:40.958 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 19.2837ms
2025-02-26 13:52:40.964 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 75.7429ms
2025-02-26 13:52:40.965 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-26 13:52:40.965 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-26 13:52:40.966 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:52:40.967 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 48.5659ms
2025-02-26 13:52:40.969 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:52:40.970 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 100.6344ms
2025-02-26 13:52:40.973 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:52:40.980 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-26 13:52:40.998 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-26 13:52:41.002 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:52:41.005 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 17.8002ms
2025-02-26 13:52:41.006 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-26 13:52:41.007 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 41.5831ms
2025-02-26 13:52:41.010 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-26 13:52:41.013 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:52:41.014 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 73.1376ms
2025-02-26 13:52:41.015 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-26 13:52:41.017 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 95.6910ms
2025-02-26 13:53:55.233 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-26 13:53:55.426 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-26 13:53:55.427 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-26 13:53:55.429 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-26 13:53:55.430 +01:00 [INF] Hosting environment: Development
2025-02-26 13:53:55.431 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-26 13:53:56.162 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 13:54:00.298 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-26 13:54:00.408 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 13:54:00.414 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4254.1684ms
2025-02-26 13:54:00.484 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-26 13:54:00.650 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 165.3082ms
2025-02-26 13:54:03.485 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 13:54:09.149 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-26 13:54:09.150 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 5664.6406ms
2025-02-26 13:54:09.165 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-26 13:54:09.986 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:54:09.987 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:54:09.986 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:54:10.027 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:10.027 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:10.033 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:09.991 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:54:10.052 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 65.0969ms
2025-02-26 13:54:10.052 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 64.9683ms
2025-02-26 13:54:10.055 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 68.1911ms
2025-02-26 13:54:09.987 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:54:10.001 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:54:10.009 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 13:54:10.012 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 13:54:10.056 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:54:10.056 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:54:10.059 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:10.059 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:10.060 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:10.061 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:10.062 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:10.064 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:10.064 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:10.066 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 75.1174ms
2025-02-26 13:54:10.067 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 80.8780ms
2025-02-26 13:54:10.069 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 71.7360ms
2025-02-26 13:54:10.070 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 63.0454ms
2025-02-26 13:54:10.071 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 58.5706ms
2025-02-26 13:54:10.148 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:54:10.148 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:54:10.183 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:10'.
2025-02-26 13:54:10.185 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:10'.
2025-02-26 13:54:10.192 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:54:10.192 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:54:10.230 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:54:10.230 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:54:18.983 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:54:19.066 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:54:19.067 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:19.068 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8829.7043ms
2025-02-26 13:54:19.071 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:54:19.072 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:54:19.078 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:19'.
2025-02-26 13:54:19.081 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9024.5323ms
2025-02-26 13:54:19.081 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:54:19.084 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:54:19.105 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:54:19.107 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 18.0904ms
2025-02-26 13:54:19.109 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:54:19.110 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:54:19.110 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 44.3672ms
2025-02-26 13:54:19.111 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:19.114 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:54:19.141 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:19'.
2025-02-26 13:54:19.142 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:54:19.144 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:54:19.153 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:54:19.155 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.1831ms
2025-02-26 13:54:19.156 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:54:19.158 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 13:54:19.159 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 48.8827ms
2025-02-26 13:54:19.160 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:19.165 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:54:19.174 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:19'.
2025-02-26 13:54:19.175 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:54:19.176 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:54:19.186 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:54:19.188 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.6864ms
2025-02-26 13:54:19.189 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 13:54:19.190 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 31.9874ms
2025-02-26 13:54:20.876 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:54:20.967 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:54:20.970 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10737.6441ms
2025-02-26 13:54:20.971 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:54:20.972 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:54:20.972 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:20.974 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:54:20.982 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10925.7858ms
2025-02-26 13:54:20.983 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:20'.
2025-02-26 13:54:20.986 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:54:20.987 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:54:21.012 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:54:21.019 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:54:21.021 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 31.1082ms
2025-02-26 13:54:21.022 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:54:21.023 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:54:21.024 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:21.025 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 54.0215ms
2025-02-26 13:54:21.027 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:54:21.038 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:21'.
2025-02-26 13:54:21.041 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:54:21.042 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:54:21.103 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:54:21.109 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:54:21.110 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 65.8281ms
2025-02-26 13:54:21.111 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:54:21.112 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 13:54:21.113 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 91.3591ms
2025-02-26 13:54:21.114 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:54:21.116 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:54:21.122 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:54:21'.
2025-02-26 13:54:21.124 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:54:21.124 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 13:54:21.131 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:54:21.137 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:54:21.139 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.9594ms
2025-02-26 13:54:21.140 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 13:54:21.141 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 29.7351ms
2025-02-26 13:57:17.244 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 13:57:17.246 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:17.247 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 3.1378ms
2025-02-26 13:57:17.248 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 13:57:17.251 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:17.252 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:57:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:57:17.262 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:57:17'.
2025-02-26 13:57:17.263 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 13:57:17.268 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:57:17.280 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:57:17.431 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 13:57:17.456 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:57:17.459 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 189.0542ms
2025-02-26 13:57:17.460 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 13:57:17.462 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 213.8212ms
2025-02-26 13:57:19.978 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/19 - -
2025-02-26 13:57:19.980 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/19 - -
2025-02-26 13:57:19.985 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/19 - -
2025-02-26 13:57:19.981 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/19 - -
2025-02-26 13:57:19.988 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:19.990 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:19.991 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:20.001 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/19 - - - 204 - - 20.5524ms
2025-02-26 13:57:19.992 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:20.007 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/19 - - - 204 - - 20.2150ms
2025-02-26 13:57:19.993 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/19 - - - 204 - - 15.3634ms
2025-02-26 13:57:20.001 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/19 application/json -
2025-02-26 13:57:20.009 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/19 application/json -
2025-02-26 13:57:20.010 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/19 - - - 204 - - 29.0543ms
2025-02-26 13:57:20.014 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:20.014 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:20.017 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:57:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:57:20.018 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:57:20.025 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:57:20'.
2025-02-26 13:57:20.027 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:57:20.030 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:57:20.031 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:57:20.155 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 13:57:20.165 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:57:20.192 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 160.3366ms
2025-02-26 13:57:20.194 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/19 application/json -
2025-02-26 13:57:20.195 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:57:20.196 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:20.198 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/19 application/json - - 200 - application/json;+charset=utf-8 188.7668ms
2025-02-26 13:57:20.198 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:57:20.201 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:57:20.214 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 13:57:20.219 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:57:20.220 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:57:20.223 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 16.4465ms
2025-02-26 13:57:20.227 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:57:20.228 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 13:57:20.230 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 196.0364ms
2025-02-26 13:57:20.234 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:57:20.233 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/19 application/json - - 200 - application/json;+charset=utf-8 38.6855ms
2025-02-26 13:57:20.232 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/19 application/json -
2025-02-26 13:57:20.239 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/19 application/json - - 200 - application/json;+charset=utf-8 238.4612ms
2025-02-26 13:57:20.242 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:20.246 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:57:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 13:57:20.258 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 12:57:20'.
2025-02-26 13:57:20.260 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:57:20.261 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:57:20.272 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:57:20.289 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 13:57:20.296 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 33.783ms
2025-02-26 13:57:20.306 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 13:57:20.310 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/19 application/json - - 200 - application/json;+charset=utf-8 78.1497ms
2025-02-26 13:57:21.071 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/19 - -
2025-02-26 13:57:21.071 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/19 - -
2025-02-26 13:57:21.073 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:21.073 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:21.074 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/19 - - - 204 - - 3.7495ms
2025-02-26 13:57:21.075 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/19 - - - 204 - - 4.5124ms
2025-02-26 13:57:21.076 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/19 application/json -
2025-02-26 13:57:21.080 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:21.081 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:57:21.085 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:57:21.097 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:57:21.105 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:57:21.123 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 13:57:21.135 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 47.3766ms
2025-02-26 13:57:21.144 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/19 application/json -
2025-02-26 13:57:21.144 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:57:21.147 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:57:21.149 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/19 application/json - - 200 - application/json;+charset=utf-8 72.8024ms
2025-02-26 13:57:21.150 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:57:21.152 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:57:21.163 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 13:57:21.172 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 13:57:21.178 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 13:57:21.181 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 24.1156ms
2025-02-26 13:57:21.184 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 13:57:21.185 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/19 application/json - - 200 - application/json;+charset=utf-8 40.8583ms
2025-02-26 13:58:32.284 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryDMECIZkQ2IBY0tgB 588
2025-02-26 13:58:32.286 +01:00 [INF] CORS policy execution successful.
2025-02-26 13:58:32.287 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 13:58:32.291 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 13:58:39.549 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:58:39.553 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:58:39.905 +01:00 [INF] Received HTTP response headers after 348.3085ms - 200
2025-02-26 13:58:39.907 +01:00 [INF] End processing HTTP request after 358.8894ms - 200
2025-02-26 13:58:48.430 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:58:48.431 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 13:58:48.648 +01:00 [INF] Received HTTP response headers after 215.156ms - 200
2025-02-26 13:58:48.649 +01:00 [INF] End processing HTTP request after 219.3858ms - 200
2025-02-26 14:12:01.446 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-26 14:12:01.599 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-26 14:12:01.600 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-26 14:12:01.602 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-26 14:12:01.602 +01:00 [INF] Hosting environment: Development
2025-02-26 14:12:01.603 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-26 14:12:02.319 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 14:12:06.480 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-26 14:12:06.579 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 14:12:06.584 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4268.8164ms
2025-02-26 14:12:06.666 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-26 14:12:06.924 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 257.4290ms
2025-02-26 14:12:09.651 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 14:12:14.294 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-26 14:12:14.296 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-26 14:12:14.299 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 4647.4373ms
2025-02-26 14:12:15.047 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 14:12:15.047 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 14:12:15.047 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 14:12:15.047 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 14:12:15.047 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 14:12:15.048 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 14:12:15.055 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 14:12:15.060 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 14:12:15.066 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:15.066 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:15.066 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:15.066 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:15.066 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:15.066 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:15.066 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:15.066 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:15.069 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 22.0389ms
2025-02-26 14:12:15.069 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 14.4321ms
2025-02-26 14:12:15.069 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 22.1888ms
2025-02-26 14:12:15.069 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 9.4818ms
2025-02-26 14:12:15.072 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 25.0712ms
2025-02-26 14:12:15.075 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 27.2898ms
2025-02-26 14:12:15.074 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 26.6451ms
2025-02-26 14:12:15.073 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 25.1556ms
2025-02-26 14:12:15.083 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 14:12:15.083 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 14:12:15.093 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:15.093 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:15.165 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:15'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 14:12:15.165 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:15'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 14:12:15.196 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:15'.
2025-02-26 14:12:15.200 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:15'.
2025-02-26 14:12:15.203 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 14:12:15.203 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 14:12:15.232 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 14:12:15.232 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 14:12:23.646 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 14:12:23.701 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 14:12:23.702 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:23.703 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8466.0595ms
2025-02-26 14:12:23.705 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:23'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 14:12:23.706 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 14:12:23.710 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:23'.
2025-02-26 14:12:23.712 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 14:12:23.713 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8629.6924ms
2025-02-26 14:12:23.714 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 14:12:23.731 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 14:12:23.734 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.8605ms
2025-02-26 14:12:23.735 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 14:12:23.735 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 14:12:23.737 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 35.6248ms
2025-02-26 14:12:23.738 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:23.741 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:23'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 14:12:23.755 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:23'.
2025-02-26 14:12:23.757 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 14:12:23.758 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 14:12:23.766 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 14:12:23.769 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.9425ms
2025-02-26 14:12:23.770 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 14:12:23.770 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 14:12:23.771 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 36.4435ms
2025-02-26 14:12:23.772 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:23.774 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:23'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 14:12:23.780 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:23'.
2025-02-26 14:12:23.781 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 14:12:23.782 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 14:12:23.788 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 14:12:23.790 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.6979ms
2025-02-26 14:12:23.791 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 14:12:23.791 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 21.1205ms
2025-02-26 14:12:25.163 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 14:12:25.235 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 14:12:25.238 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10001.826ms
2025-02-26 14:12:25.239 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 14:12:25.239 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 14:12:25.240 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:25.242 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 14:12:25.247 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10164.2695ms
2025-02-26 14:12:25.249 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:25'.
2025-02-26 14:12:25.252 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 14:12:25.253 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 14:12:25.272 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 14:12:25.278 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 14:12:25.280 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 25.2351ms
2025-02-26 14:12:25.281 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 14:12:25.281 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 14:12:25.282 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 43.3704ms
2025-02-26 14:12:25.283 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:25.284 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 14:12:25.291 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:25'.
2025-02-26 14:12:25.292 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 14:12:25.293 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 14:12:25.345 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 14:12:25.352 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 14:12:25.353 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 58.5819ms
2025-02-26 14:12:25.354 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 14:12:25.354 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 14:12:25.355 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 73.8689ms
2025-02-26 14:12:25.356 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:12:25.357 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 14:12:25.362 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '26.02.2025 13:12:25'.
2025-02-26 14:12:25.363 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 14:12:25.364 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 14:12:25.372 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 14:12:25.378 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 14:12:25.380 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.725ms
2025-02-26 14:12:25.381 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 14:12:25.382 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 28.4742ms
2025-02-26 14:18:17.253 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - -
2025-02-26 14:18:17.254 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:18:17.255 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - - - 204 - - 2.0372ms
2025-02-26 14:18:17.256 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57
2025-02-26 14:18:17.257 +01:00 [INF] CORS policy execution successful.
2025-02-26 14:18:17.258 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 14:18:17.262 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] RegisterUser(JurMaps.Model.DTO.RegisterDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 14:18:19.134 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 14:18:19.137 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 14:18:19.374 +01:00 [INF] Received HTTP response headers after 234.3024ms - 400
2025-02-26 14:18:19.376 +01:00 [INF] End processing HTTP request after 242.6649ms - 400
2025-02-26 14:18:19.384 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 14:18:19.385 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 14:18:19.607 +01:00 [INF] Received HTTP response headers after 220.1985ms - 200
2025-02-26 14:18:19.608 +01:00 [INF] End processing HTTP request after 223.9076ms - 200
2025-02-26 14:18:25.056 +01:00 [ERR] Błąd w AuthController.RegisterUser
System.InvalidOperationException: Nazwa użytkownika nie może być obraźliwa.
   at JurMaps.Services.UserService.RegisterUserAsync(RegisterDto model) in E:\jurmaps2\Services\UserService.cs:line 76
   at JurMaps.Controllers.AuthController.RegisterUser(RegisterDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 41
2025-02-26 14:18:25.061 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 14:18:25.062 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.RegisterUser (JurMaps) in 7798.4471ms
2025-02-26 14:18:25.063 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 14:18:25.064 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57 - 200 - application/json;+charset=utf-8 7807.8236ms
2025-02-26 15:12:51.657 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - -
2025-02-26 15:12:51.658 +01:00 [INF] CORS policy execution successful.
2025-02-26 15:12:51.659 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - - - 204 - - 1.7877ms
2025-02-26 15:12:51.660 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57
2025-02-26 15:12:51.661 +01:00 [INF] CORS policy execution successful.
2025-02-26 15:12:51.661 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 15:12:51.662 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] RegisterUser(JurMaps.Model.DTO.RegisterDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 15:12:51.689 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:12:51.690 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:12:51.861 +01:00 [INF] Received HTTP response headers after 170.2494ms - 400
2025-02-26 15:12:51.862 +01:00 [INF] End processing HTTP request after 173.3295ms - 400
2025-02-26 15:12:51.864 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:12:51.865 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:12:52.209 +01:00 [INF] Received HTTP response headers after 341.5457ms - 200
2025-02-26 15:12:52.210 +01:00 [INF] End processing HTTP request after 345.6946ms - 200
2025-02-26 15:12:52.266 +01:00 [ERR] Błąd w AuthController.RegisterUser
System.InvalidOperationException: Nazwa użytkownika nie może być obraźliwa.
   at JurMaps.Services.UserService.RegisterUserAsync(RegisterDto model) in E:\jurmaps2\Services\UserService.cs:line 76
   at JurMaps.Controllers.AuthController.RegisterUser(RegisterDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 41
2025-02-26 15:12:52.268 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 15:12:52.270 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.RegisterUser (JurMaps) in 605.7052ms
2025-02-26 15:12:52.270 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 15:12:52.271 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57 - 200 - application/json;+charset=utf-8 611.1679ms
2025-02-26 15:13:02.481 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - -
2025-02-26 15:13:02.482 +01:00 [INF] CORS policy execution successful.
2025-02-26 15:13:02.484 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - - - 204 - - 2.2974ms
2025-02-26 15:13:02.485 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57
2025-02-26 15:13:02.486 +01:00 [INF] CORS policy execution successful.
2025-02-26 15:13:02.487 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 15:13:02.487 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] RegisterUser(JurMaps.Model.DTO.RegisterDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 15:13:02.492 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:02.494 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:02.558 +01:00 [INF] Received HTTP response headers after 62.6462ms - 400
2025-02-26 15:13:02.559 +01:00 [INF] End processing HTTP request after 66.8102ms - 400
2025-02-26 15:13:02.560 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:02.561 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:03.204 +01:00 [INF] Received HTTP response headers after 642.0142ms - 200
2025-02-26 15:13:03.209 +01:00 [INF] End processing HTTP request after 648.3456ms - 200
2025-02-26 15:13:03.276 +01:00 [ERR] Błąd w AuthController.RegisterUser
System.InvalidOperationException: Nazwa użytkownika nie może być obraźliwa.
   at JurMaps.Services.UserService.RegisterUserAsync(RegisterDto model) in E:\jurmaps2\Services\UserService.cs:line 76
   at JurMaps.Controllers.AuthController.RegisterUser(RegisterDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 41
2025-02-26 15:13:03.279 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 15:13:03.280 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.RegisterUser (JurMaps) in 791.1728ms
2025-02-26 15:13:03.281 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 15:13:03.282 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57 - 200 - application/json;+charset=utf-8 797.1459ms
2025-02-26 15:13:23.492 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - -
2025-02-26 15:13:23.494 +01:00 [INF] CORS policy execution successful.
2025-02-26 15:13:23.495 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - - - 204 - - 2.4038ms
2025-02-26 15:13:23.497 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57
2025-02-26 15:13:23.499 +01:00 [INF] CORS policy execution successful.
2025-02-26 15:13:23.500 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 15:13:23.518 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] RegisterUser(JurMaps.Model.DTO.RegisterDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 15:13:23.524 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:23.526 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:23.581 +01:00 [INF] Received HTTP response headers after 54.3246ms - 400
2025-02-26 15:13:23.583 +01:00 [INF] End processing HTTP request after 58.7047ms - 400
2025-02-26 15:13:23.584 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:23.587 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:23.912 +01:00 [INF] Received HTTP response headers after 323.1585ms - 200
2025-02-26 15:13:23.914 +01:00 [INF] End processing HTTP request after 329.6674ms - 200
2025-02-26 15:13:23.989 +01:00 [ERR] Błąd w AuthController.RegisterUser
System.InvalidOperationException: Nazwa użytkownika nie może być obraźliwa.
   at JurMaps.Services.UserService.RegisterUserAsync(RegisterDto model) in E:\jurmaps2\Services\UserService.cs:line 76
   at JurMaps.Controllers.AuthController.RegisterUser(RegisterDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 41
2025-02-26 15:13:23.994 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 15:13:23.996 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.RegisterUser (JurMaps) in 474.6445ms
2025-02-26 15:13:23.997 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 15:13:23.998 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57 - 200 - application/json;+charset=utf-8 501.2211ms
2025-02-26 15:13:36.536 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - -
2025-02-26 15:13:36.537 +01:00 [INF] CORS policy execution successful.
2025-02-26 15:13:36.538 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - - - 204 - - 2.0964ms
2025-02-26 15:13:36.540 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57
2025-02-26 15:13:36.541 +01:00 [INF] CORS policy execution successful.
2025-02-26 15:13:36.542 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 15:13:36.543 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] RegisterUser(JurMaps.Model.DTO.RegisterDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 15:13:36.549 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:36.551 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:36.651 +01:00 [INF] Received HTTP response headers after 98.0097ms - 400
2025-02-26 15:13:36.652 +01:00 [INF] End processing HTTP request after 102.7627ms - 400
2025-02-26 15:13:36.653 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:36.654 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:13:37.335 +01:00 [INF] Received HTTP response headers after 679.0916ms - 200
2025-02-26 15:13:37.337 +01:00 [INF] End processing HTTP request after 683.7652ms - 200
2025-02-26 15:13:37.390 +01:00 [ERR] Błąd w AuthController.RegisterUser
System.InvalidOperationException: Nazwa użytkownika nie może być obraźliwa.
   at JurMaps.Services.UserService.RegisterUserAsync(RegisterDto model) in E:\jurmaps2\Services\UserService.cs:line 76
   at JurMaps.Controllers.AuthController.RegisterUser(RegisterDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 41
2025-02-26 15:13:37.393 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 15:13:37.395 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.RegisterUser (JurMaps) in 848.5479ms
2025-02-26 15:13:37.396 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 15:13:37.397 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57 - 200 - application/json;+charset=utf-8 857.6348ms
2025-02-26 15:14:04.876 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - -
2025-02-26 15:14:04.877 +01:00 [INF] CORS policy execution successful.
2025-02-26 15:14:04.878 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - - - 204 - - 2.0711ms
2025-02-26 15:14:04.879 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57
2025-02-26 15:14:04.880 +01:00 [INF] CORS policy execution successful.
2025-02-26 15:14:04.881 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 15:14:04.882 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] RegisterUser(JurMaps.Model.DTO.RegisterDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 15:14:04.888 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:14:04.891 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:14:04.962 +01:00 [INF] Received HTTP response headers after 69.7452ms - 400
2025-02-26 15:14:04.975 +01:00 [INF] End processing HTTP request after 86.6996ms - 400
2025-02-26 15:14:04.978 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:14:04.980 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 15:14:05.300 +01:00 [INF] Received HTTP response headers after 316.9848ms - 200
2025-02-26 15:14:05.314 +01:00 [INF] End processing HTTP request after 336.4962ms - 200
2025-02-26 15:14:05.386 +01:00 [ERR] Błąd w AuthController.RegisterUser
System.InvalidOperationException: Nazwa użytkownika nie może być obraźliwa.
   at JurMaps.Services.UserService.RegisterUserAsync(RegisterDto model) in E:\jurmaps2\Services\UserService.cs:line 76
   at JurMaps.Controllers.AuthController.RegisterUser(RegisterDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 41
2025-02-26 15:14:05.390 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 15:14:05.391 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.RegisterUser (JurMaps) in 505.5505ms
2025-02-26 15:14:05.393 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-26 15:14:05.394 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 57 - 200 - application/json;+charset=utf-8 514.8865ms
2025-02-26 22:50:48.166 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-26 22:50:48.924 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-26 22:50:48.925 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-26 22:50:48.927 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-26 22:50:48.928 +01:00 [INF] Hosting environment: Development
2025-02-26 22:50:48.929 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-26 22:50:51.750 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 22:50:55.927 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-26 22:50:56.122 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 22:50:56.137 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4388.6763ms
2025-02-26 22:50:56.235 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-26 22:50:57.632 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 1396.8095ms
2025-02-26 22:50:59.208 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 22:51:03.302 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 22:51:03.303 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4094.6237ms
2025-02-26 22:51:06.324 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 22:51:10.389 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 22:51:10.390 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4066.0754ms
2025-02-26 22:51:13.413 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 22:51:23.425 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 22:51:23.426 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10012.7359ms
2025-02-26 22:51:26.454 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 22:51:36.464 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 22:51:36.465 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10011.3316ms
2025-02-26 22:51:39.486 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 22:51:48.780 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-26 22:51:48.782 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 9296.0042ms
2025-02-26 22:51:48.788 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-26 23:28:21.618 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - -
2025-02-26 23:28:21.630 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:28:21.633 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - - - 204 - - 14.8955ms
2025-02-26 23:28:21.638 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 48
2025-02-26 23:28:21.639 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:28:21.643 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-26 23:28:21.698 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Object]] LoginUser(JurMaps.Model.DTO.LoginDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:28:44.304 +01:00 [INF] Executed DbCommand (264ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", r."RoleId", r."RoleName"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."UserRoleId" = r."RoleId"
WHERE u."UserEmail" = @__email_0
LIMIT 1
2025-02-26 23:28:45.628 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:28:45.628 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:28:45.633 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:28:45.633 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:28:45.634 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 5.8010ms
2025-02-26 23:28:45.635 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 6.4809ms
2025-02-26 23:28:45.636 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:28:45.636 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:28:45.638 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:28:45.638 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:28:45.835 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '26.02.2025 22:28:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 23:28:45.835 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '26.02.2025 22:28:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-26 23:28:45.887 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '26.02.2025 22:28:45'.
2025-02-26 23:28:45.887 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '26.02.2025 22:28:45'.
2025-02-26 23:28:45.888 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:28:45.889 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:28:45.895 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:28:45.895 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:28:45.918 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:28:45.922 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:28:45.937 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 36.7864ms
2025-02-26 23:28:45.938 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:28:45.941 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 304.8620ms
2025-02-26 23:28:45.964 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:28:45.966 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 70.2534ms
2025-02-26 23:28:45.968 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:28:45.974 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 337.7992ms
2025-02-26 23:28:56.266 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:28:56.273 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.LoginUser (JurMaps) in 34572.364ms
2025-02-26 23:28:56.274 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-26 23:28:56.276 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 48 - 200 - application/json;+charset=utf-8 34637.9445ms
2025-02-26 23:28:56.279 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:28:56.279 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:28:56.280 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:28:56.281 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:28:56.282 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 3.1806ms
2025-02-26 23:28:56.283 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 4.1369ms
2025-02-26 23:28:56.284 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:28:56.284 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:28:56.286 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:28:56.287 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:28:56.298 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:28:56.298 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:28:56.299 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:28:56.300 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:28:56.316 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:28:56.318 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.8077ms
2025-02-26 23:28:56.321 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:28:56.322 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 38.0836ms
2025-02-26 23:28:56.373 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:28:56.378 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:28:56.380 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 75.6104ms
2025-02-26 23:28:56.380 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:28:56.381 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 96.7352ms
2025-02-26 23:30:25.088 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 23:30:25.090 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:30:25.091 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.9479ms
2025-02-26 23:30:25.093 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 23:30:25.095 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:30:25.097 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 23:30:25.102 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:30:25.173 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:30:25.718 +01:00 [INF] Executed DbCommand (397ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 23:30:25.734 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:30:25.736 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 632.5559ms
2025-02-26 23:30:25.737 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 23:30:25.737 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 644.1175ms
2025-02-26 23:30:38.239 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - -
2025-02-26 23:30:38.246 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - -
2025-02-26 23:30:38.240 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - -
2025-02-26 23:30:38.246 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - -
2025-02-26 23:30:38.249 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:30:38.250 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:30:38.250 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:30:38.259 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json -
2025-02-26 23:30:38.261 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - - - 204 - - 20.1679ms
2025-02-26 23:30:38.251 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:30:38.254 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - - - 204 - - 8.2612ms
2025-02-26 23:30:38.252 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - - - 204 - - 12.7001ms
2025-02-26 23:30:38.261 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json -
2025-02-26 23:30:38.266 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:30:38.268 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - - - 204 - - 21.7463ms
2025-02-26 23:30:38.270 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:30:38.271 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:30:38.272 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:30:38.277 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:30:38.277 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:30:38.559 +01:00 [INF] Executed DbCommand (201ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:30:38.564 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:30:38.565 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 285.7123ms
2025-02-26 23:30:38.567 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json -
2025-02-26 23:30:38.567 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:30:38.567 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:30:38.568 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json - - 200 - application/json;+charset=utf-8 309.4466ms
2025-02-26 23:30:38.569 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:30:38.571 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:30:38.577 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:30:38.581 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:30:38.583 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 10.2369ms
2025-02-26 23:30:38.583 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:30:38.584 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json - - 200 - application/json;+charset=utf-8 17.6647ms
2025-02-26 23:30:39.154 +01:00 [INF] Executed DbCommand (567ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:30:39.186 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:30:39.203 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 924.7728ms
2025-02-26 23:30:39.204 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:30:39.204 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json -
2025-02-26 23:30:39.205 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json - - 200 - application/json;+charset=utf-8 944.1875ms
2025-02-26 23:30:39.205 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:30:39.207 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:30:39.208 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:30:39.219 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:30:39.221 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:30:39.223 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 13.8723ms
2025-02-26 23:30:39.224 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:30:39.225 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json - - 200 - application/json;+charset=utf-8 20.9224ms
2025-02-26 23:33:00.659 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - -
2025-02-26 23:33:00.667 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:33:00.659 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:33:00.659 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:33:00.685 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.689 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.692 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 32.0951ms
2025-02-26 23:33:00.697 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 37.3281ms
2025-02-26 23:33:00.701 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:33:00.715 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:33:00.716 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.667 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.723 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 21.7391ms
2025-02-26 23:33:00.722 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.728 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - - - 204 - - 68.3773ms
2025-02-26 23:33:00.660 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - -
2025-02-26 23:33:00.674 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.667 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:33:00.680 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:33:00.685 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:33:00.691 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - -
2025-02-26 23:33:00.697 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - -
2025-02-26 23:33:00.701 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:33:00.716 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:33:00.730 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json -
2025-02-26 23:33:00.732 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:33:00.733 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.733 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 66.7355ms
2025-02-26 23:33:00.734 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.739 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:33:00.740 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - - - 204 - - 80.3902ms
2025-02-26 23:33:00.734 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.735 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.736 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.736 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.737 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.738 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.739 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.741 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json -
2025-02-26 23:33:00.741 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 74.4034ms
2025-02-26 23:33:00.744 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 63.3435ms
2025-02-26 23:33:00.744 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 59.5890ms
2025-02-26 23:33:00.745 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - - - 204 - - 54.1146ms
2025-02-26 23:33:00.746 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - - - 204 - - 48.6749ms
2025-02-26 23:33:00.746 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 44.8230ms
2025-02-26 23:33:00.748 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:33:00.748 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:33:00.749 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.754 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:33:00.754 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:33:00.755 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:33:00.760 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:33:00.782 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.787 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 30.5274ms
2025-02-26 23:33:00.790 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:33:00.790 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:33:00.789 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:33:00.791 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.790 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:33:00.797 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.797 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.799 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 37.8534ms
2025-02-26 23:33:00.801 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json -
2025-02-26 23:33:00.802 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 58.8888ms
2025-02-26 23:33:00.802 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:33:00.798 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:33:00.798 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 81.9250ms
2025-02-26 23:33:00.803 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:33:00.803 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.804 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:33:00.805 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json - - 200 - application/json;+charset=utf-8 63.6355ms
2025-02-26 23:33:00.806 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:33:00.807 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.808 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:33:00.809 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 94.7399ms
2025-02-26 23:33:00.813 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:33:00.814 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:33:00.815 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.817 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:33:00.819 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.6119ms
2025-02-26 23:33:00.820 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:33:00.822 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:33:00.823 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:33:00.827 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:33:00.825 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 34.9893ms
2025-02-26 23:33:00.823 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.829 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.832 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:33:00.832 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.832 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 14.5444ms
2025-02-26 23:33:00.833 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:33:00.834 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.7853ms
2025-02-26 23:33:00.835 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:33:00.836 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:33:00.838 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:33:00.839 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json - - 200 - application/json;+charset=utf-8 37.5691ms
2025-02-26 23:33:00.839 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.839 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.840 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 37.5153ms
2025-02-26 23:33:00.843 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:33:00.845 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:33:00.844 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.7901ms
2025-02-26 23:33:00.845 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:33:00.846 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.847 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:33:00.850 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:33:00.850 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 30.2600ms
2025-02-26 23:33:00.851 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:33:00.852 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:33:00.857 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.858 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.654ms
2025-02-26 23:33:00.859 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:33:00.859 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.860 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 15.2254ms
2025-02-26 23:33:00.861 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.9427ms
2025-02-26 23:33:00.862 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:33:00.863 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:33:00.864 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.865 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 29.0714ms
2025-02-26 23:33:00.866 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:33:00.867 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:33:00.872 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:33:00.878 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.879 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.1872ms
2025-02-26 23:33:00.880 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:33:00.881 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 18.7755ms
2025-02-26 23:33:00.957 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:33:00.959 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.961 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 202.0919ms
2025-02-26 23:33:00.962 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:33:00.962 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json -
2025-02-26 23:33:00.963 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json - - 200 - application/json;+charset=utf-8 232.9220ms
2025-02-26 23:33:00.964 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:00.965 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:33:00.966 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:33:00.974 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:33:00.978 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:00.980 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 11.823ms
2025-02-26 23:33:00.982 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:33:00.984 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json - - 200 - application/json;+charset=utf-8 21.5935ms
2025-02-26 23:33:02.008 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 23:33:02.009 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:02.009 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 1.7460ms
2025-02-26 23:33:02.010 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 23:33:02.011 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:02.013 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 23:33:02.014 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:33:02.020 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:33:02.030 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 23:33:02.033 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:02.035 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 19.3256ms
2025-02-26 23:33:02.035 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 23:33:02.037 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 26.1787ms
2025-02-26 23:33:02.139 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - -
2025-02-26 23:33:02.139 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - -
2025-02-26 23:33:02.140 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - -
2025-02-26 23:33:02.140 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - -
2025-02-26 23:33:02.140 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:02.142 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:02.143 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:02.143 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:02.146 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json -
2025-02-26 23:33:02.145 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - - - 204 - - 6.1406ms
2025-02-26 23:33:02.146 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json -
2025-02-26 23:33:02.144 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - - - 204 - - 5.3822ms
2025-02-26 23:33:02.146 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - - - 204 - - 5.6666ms
2025-02-26 23:33:02.147 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - - - 204 - - 6.8073ms
2025-02-26 23:33:02.148 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:02.149 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:02.151 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:33:02.152 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:33:02.153 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:33:02.154 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:33:02.160 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:33:02.164 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:33:02.166 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:02.169 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:02.170 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 13.8892ms
2025-02-26 23:33:02.171 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json -
2025-02-26 23:33:02.171 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 13.7969ms
2025-02-26 23:33:02.172 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:33:02.172 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json -
2025-02-26 23:33:02.172 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:02.173 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:33:02.175 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json - - 200 - application/json;+charset=utf-8 28.9767ms
2025-02-26 23:33:02.177 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:33:02.177 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:33:02.178 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json - - 200 - application/json;+charset=utf-8 32.5205ms
2025-02-26 23:33:02.181 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:33:02.183 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:33:02.185 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:33:02.196 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:33:02.200 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:02.201 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 14.0143ms
2025-02-26 23:33:02.203 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:33:02.204 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json - - 200 - application/json;+charset=utf-8 32.5118ms
2025-02-26 23:33:02.379 +01:00 [INF] Executed DbCommand (188ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:33:02.382 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:33:02.383 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 197.0606ms
2025-02-26 23:33:02.384 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:33:02.385 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json - - 200 - application/json;+charset=utf-8 214.2265ms
2025-02-26 23:37:26.418 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:37:26.418 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:37:26.419 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - -
2025-02-26 23:37:26.420 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.421 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - -
2025-02-26 23:37:26.438 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 19.4726ms
2025-02-26 23:37:26.437 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:37:26.456 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.462 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.437 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.420 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.464 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 26.9980ms
2025-02-26 23:37:26.480 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - -
2025-02-26 23:37:26.494 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:37:26.510 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.522 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.533 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - - - 204 - - 52.9801ms
2025-02-26 23:37:26.553 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 57.5606ms
2025-02-26 23:37:26.463 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - - - 204 - - 42.1833ms
2025-02-26 23:37:26.467 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - - - 204 - - 47.8107ms
2025-02-26 23:37:26.480 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 62.2452ms
2025-02-26 23:37:26.445 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:37:26.475 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:37:26.485 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:37:26.495 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - -
2025-02-26 23:37:26.502 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:37:26.511 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:37:26.516 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json -
2025-02-26 23:37:26.530 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:37:26.545 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json -
2025-02-26 23:37:26.560 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.561 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.561 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.562 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.563 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.564 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.565 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.565 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.566 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.567 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 121.8306ms
2025-02-26 23:37:26.567 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 91.7424ms
2025-02-26 23:37:26.568 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 83.2830ms
2025-02-26 23:37:26.569 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - - - 204 - - 74.2991ms
2025-02-26 23:37:26.570 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 68.6666ms
2025-02-26 23:37:26.572 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:37:26.572 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:37:26.574 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:37:26.575 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:37:26.583 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:37:26.584 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:37:26.585 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:37:26.586 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:37:26.606 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.608 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.2273ms
2025-02-26 23:37:26.610 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:37:26.613 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 82.7690ms
2025-02-26 23:37:26.617 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:37:26.624 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:37:26.636 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.636 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.641 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 51.6627ms
2025-02-26 23:37:26.643 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:37:26.645 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:37:26.647 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:37:26.647 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json -
2025-02-26 23:37:26.648 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json - - 200 - application/json;+charset=utf-8 131.4924ms
2025-02-26 23:37:26.654 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.657 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.657 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:37:26.659 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.6012ms
2025-02-26 23:37:26.667 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:37:26.667 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:37:26.661 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:37:26.669 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 45.4155ms
2025-02-26 23:37:26.672 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.687 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:37:26.690 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:37:26.693 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.694 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:37:26.696 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 17.6528ms
2025-02-26 23:37:26.700 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:37:26.701 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json - - 200 - application/json;+charset=utf-8 54.1061ms
2025-02-26 23:37:26.702 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.707 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.8769ms
2025-02-26 23:37:26.710 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:37:26.712 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:37:26.713 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.714 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 47.7575ms
2025-02-26 23:37:26.718 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:37:26.720 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:37:26.725 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.726 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.4185ms
2025-02-26 23:37:26.728 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:37:26.729 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 18.5791ms
2025-02-26 23:37:26.740 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:37:26.751 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.754 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 166.321ms
2025-02-26 23:37:26.757 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:37:26.763 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:37:26.763 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.765 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 253.0960ms
2025-02-26 23:37:26.768 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:37:26.773 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:37:26.789 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.790 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:37:26.795 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 201.9627ms
2025-02-26 23:37:26.802 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json -
2025-02-26 23:37:26.805 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.802 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:37:26.808 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:37:26.811 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:37:26.812 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json - - 200 - application/json;+charset=utf-8 266.4931ms
2025-02-26 23:37:26.829 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:37:26.829 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.835 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 37.8179ms
2025-02-26 23:37:26.840 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:37:26.841 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 83.9241ms
2025-02-26 23:37:26.842 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:37:26.845 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:37:26.871 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.871 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.872 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 40.521ms
2025-02-26 23:37:26.877 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:37:26.878 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:37:26.881 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:37:26.886 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json - - 200 - application/json;+charset=utf-8 84.3766ms
2025-02-26 23:37:26.947 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:37:26.954 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.957 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 67.9586ms
2025-02-26 23:37:26.960 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:37:26.962 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:37:26.963 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:37:26.964 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 118.5274ms
2025-02-26 23:37:26.966 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:37:26.968 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:37:26.976 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:37:26.984 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:37:26.988 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 18.8289ms
2025-02-26 23:37:26.990 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:37:26.990 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 29.9391ms
2025-02-26 23:38:55.758 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:38:55.764 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - -
2025-02-26 23:38:55.764 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:38:55.765 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.766 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.767 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - -
2025-02-26 23:38:55.766 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.773 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - - - 204 - - 8.4528ms
2025-02-26 23:38:55.767 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 9.3857ms
2025-02-26 23:38:55.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:38:55.782 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.783 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 18.7073ms
2025-02-26 23:38:55.775 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:38:55.786 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - - - 204 - - 18.8658ms
2025-02-26 23:38:55.785 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:38:55.785 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.776 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json -
2025-02-26 23:38:55.788 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json -
2025-02-26 23:38:55.788 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.790 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.792 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:38:55.793 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.794 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.794 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 19.5000ms
2025-02-26 23:38:55.797 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:38:55.798 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:38:55.801 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:38:55.802 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:38:55.804 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:38:55.808 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:38:55.809 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:38:55.809 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:55.817 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:38:55.822 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:38:55.819 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:38:55.820 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 13.5783ms
2025-02-26 23:38:55.825 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.827 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:55.828 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:55.830 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:38:55.841 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json -
2025-02-26 23:38:55.844 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:38:55.843 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 32.2394ms
2025-02-26 23:38:55.839 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 26.6332ms
2025-02-26 23:38:55.828 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:38:55.845 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.845 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:38:55.849 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:38:55.850 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:55.851 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:38:55.853 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 80.7739ms
2025-02-26 23:38:55.860 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.5856ms
2025-02-26 23:38:55.858 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 73.7838ms
2025-02-26 23:38:55.857 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:38:55.861 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json - - 200 - application/json;+charset=utf-8 85.1644ms
2025-02-26 23:38:55.857 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.861 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:38:55.864 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:38:55.867 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:38:55.874 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 52.2415ms
2025-02-26 23:38:55.872 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:38:55.873 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.879 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:38:55.883 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:38:55.881 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:38:55.890 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:38:55.892 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:38:55.888 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:55.898 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:55.901 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 24.641ms
2025-02-26 23:38:55.903 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:55.903 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.0162ms
2025-02-26 23:38:55.906 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:38:55.909 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 23.4639ms
2025-02-26 23:38:55.907 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:38:55.910 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:38:55.910 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:38:55.911 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.912 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:38:55.914 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json - - 200 - application/json;+charset=utf-8 72.7515ms
2025-02-26 23:38:55.915 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 53.9142ms
2025-02-26 23:38:55.916 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.918 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:38:55.919 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 74.1043ms
2025-02-26 23:38:55.924 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:38:55.925 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:38:55.927 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:38:55.932 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:55.935 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.6325ms
2025-02-26 23:38:55.937 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:38:55.938 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:38:55.941 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 35.8743ms
2025-02-26 23:38:55.944 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:55.945 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.5432ms
2025-02-26 23:38:55.947 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:38:55.949 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:38:55.951 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:55.952 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 41.5995ms
2025-02-26 23:38:55.953 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:38:55.955 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:38:55.962 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:38:55.968 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:55.970 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.9215ms
2025-02-26 23:38:55.971 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:38:55.972 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 25.1097ms
2025-02-26 23:38:56.063 +01:00 [INF] Executed DbCommand (176ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:38:56.118 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:56.119 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 302.6231ms
2025-02-26 23:38:56.121 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json -
2025-02-26 23:38:56.121 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:38:56.122 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:38:56.123 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:38:56.125 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:38:56.123 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json - - 200 - application/json;+charset=utf-8 335.0372ms
2025-02-26 23:38:56.147 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:38:56.272 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:38:56.274 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 146.3159ms
2025-02-26 23:38:56.275 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:38:56.278 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json - - 200 - application/json;+charset=utf-8 157.1725ms
2025-02-26 23:40:23.024 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/21 - -
2025-02-26 23:40:23.027 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/21 - -
2025-02-26 23:40:23.026 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:40:23.028 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:40:23.028 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/21 - - - 204 - - 4.3947ms
2025-02-26 23:40:23.029 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/21 - - - 204 - - 2.8240ms
2025-02-26 23:40:23.031 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/21 application/json -
2025-02-26 23:40:23.032 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:40:23.033 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 23:40:23.038 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:40:23.049 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:40:23.056 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:40:23.062 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 23:40:23.068 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 26.062ms
2025-02-26 23:40:23.069 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/21 application/json -
2025-02-26 23:40:23.069 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 23:40:23.070 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:40:23.071 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/21 application/json - - 200 - application/json;+charset=utf-8 40.1089ms
2025-02-26 23:40:23.071 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 23:40:23.074 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:40:23.082 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:40:23.085 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:40:23.089 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 23:40:23.092 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 15.8396ms
2025-02-26 23:40:23.094 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 23:40:23.098 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/21 application/json - - 200 - application/json;+charset=utf-8 29.2094ms
2025-02-26 23:41:28.700 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-26 23:41:28.909 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-26 23:41:28.910 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-26 23:41:28.912 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-26 23:41:28.913 +01:00 [INF] Hosting environment: Development
2025-02-26 23:41:28.913 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-26 23:41:29.660 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 23:41:33.832 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-26 23:41:33.965 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 23:41:33.971 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4313.3835ms
2025-02-26 23:41:34.041 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-26 23:41:34.217 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 176.0437ms
2025-02-26 23:41:37.038 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 23:41:41.108 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 23:41:41.109 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4070.5851ms
2025-02-26 23:41:44.124 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 23:41:54.126 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 23:41:54.128 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10003.4591ms
2025-02-26 23:41:57.161 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 23:42:07.165 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-26 23:42:07.166 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10005.5187ms
2025-02-26 23:42:10.191 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-26 23:42:11.194 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-26 23:42:11.213 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-26 23:42:11.261 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 1070.0462ms
2025-02-26 23:42:12.342 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:42:12.342 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:42:12.342 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:42:12.343 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:42:12.350 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:42:12.367 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:42:12.402 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:12.379 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-26 23:42:12.362 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-26 23:42:12.402 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:12.402 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:12.402 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:12.414 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 72.1576ms
2025-02-26 23:42:12.413 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 71.6238ms
2025-02-26 23:42:12.424 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 80.8623ms
2025-02-26 23:42:12.402 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:12.405 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 62.9839ms
2025-02-26 23:42:12.402 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:12.405 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:12.404 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:12.407 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:42:12.421 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:42:12.435 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 84.4552ms
2025-02-26 23:42:12.437 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 70.3993ms
2025-02-26 23:42:12.438 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 76.0727ms
2025-02-26 23:42:12.439 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 59.6543ms
2025-02-26 23:42:12.443 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:12.443 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:12.560 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:42:12.560 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:42:12.604 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:42:12.604 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:42:21.242 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:42:21.308 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:42:21.308 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:21.310 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8698.7119ms
2025-02-26 23:42:21.312 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:42:21.313 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:42:21.313 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:42:21.315 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8908.1219ms
2025-02-26 23:42:21.329 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:42:21.331 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 15.1114ms
2025-02-26 23:42:21.332 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:42:21.333 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:42:21.333 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:21.334 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 26.5517ms
2025-02-26 23:42:21.336 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:42:21.337 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:42:21.342 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:42:21.343 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.5784ms
2025-02-26 23:42:21.344 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:42:21.345 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-26 23:42:21.345 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 12.8490ms
2025-02-26 23:42:21.346 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:21.348 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:42:21.349 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:42:21.353 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:42:21.354 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.6303ms
2025-02-26 23:42:21.355 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-26 23:42:21.356 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 11.1043ms
2025-02-26 23:42:22.830 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:42:22.909 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:42:22.911 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10299.8862ms
2025-02-26 23:42:22.913 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:42:22.914 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:42:22.914 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:22.916 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:42:22.919 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:42:22.923 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10503.0540ms
2025-02-26 23:42:22.942 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:42:22.948 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:42:22.950 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 28.1014ms
2025-02-26 23:42:22.951 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:42:22.951 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:42:22.952 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:22.953 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 40.1553ms
2025-02-26 23:42:22.954 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:42:22.955 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:42:23.011 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:42:23.017 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:42:23.018 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 61.9056ms
2025-02-26 23:42:23.019 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:42:23.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-26 23:42:23.020 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 69.3464ms
2025-02-26 23:42:23.021 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:23.023 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:42:23.024 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-26 23:42:23.030 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:42:23.036 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:42:23.037 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.8549ms
2025-02-26 23:42:23.038 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-26 23:42:23.039 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 19.4075ms
2025-02-26 23:42:51.789 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-26 23:42:51.793 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:51.794 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 5.3668ms
2025-02-26 23:42:51.797 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-26 23:42:51.800 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:51.803 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 23:42:51.807 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:42:51.842 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:42:52.004 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-26 23:42:52.026 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:42:52.028 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 220.1208ms
2025-02-26 23:42:52.029 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-26 23:42:52.030 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 233.4466ms
2025-02-26 23:42:59.390 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/22 - -
2025-02-26 23:42:59.394 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/22 - -
2025-02-26 23:42:59.402 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:59.390 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/22 - -
2025-02-26 23:42:59.408 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:59.390 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/22 - -
2025-02-26 23:42:59.418 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/22 - - - 204 - - 27.6566ms
2025-02-26 23:42:59.419 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/22 - - - 204 - - 25.0424ms
2025-02-26 23:42:59.418 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:59.422 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/22 application/json -
2025-02-26 23:42:59.420 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:59.421 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/22 application/json -
2025-02-26 23:42:59.423 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/22 - - - 204 - - 33.1163ms
2025-02-26 23:42:59.424 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:59.424 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/22 - - - 204 - - 34.4196ms
2025-02-26 23:42:59.425 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:42:59.427 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:42:59.430 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:42:59.434 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:42:59.435 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:43:00.389 +01:00 [INF] Executed DbCommand (169ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:43:00.397 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:43:00.398 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 960.1704ms
2025-02-26 23:43:00.400 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/22 application/json -
2025-02-26 23:43:00.400 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:43:00.402 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:43:00.402 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/22 application/json - - 200 - application/json;+charset=utf-8 981.3866ms
2025-02-26 23:43:00.404 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:43:00.405 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:43:00.414 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:43:00.418 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:43:00.420 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 11.8457ms
2025-02-26 23:43:00.421 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-26 23:43:00.422 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/22 application/json - - 200 - application/json;+charset=utf-8 21.9668ms
2025-02-26 23:43:03.500 +01:00 [INF] Executed DbCommand (3,563ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:43:03.504 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:43:03.545 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 4109.125ms
2025-02-26 23:43:03.547 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:43:03.547 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/22 application/json -
2025-02-26 23:43:03.548 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/22 application/json - - 200 - application/json;+charset=utf-8 4125.3724ms
2025-02-26 23:43:03.548 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:43:03.551 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:43:03.552 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:43:03.584 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-26 23:43:03.587 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-26 23:43:03.589 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 34.2456ms
2025-02-26 23:43:03.590 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-26 23:43:03.591 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/22 application/json - - 200 - application/json;+charset=utf-8 43.8555ms
2025-02-26 23:43:04.211 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/22 - -
2025-02-26 23:43:04.212 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/22 - -
2025-02-26 23:43:04.212 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:43:04.213 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:43:04.213 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/22 - - - 204 - - 2.3242ms
2025-02-26 23:43:04.214 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/22 - - - 204 - - 2.4146ms
2025-02-26 23:43:04.215 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/22 application/json -
2025-02-26 23:43:04.216 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:43:04.217 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 23:43:04.221 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:43:04.232 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:43:04.244 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:43:04.279 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 23:43:04.286 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 62.2707ms
2025-02-26 23:43:04.287 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 23:43:04.288 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/22 application/json -
2025-02-26 23:43:04.289 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/22 application/json - - 200 - application/json;+charset=utf-8 73.7878ms
2025-02-26 23:43:04.290 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:43:04.292 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 23:43:04.293 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:43:04.314 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-26 23:43:04.328 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-26 23:43:04.340 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-26 23:43:04.345 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 44.9585ms
2025-02-26 23:43:04.347 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-26 23:43:04.349 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/22 application/json - - 200 - application/json;+charset=utf-8 60.7015ms
2025-02-26 23:43:27.030 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundary3yBk2UrpBAKZil8U 98689
2025-02-26 23:43:27.040 +01:00 [INF] CORS policy execution successful.
2025-02-26 23:43:27.059 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-26 23:43:27.065 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-26 23:43:27.185 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 23:43:27.191 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 23:43:27.595 +01:00 [INF] Received HTTP response headers after 401.065ms - 200
2025-02-26 23:43:27.597 +01:00 [INF] End processing HTTP request after 414.1556ms - 200
2025-02-26 23:43:27.608 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 23:43:27.609 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-26 23:43:27.820 +01:00 [INF] Received HTTP response headers after 210.0139ms - 200
2025-02-26 23:43:27.822 +01:00 [INF] End processing HTTP request after 213.7255ms - 200
