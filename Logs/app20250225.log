2025-02-25 00:05:02.301 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/settings/saveimage/2 - -
2025-02-25 00:05:02.310 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:05:02.311 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/settings/saveimage/2 - - - 204 - - 9.7704ms
2025-02-25 00:05:02.313 +01:00 [INF] Request starting HTTP/2 PUT https://localhost:7299/api/settings/saveimage/2 multipart/form-data;+boundary=----WebKitFormBoundaryFNSYx6gZA5c9Btav 61561
2025-02-25 00:05:02.314 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:05:02.315 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.SettingsController.SaveImage (JurMaps)'
2025-02-25 00:05:02.319 +01:00 [INF] Route matched with {action = "SaveImage", controller = "Settings"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveImage(Int32, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.SettingsController (JurMaps).
2025-02-25 00:05:03.559 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:05:04.167 +01:00 [INF] Executed DbCommand (422ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?', @p1='?' (DbType = DateTime), @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "ResetPasswordToken" = @p0, "ResetPasswordTokenExpiration" = @p1, "UserCreatedDate" = @p2, "UserEmail" = @p3, "UserName" = @p4, "UserPassword" = @p5, "UserProfilePicture" = @p6, "UserRoleId" = @p7
WHERE "UserId" = @p8;
2025-02-25 00:05:04.177 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:05:04.178 +01:00 [INF] Executed action JurMaps.Controllers.SettingsController.SaveImage (JurMaps) in 1854.2631ms
2025-02-25 00:05:04.179 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.SettingsController.SaveImage (JurMaps)'
2025-02-25 00:05:04.184 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:05:04.197 +01:00 [INF] Request finished HTTP/2 PUT https://localhost:7299/api/settings/saveimage/2 multipart/form-data;+boundary=----WebKitFormBoundaryFNSYx6gZA5c9Btav 61561 - 200 - application/json;+charset=utf-8 1881.8898ms
2025-02-25 00:05:04.197 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:05:04.198 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 16.2112ms
2025-02-25 00:05:04.201 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:05:04.202 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:05:04.203 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:05:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:05:04.206 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:05:04'.
2025-02-25 00:05:04.207 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:05:04.208 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:05:04.213 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:05:04.220 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:05:04.222 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.2172ms
2025-02-25 00:05:04.224 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:05:04.225 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 23.8215ms
2025-02-25 00:05:10.214 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:05:10.215 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:05:10.216 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:05:10.218 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:05:10.219 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:05:10.223 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:05:10.223 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:05:10.224 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:05:10.225 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:05:10.230 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:05:10.232 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:05:10.233 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:05:10.321 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:05:10.329 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:05:10.339 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 103.2216ms
2025-02-25 00:05:10.341 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:05:10.341 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:05:10.342 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 126.0280ms
2025-02-25 00:05:10.343 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:05:10.345 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:05:10.346 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:05:10.353 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:05:10.357 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:05:10.359 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 9.912ms
2025-02-25 00:05:10.360 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:05:10.362 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 00:05:10.362 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 20.5655ms
2025-02-25 00:05:10.364 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 00:05:10.387 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:05:10.400 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:05:10.402 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 169.5598ms
2025-02-25 00:05:10.404 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:05:10.404 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:05:10.405 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:05:10.406 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 191.6277ms
2025-02-25 00:05:10.407 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:05:10.410 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:05:10.417 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:05:10.420 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:05:10.421 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 8.75ms
2025-02-25 00:05:10.422 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:05:10.424 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 19.9820ms
2025-02-25 00:05:10.509 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:05:10.514 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:05:10.523 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:05:10.531 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:05:10.704 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 465.128ms
2025-02-25 00:05:10.705 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:05:10.705 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:05:10.706 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:05:10.706 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 490.9280ms
2025-02-25 00:05:10.707 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:05:10.710 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:05:10.721 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:05:10.725 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:05:10.733 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:05:10.741 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:05:10.743 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 30.9617ms
2025-02-25 00:05:10.744 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:05:10.745 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 40.1869ms
2025-02-25 00:18:22.142 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 00:18:22.144 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:22.144 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.1811ms
2025-02-25 00:18:22.146 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 00:18:22.148 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:22.149 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:18:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:18:22.154 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:18:22'.
2025-02-25 00:18:22.155 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 00:18:22.161 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:18:22.207 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:18:22.350 +01:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 00:18:22.363 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:22.365 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 202.1888ms
2025-02-25 00:18:22.366 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 00:18:22.367 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 221.7488ms
2025-02-25 00:18:35.914 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/11 - -
2025-02-25 00:18:35.915 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - -
2025-02-25 00:18:35.915 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - -
2025-02-25 00:18:35.916 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/11 - -
2025-02-25 00:18:35.917 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:35.917 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:35.920 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/11 - - - 204 - - 5.7198ms
2025-02-25 00:18:35.919 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:35.918 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:35.923 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/11 - - - 204 - - 7.9643ms
2025-02-25 00:18:35.924 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/11 application/json -
2025-02-25 00:18:35.924 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - - - 204 - - 8.6911ms
2025-02-25 00:18:35.921 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - - - 204 - - 6.2617ms
2025-02-25 00:18:35.925 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json -
2025-02-25 00:18:35.931 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:35.933 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:35.934 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:18:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:18:35.934 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:18:35.939 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:18:35'.
2025-02-25 00:18:35.940 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:18:35.942 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:18:35.944 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:18:36.081 +01:00 [INF] Executed DbCommand (81ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:18:36.086 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:36.088 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 142.6168ms
2025-02-25 00:18:36.089 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:18:36.090 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/11 application/json -
2025-02-25 00:18:36.090 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/11 application/json - - 200 - application/json;+charset=utf-8 166.5275ms
2025-02-25 00:18:36.092 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:36.094 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:18:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:18:36.100 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:18:36'.
2025-02-25 00:18:36.101 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:18:36.102 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:18:36.110 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:18:36.113 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:36.115 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 11.3633ms
2025-02-25 00:18:36.116 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:18:36.117 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/11 application/json - - 200 - application/json;+charset=utf-8 27.2658ms
2025-02-25 00:18:36.737 +01:00 [INF] Executed DbCommand (579ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:18:36.740 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:36.745 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 801.0304ms
2025-02-25 00:18:36.746 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:18:36.746 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json -
2025-02-25 00:18:36.747 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json - - 200 - application/json;+charset=utf-8 821.9524ms
2025-02-25 00:18:36.747 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:36.749 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:18:36.750 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:18:36.798 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:18:36.800 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:36.801 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 49.7197ms
2025-02-25 00:18:36.802 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:18:36.803 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json - - 200 - application/json;+charset=utf-8 57.5430ms
2025-02-25 00:18:38.313 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/11 - -
2025-02-25 00:18:38.313 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/11 - -
2025-02-25 00:18:38.314 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:38.315 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:38.316 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/11 - - - 204 - - 2.9414ms
2025-02-25 00:18:38.316 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/11 - - - 204 - - 2.4133ms
2025-02-25 00:18:38.318 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/11 application/json -
2025-02-25 00:18:38.319 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:38.319 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 00:18:38.325 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:18:38.336 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:18:38.341 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:18:38.352 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 00:18:38.354 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 27.9619ms
2025-02-25 00:18:38.356 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/11 application/json -
2025-02-25 00:18:38.356 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 00:18:38.357 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:38.358 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/11 application/json - - 200 - application/json;+charset=utf-8 39.9219ms
2025-02-25 00:18:38.361 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 00:18:38.364 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:18:38.373 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:18:38.378 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:18:38.384 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 00:18:38.385 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 16.8715ms
2025-02-25 00:18:38.387 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 00:18:38.388 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/11 application/json - - 200 - application/json;+charset=utf-8 32.3641ms
2025-02-25 00:18:55.629 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryjT5Zq1OQazDJ689a 107009
2025-02-25 00:18:55.630 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:55.632 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-25 00:18:55.637 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:18:55.665 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:18:55.675 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tagName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
WHERE t."TagName" = @__tagName_0
LIMIT 1
2025-02-25 00:18:55.752 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("TagName", "TagQuantity")
VALUES (@p0, @p1)
RETURNING "TagId";
2025-02-25 00:18:55.770 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapTag" ("MapTagsTagId", "MapsWithThisTagMapId")
VALUES (@p2, @p3);
2025-02-25 00:18:55.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:18:56.227 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 00:18:56.230 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:56.231 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 591.7108ms
2025-02-25 00:18:56.231 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-25 00:18:56.234 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryjT5Zq1OQazDJ689a 107009 - 200 - application/json;+charset=utf-8 604.9994ms
2025-02-25 00:18:56.303 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:18:56.305 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:18:56.305 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:18:56.306 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:56.307 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:56.308 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:56.309 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:18:56.309 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:18:56.310 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:18:56.311 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:18:56.311 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:18:56.312 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:18:56.318 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:18:56.321 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:18:56.332 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:18:56.333 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:56.336 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 19.4446ms
2025-02-25 00:18:56.337 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:18:56.337 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:18:56.338 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 33.7721ms
2025-02-25 00:18:56.339 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:56.341 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:18:56.342 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:18:56.343 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:18:56.348 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:18:56.352 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:56.353 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 8.3032ms
2025-02-25 00:18:56.354 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:18:56.354 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:18:56.357 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 19.7097ms
2025-02-25 00:18:56.362 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:56.369 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:18:56.371 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 57.5888ms
2025-02-25 00:18:56.371 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:18:56.371 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:56.372 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:18:56.373 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:56.375 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 71.3032ms
2025-02-25 00:18:56.374 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 59.2934ms
2025-02-25 00:18:56.375 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:18:56.375 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:18:56.377 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:18:56.378 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:18:56.379 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:18:56.379 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 74.9347ms
2025-02-25 00:18:56.380 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:18:56.384 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:18:56.386 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:18:56.392 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:18:56.392 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:18:56.396 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:56.397 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 10.5803ms
2025-02-25 00:18:56.398 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:18:56.399 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 24.4418ms
2025-02-25 00:18:56.401 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:18:56.409 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:18:56.415 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:18:56.420 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 37.7781ms
2025-02-25 00:18:56.421 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:18:56.422 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 51.2313ms
2025-02-25 00:25:26.240 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:25:26.240 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:25:26.241 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:25:26.243 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:25:26.243 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:25:26.255 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.261 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.268 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 25.9315ms
2025-02-25 00:25:26.275 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:25:26.282 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:25:26.285 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:25:26.291 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.241 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.242 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.297 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 14.4742ms
2025-02-25 00:25:26.300 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 60.3719ms
2025-02-25 00:25:26.303 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 62.6093ms
2025-02-25 00:25:26.244 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.252 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:25:26.262 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:25:26.264 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:25:26.271 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:25:26.279 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:25:26.290 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:25:26.298 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:25:26.317 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:25:26.318 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.318 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.319 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.319 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.320 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.321 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.321 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.323 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:25:26.324 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:25:26.324 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 62.3398ms
2025-02-25 00:25:26.325 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 61.4333ms
2025-02-25 00:25:26.326 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 54.6901ms
2025-02-25 00:25:26.327 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 48.4141ms
2025-02-25 00:25:26.328 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:25:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:25:26.332 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:25:26.329 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:25:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:25:26.341 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:25:26'.
2025-02-25 00:25:26.359 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:25:26.360 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:25:26'.
2025-02-25 00:25:26.361 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:25:26.363 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:25:26.367 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:25:26.367 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:25:26.368 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:25:26.378 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.4594ms
2025-02-25 00:25:26.378 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:25:26.381 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:25:26.387 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.383 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 87.2876ms
2025-02-25 00:25:26.388 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:25:26.382 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:25:26.389 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:25:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:25:26.390 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:25:26.391 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:25:26.392 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 102.1119ms
2025-02-25 00:25:26.403 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 160.5302ms
2025-02-25 00:25:26.404 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:25:26.401 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:25:26'.
2025-02-25 00:25:26.408 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:25:26.409 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:25:26.410 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:27:45.073 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 00:27:45.415 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 00:27:45.417 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 00:27:45.419 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 00:27:45.420 +01:00 [INF] Hosting environment: Development
2025-02-25 00:27:45.421 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 00:27:45.944 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:27:50.142 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 00:27:50.295 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 00:27:50.305 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4363.2764ms
2025-02-25 00:27:50.452 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 00:27:51.600 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 1147.6881ms
2025-02-25 00:27:53.447 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:27:57.500 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 00:27:57.502 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4055.2975ms
2025-02-25 00:28:00.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:28:04.596 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 00:28:04.597 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4071.1695ms
2025-02-25 00:28:07.644 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:28:17.714 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 00:28:17.715 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10071.7367ms
2025-02-25 00:28:20.804 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:28:30.814 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 00:28:30.815 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10011.0456ms
2025-02-25 00:28:33.869 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:28:35.715 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 00:28:35.718 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 00:28:35.719 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 1849.7313ms
2025-02-25 00:28:36.543 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:28:36.543 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:28:36.543 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:28:36.543 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:28:36.543 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:28:36.543 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:28:36.553 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:28:36.555 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:28:36.580 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:36.580 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:36.580 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:36.580 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:36.580 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:36.583 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 40.3807ms
2025-02-25 00:28:36.580 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:36.593 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 50.2114ms
2025-02-25 00:28:36.583 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 40.5171ms
2025-02-25 00:28:36.588 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 44.8166ms
2025-02-25 00:28:36.580 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:36.583 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 30.7417ms
2025-02-25 00:28:36.580 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:36.588 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:28:36.590 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:28:36.598 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 55.0039ms
2025-02-25 00:28:36.601 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 57.9142ms
2025-02-25 00:28:36.602 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 47.9639ms
2025-02-25 00:28:36.605 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:36.605 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:36.732 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:28:36.732 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:28:36.764 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:36'.
2025-02-25 00:28:36.765 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:36'.
2025-02-25 00:28:36.767 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:28:36.767 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:28:36.796 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:28:36.796 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:28:46.328 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:28:46.415 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:28:46.418 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:46.418 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9616.4719ms
2025-02-25 00:28:46.422 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:28:46.422 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:28:46.427 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:46'.
2025-02-25 00:28:46.429 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:28:46.429 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9840.3028ms
2025-02-25 00:28:46.431 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:28:46.449 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:28:46.453 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 18.0915ms
2025-02-25 00:28:46.454 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:28:46.454 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:28:46.455 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 39.8922ms
2025-02-25 00:28:46.456 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:46.458 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:28:46.463 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:46'.
2025-02-25 00:28:46.465 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:28:46.466 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:28:46.471 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:28:46.474 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.3753ms
2025-02-25 00:28:46.475 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:28:46.475 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:28:46.476 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 21.9708ms
2025-02-25 00:28:46.477 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:46.479 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:28:46.484 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:46'.
2025-02-25 00:28:46.486 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:28:46.487 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:28:46.494 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:28:46.496 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.2426ms
2025-02-25 00:28:46.497 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:28:46.498 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 22.8003ms
2025-02-25 00:28:48.545 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:28:48.658 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:28:48.662 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11863.1686ms
2025-02-25 00:28:48.663 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:28:48.664 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:28:48.664 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:48.666 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:28:48.673 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:48'.
2025-02-25 00:28:48.674 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 12086.4186ms
2025-02-25 00:28:48.674 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:28:48.676 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:28:48.708 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:28:48.715 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:28:48.717 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 38.4942ms
2025-02-25 00:28:48.718 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:28:48.719 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:28:48.719 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:48.720 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 57.3314ms
2025-02-25 00:28:48.721 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:28:48.725 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:48'.
2025-02-25 00:28:48.726 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:28:48.727 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:28:48.792 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:28:48.799 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:28:48.800 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 72.1514ms
2025-02-25 00:28:48.801 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:28:48.801 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:28:48.802 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:28:48.803 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 84.3983ms
2025-02-25 00:28:48.804 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:28:48.808 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:28:48'.
2025-02-25 00:28:48.809 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:28:48.810 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:28:48.817 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:28:48.824 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:28:48.826 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 15.0805ms
2025-02-25 00:28:48.827 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:28:48.828 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 26.8627ms
2025-02-25 00:40:55.844 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:40:55.844 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:40:55.844 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:40:55.849 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:40:55.849 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:40:55.850 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:40:55.852 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:40:55.853 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:40:55.854 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:40:55.861 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:40:55.861 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:40:55.864 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:40:55.959 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 00:40:55.961 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 00:40:55.977 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:40:55.985 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:40:55.990 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:40:55.997 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:40:56.000 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 133.5758ms
2025-02-25 00:40:56.003 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:40:56.000 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 135.7257ms
2025-02-25 00:40:56.005 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:40:56.004 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:40:56.004 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:40:56.006 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 161.9089ms
2025-02-25 00:40:56.004 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 159.6131ms
2025-02-25 00:40:56.018 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:40:56.018 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:40:56.020 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:40:56.020 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:40:56.022 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:40:56.023 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:40:56.034 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:40:56.037 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:40:56.039 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:40:56.041 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:40:56.042 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 15.4143ms
2025-02-25 00:40:56.044 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 15.8769ms
2025-02-25 00:40:56.045 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:40:56.046 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:40:56.048 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 44.5735ms
2025-02-25 00:40:56.050 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 46.0223ms
2025-02-25 00:40:56.051 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:42:01.594 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 00:42:01.759 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 00:42:01.760 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 00:42:01.762 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 00:42:01.763 +01:00 [INF] Hosting environment: Development
2025-02-25 00:42:01.763 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 00:42:02.381 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:42:06.543 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 00:42:06.639 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 00:42:06.644 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4267.0118ms
2025-02-25 00:42:06.716 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 00:42:06.850 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 133.8913ms
2025-02-25 00:42:09.704 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:42:15.074 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 00:42:15.075 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 5371.4832ms
2025-02-25 00:42:15.082 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 00:42:16.001 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:42:16.001 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:42:16.007 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:42:16.001 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:42:16.001 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:42:16.001 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:42:16.009 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:42:16.011 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:42:16.021 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:16.021 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:16.021 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:16.021 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:16.021 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:16.021 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:16.021 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:16.021 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:16.023 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 22.7680ms
2025-02-25 00:42:16.023 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 22.8201ms
2025-02-25 00:42:16.023 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 22.8313ms
2025-02-25 00:42:16.024 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 17.0488ms
2025-02-25 00:42:16.026 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 25.4369ms
2025-02-25 00:42:16.025 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 24.5626ms
2025-02-25 00:42:16.023 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 14.1137ms
2025-02-25 00:42:16.027 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 15.2047ms
2025-02-25 00:42:16.098 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:42:16.098 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:42:16.134 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:16.134 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:16.213 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:42:16.213 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:42:16.246 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:16'.
2025-02-25 00:42:16.246 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:16'.
2025-02-25 00:42:16.251 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:42:16.251 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:42:16.286 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:42:16.286 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:42:24.767 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:24.833 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8541.5175ms
2025-02-25 00:42:24.847 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:42:24.850 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:42:24.850 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:24.856 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8757.7142ms
2025-02-25 00:42:24.858 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:42:24.864 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:24'.
2025-02-25 00:42:24.865 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:42:24.867 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:42:24.886 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:24.893 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 23.9515ms
2025-02-25 00:42:24.898 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:42:24.900 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 52.5817ms
2025-02-25 00:42:24.901 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:42:24.904 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:24.910 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:42:24.917 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:24'.
2025-02-25 00:42:24.918 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:42:24.920 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:42:24.925 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:24.927 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.0341ms
2025-02-25 00:42:24.928 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:42:24.928 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:42:24.929 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 27.5760ms
2025-02-25 00:42:24.929 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:24.931 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:42:24.935 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:24'.
2025-02-25 00:42:24.936 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:42:24.936 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:42:24.940 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:24.941 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.4555ms
2025-02-25 00:42:24.942 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:42:24.943 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 14.4559ms
2025-02-25 00:42:26.424 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:42:26.509 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:26.512 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10221.6183ms
2025-02-25 00:42:26.513 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:42:26.513 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:42:26.514 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:26.515 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:42:26.520 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:26'.
2025-02-25 00:42:26.521 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10423.5065ms
2025-02-25 00:42:26.526 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:42:26.528 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:42:26.552 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:42:26.558 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:26.560 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 27.8614ms
2025-02-25 00:42:26.561 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:42:26.561 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:42:26.562 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 49.3210ms
2025-02-25 00:42:26.562 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:26.564 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:42:26.567 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:26'.
2025-02-25 00:42:26.568 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:42:26.569 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:42:26.623 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:42:26.631 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:26.632 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 61.8147ms
2025-02-25 00:42:26.634 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:42:26.634 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:42:26.634 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:26.635 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 74.1588ms
2025-02-25 00:42:26.637 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:42:26.643 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:42:26'.
2025-02-25 00:42:26.644 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:42:26.644 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:42:26.649 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:42:26.655 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:26.656 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.5094ms
2025-02-25 00:42:26.657 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:42:26.658 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 24.0068ms
2025-02-25 00:42:57.791 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:42:57.791 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:42:57.791 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:42:57.792 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:57.795 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:57.795 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:57.795 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:42:57.796 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:42:57.796 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:42:57.803 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:42:57.804 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:42:57.805 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:42:57.825 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:42:57.832 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:57.842 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 35.1518ms
2025-02-25 00:42:57.843 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:42:57.843 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:42:57.844 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 53.0420ms
2025-02-25 00:42:57.845 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:57.846 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:42:57.847 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:42:57.854 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:42:57.857 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:57.859 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 9.5659ms
2025-02-25 00:42:57.860 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 00:42:57.860 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:42:57.861 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 00:42:57.862 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 18.3886ms
2025-02-25 00:42:57.912 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:42:57.931 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:57.948 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:42:57.949 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 139.6ms
2025-02-25 00:42:57.949 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:57.949 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:42:57.950 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:42:57.951 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 160.3188ms
2025-02-25 00:42:57.952 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:42:57.962 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:42:57.976 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:42:57.984 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:57.990 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 35.4276ms
2025-02-25 00:42:57.991 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:42:57.991 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:57.991 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 43.7502ms
2025-02-25 00:42:57.993 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 188.2311ms
2025-02-25 00:42:57.994 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:42:57.995 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:42:57.996 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:42:57.997 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 205.3510ms
2025-02-25 00:42:57.997 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:42:57.999 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:42:58.007 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:42:58.011 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:42:58.012 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 11.1721ms
2025-02-25 00:42:58.013 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:42:58.014 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 19.1395ms
2025-02-25 00:43:04.544 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/11 - -
2025-02-25 00:43:04.544 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 00:43:04.545 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - -
2025-02-25 00:43:04.546 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - -
2025-02-25 00:43:04.565 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.546 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 00:43:04.566 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.567 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 23.0523ms
2025-02-25 00:43:04.611 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 00:43:04.568 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.574 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - - - 204 - - 29.1638ms
2025-02-25 00:43:04.583 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.568 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.636 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.634 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - - - 204 - - 87.8148ms
2025-02-25 00:43:04.640 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json -
2025-02-25 00:43:04.657 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:43:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:43:04.636 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:43:04.646 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 100.1094ms
2025-02-25 00:43:04.659 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.664 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:43:04'.
2025-02-25 00:43:04.667 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:43:04.668 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:43:04.668 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:43:04.673 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:43:04.675 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 00:43:04.688 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:43:04.692 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 7.8507ms
2025-02-25 00:43:04.710 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 00:43:04.728 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:43:04.746 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.755 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 143.7166ms
2025-02-25 00:43:04.764 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/11/2 - -
2025-02-25 00:43:04.750 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:43:04.759 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:43:04.767 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:43:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:43:04.769 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.778 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:43:04'.
2025-02-25 00:43:04.779 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:43:04.780 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:43:04.783 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 00:43:04.786 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:43:04.791 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:43:04.797 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 9.6491ms
2025-02-25 00:43:04.802 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:43:04.804 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 93.3026ms
2025-02-25 00:43:04.814 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:43:04.822 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 142.1187ms
2025-02-25 00:43:04.823 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:43:04.824 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json - - 200 - application/json;+charset=utf-8 184.0940ms
2025-02-25 00:43:04.830 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json -
2025-02-25 00:43:04.830 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.832 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:43:04.833 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:43:04.867 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:43:04.868 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:43:04.881 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:43:04.884 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 47.023ms
2025-02-25 00:43:04.885 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:43:04.886 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json - - 200 - application/json;+charset=utf-8 56.2673ms
2025-02-25 00:43:04.906 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 00:43:04.908 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 231.4136ms
2025-02-25 00:43:04.910 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/11 - -
2025-02-25 00:43:04.910 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:43:04.911 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.912 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/11 - - - 200 - application/json;+charset=utf-8 367.2180ms
2025-02-25 00:43:04.912 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:43:04.914 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:43:04.919 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 00:43:04.924 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:43:04.947 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:43:04.949 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 160.4362ms
2025-02-25 00:43:04.951 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:43:04.952 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:43:04.952 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/11/2 - - - 200 - application/json;+charset=utf-8 188.4969ms
2025-02-25 00:43:04.959 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 00:43:04.955 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/11/2 - -
2025-02-25 00:43:04.961 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:43:04.962 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 46.0937ms
2025-02-25 00:43:04.963 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:43:04.965 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/11 - - - 200 - application/json;+charset=utf-8 55.1717ms
2025-02-25 00:43:04.962 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:43:04.973 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:43:04.985 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 00:43:05.009 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:43:05.011 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 34.837ms
2025-02-25 00:43:05.013 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:43:05.015 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/11/2 - - - 200 - application/json;+charset=utf-8 59.3891ms
2025-02-25 00:45:33.422 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 00:45:33.601 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 00:45:33.602 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 00:45:33.604 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 00:45:33.605 +01:00 [INF] Hosting environment: Development
2025-02-25 00:45:33.606 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 00:45:34.332 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:45:38.479 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 00:45:38.581 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 00:45:38.587 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4259.6949ms
2025-02-25 00:45:38.658 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 00:45:38.816 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 157.7690ms
2025-02-25 00:45:41.665 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:45:48.935 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 00:45:48.937 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 7272.0819ms
2025-02-25 00:45:49.682 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 00:45:50.528 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:45:50.529 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:45:50.528 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:45:50.528 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:45:50.537 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:45:50.537 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:45:50.539 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:45:50.539 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:45:50.543 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 15.0311ms
2025-02-25 00:45:50.546 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 16.9982ms
2025-02-25 00:45:50.550 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 21.9072ms
2025-02-25 00:45:50.551 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 22.3867ms
2025-02-25 00:45:50.588 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:45:50.588 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:45:50.776 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:45:50.776 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:45:50.883 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:45:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:45:50.883 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:45:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:45:50.939 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:45:50'.
2025-02-25 00:45:50.946 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:45:50'.
2025-02-25 00:45:50.949 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:45:50.949 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:45:51.009 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:45:51.009 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:45:59.874 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:45:59.947 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:45:59.948 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:45:59.949 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8929.8425ms
2025-02-25 00:45:59.951 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:45:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:45:59.953 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:45:59.956 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:45:59'.
2025-02-25 00:45:59.958 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:45:59.959 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9371.1741ms
2025-02-25 00:45:59.960 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:45:59.975 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:45:59.976 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.6304ms
2025-02-25 00:45:59.978 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:45:59.978 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:45:59.979 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 32.7158ms
2025-02-25 00:45:59.980 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:45:59.982 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:45:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:45:59.988 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:45:59'.
2025-02-25 00:45:59.989 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:45:59.990 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:45:59.995 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:45:59.996 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.2122ms
2025-02-25 00:45:59.997 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:45:59.998 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:46:00.000 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 22.4516ms
2025-02-25 00:46:00.001 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:46:00.003 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:46:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:46:00.008 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:46:00'.
2025-02-25 00:46:00.009 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:46:00.009 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:46:00.014 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:46:00.017 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.7174ms
2025-02-25 00:46:00.018 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:46:00.021 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 23.8898ms
2025-02-25 00:46:01.676 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:46:01.771 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:46:01.774 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10761.0451ms
2025-02-25 00:46:01.775 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:46:01.775 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:46:01.776 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:46:01.778 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:46:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:46:01.782 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:46:01'.
2025-02-25 00:46:01.784 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 11196.0907ms
2025-02-25 00:46:01.784 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:46:01.786 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:46:01.811 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:46:01.818 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:46:01.820 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 32.5795ms
2025-02-25 00:46:01.821 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:46:01.821 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:46:01.822 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 47.2796ms
2025-02-25 00:46:01.822 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:46:01.824 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:46:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:46:01.828 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:46:01'.
2025-02-25 00:46:01.829 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:46:01.830 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:46:01.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:46:01.904 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:46:01.906 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 74.2923ms
2025-02-25 00:46:01.906 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:46:01.907 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:46:01.907 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 86.4615ms
2025-02-25 00:46:01.909 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:46:01.910 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:46:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:46:01.914 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:46:01'.
2025-02-25 00:46:01.915 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:46:01.916 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:46:01.921 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:46:01.926 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:46:01.927 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.2745ms
2025-02-25 00:46:01.929 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:46:01.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 23.0890ms
2025-02-25 00:48:28.128 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:48:28.128 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:48:28.128 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:48:28.130 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:28.132 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:28.132 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:28.132 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:48:28.133 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:48:28.134 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:48:28.140 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:28.140 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:28.141 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:28.197 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:48:28.214 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:28.223 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 78.9657ms
2025-02-25 00:48:28.224 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:48:28.225 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:48:28.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 97.5960ms
2025-02-25 00:48:28.227 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:28.229 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:48:28.230 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:28.230 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 00:48:28.232 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 00:48:28.236 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:48:28.239 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:28.241 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 9.2795ms
2025-02-25 00:48:28.242 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:48:28.243 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 17.4314ms
2025-02-25 00:48:28.255 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:48:28.269 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:28.271 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 128.7698ms
2025-02-25 00:48:28.272 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:48:28.272 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:48:28.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 145.1059ms
2025-02-25 00:48:28.274 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:28.276 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:48:28.277 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:28.284 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:48:28.286 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:28.288 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 9.6632ms
2025-02-25 00:48:28.290 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:48:28.291 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 18.3638ms
2025-02-25 00:48:28.301 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:48:28.324 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:28.345 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:48:28.345 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 198.7254ms
2025-02-25 00:48:28.346 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:28.347 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:48:28.348 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:48:28.349 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 220.8043ms
2025-02-25 00:48:28.349 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:28.362 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:48:28.385 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:28.391 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 38.2767ms
2025-02-25 00:48:28.393 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:48:28.394 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 49.9239ms
2025-02-25 00:48:32.527 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/9 - -
2025-02-25 00:48:32.528 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.528 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 00:48:32.528 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - -
2025-02-25 00:48:32.529 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:48:32.529 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - -
2025-02-25 00:48:32.530 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.529 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 00:48:32.534 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.534 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 5.2731ms
2025-02-25 00:48:32.541 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 00:48:32.541 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:48:32.541 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - - - 204 - - 11.7280ms
2025-02-25 00:48:32.531 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.539 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.548 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json -
2025-02-25 00:48:32.551 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.556 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - - - 204 - - 27.5775ms
2025-02-25 00:48:32.556 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 27.6291ms
2025-02-25 00:48:32.557 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.558 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:48:32.561 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:32.564 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:32'.
2025-02-25 00:48:32.566 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:48:32.568 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:48:32.570 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 00:48:32.576 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:32.577 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 5.9022ms
2025-02-25 00:48:32.578 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:48:32.580 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 38.8238ms
2025-02-25 00:48:32.581 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 00:48:32.583 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.584 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/9/2 - -
2025-02-25 00:48:32.584 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:48:32.586 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.590 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:32'.
2025-02-25 00:48:32.591 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:48:32.592 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:48:32.593 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 00:48:32.596 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:48:32.604 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:32.608 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 11.0267ms
2025-02-25 00:48:32.609 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:48:32.611 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 29.4544ms
2025-02-25 00:48:32.626 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 00:48:32.629 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:32.631 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 24.2443ms
2025-02-25 00:48:32.632 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:48:32.632 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/9/2 - -
2025-02-25 00:48:32.633 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/9/2 - - - 200 - application/json;+charset=utf-8 48.9841ms
2025-02-25 00:48:32.633 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.635 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:48:32.637 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:48:32.643 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:48:32.695 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:48:32.703 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:48:32.704 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:32.712 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 141.9775ms
2025-02-25 00:48:32.714 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:32.728 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json -
2025-02-25 00:48:32.732 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json - - 200 - application/json;+charset=utf-8 184.2825ms
2025-02-25 00:48:32.733 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.738 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:32.739 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:48:32.739 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 00:48:32.744 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 189.581ms
2025-02-25 00:48:32.745 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:48:32.746 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/9 - - - 200 - application/json;+charset=utf-8 219.7399ms
2025-02-25 00:48:32.748 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/9 - -
2025-02-25 00:48:32.751 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:48:32.753 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:32.756 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:32.757 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:48:32.759 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 16.7538ms
2025-02-25 00:48:32.759 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:48:32.760 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:32.763 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json - - 200 - application/json;+charset=utf-8 35.4079ms
2025-02-25 00:48:32.770 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:48:32.775 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:48:32.787 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 00:48:32.790 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 27.2751ms
2025-02-25 00:48:32.791 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:48:32.792 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/9 - - - 200 - application/json;+charset=utf-8 43.9014ms
2025-02-25 00:48:32.808 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 00:48:32.811 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:32.812 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 167.1288ms
2025-02-25 00:48:32.813 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:48:32.814 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/9/2 - - - 200 - application/json;+charset=utf-8 182.4348ms
2025-02-25 00:48:40.459 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:48:40.459 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:48:40.459 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:48:40.460 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:40.461 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:40.462 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:40.463 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:48:40.463 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:48:40.464 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:48:40.465 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:40.466 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:40.467 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:40.474 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:48:40.478 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:48:40.481 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:48:40.483 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:40.486 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:40.487 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 16.3924ms
2025-02-25 00:48:40.488 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 16.1487ms
2025-02-25 00:48:40.488 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 00:48:40.489 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 00:48:40.489 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:48:40.491 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:48:40.491 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:40.492 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:40.493 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 34.0084ms
2025-02-25 00:48:40.493 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 34.5085ms
2025-02-25 00:48:40.494 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:48:40.495 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:48:40.497 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:40.498 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:40.501 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:40.504 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 00:48:40.505 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 00:48:40.504 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 36.0764ms
2025-02-25 00:48:40.507 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 00:48:40.506 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:40.509 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:40.510 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:48:40.512 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:40.512 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:48:40.514 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 13.948ms
2025-02-25 00:48:40.514 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 55.5596ms
2025-02-25 00:48:40.515 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 14.2539ms
2025-02-25 00:48:40.516 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 00:48:40.517 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 00:48:40.519 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 00:48:40.522 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 33.8972ms
2025-02-25 00:48:40.523 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 33.8769ms
2025-02-25 00:48:40.529 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 00:48:40.548 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:40.550 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 29.2024ms
2025-02-25 00:48:40.552 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 00:48:40.553 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 48.8352ms
2025-02-25 00:48:43.089 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 00:48:43.089 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - -
2025-02-25 00:48:43.090 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 00:48:43.089 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/11 - -
2025-02-25 00:48:43.090 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - -
2025-02-25 00:48:43.091 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.092 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.093 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.094 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.095 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.095 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 6.2529ms
2025-02-25 00:48:43.096 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - - - 204 - - 6.6642ms
2025-02-25 00:48:43.096 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 6.4047ms
2025-02-25 00:48:43.097 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:48:43.098 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/11 - - - 204 - - 7.6139ms
2025-02-25 00:48:43.099 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 00:48:43.100 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json -
2025-02-25 00:48:43.106 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:48:43.108 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.109 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.112 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:43'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:48:43.112 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:43.116 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:48:43.118 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:43'.
2025-02-25 00:48:43.119 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:48:43.124 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:48:43.124 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:48:43.126 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 00:48:43.136 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:43.138 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 6.0631ms
2025-02-25 00:48:43.138 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 00:48:43.139 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:48:43.142 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/11 - -
2025-02-25 00:48:43.140 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 29.5728ms
2025-02-25 00:48:43.141 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:48:43.143 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.144 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:48:43.142 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 43.0850ms
2025-02-25 00:48:43.140 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 00:48:43.145 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/11/2 - -
2025-02-25 00:48:43.148 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:43.148 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:48:43.150 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/11 - - - 200 - application/json;+charset=utf-8 60.7450ms
2025-02-25 00:48:43.155 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:48:43.154 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 28.2453ms
2025-02-25 00:48:43.155 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json -
2025-02-25 00:48:43.152 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.152 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.159 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:43.165 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:48:43.160 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.165 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json - - 200 - application/json;+charset=utf-8 65.3981ms
2025-02-25 00:48:43.161 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:48:43.164 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:43'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:48:43.177 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:48:43.178 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:43.180 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:48:43.187 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:43'.
2025-02-25 00:48:43.190 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:48:43.195 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:48:43.197 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 00:48:43.198 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 00:48:43.203 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 45.6605ms
2025-02-25 00:48:43.200 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 00:48:43.207 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:43.207 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 00:48:43.211 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 18.0589ms
2025-02-25 00:48:43.213 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:43.213 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/11 - - - 200 - application/json;+charset=utf-8 70.8885ms
2025-02-25 00:48:43.213 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:48:43.214 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:48:43.215 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 5.8998ms
2025-02-25 00:48:43.219 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:43.220 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/11/2 - - - 200 - application/json;+charset=utf-8 75.3076ms
2025-02-25 00:48:43.221 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 00:48:43.223 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 24.1549ms
2025-02-25 00:48:43.224 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 84.5518ms
2025-02-25 00:48:43.226 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/11/2 - -
2025-02-25 00:48:43.225 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:43.227 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:43.228 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/11 application/json - - 200 - application/json;+charset=utf-8 72.7189ms
2025-02-25 00:48:43.228 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:48:43.230 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 00:48:43.237 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 00:48:43.240 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:43.242 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 9.5871ms
2025-02-25 00:48:43.243 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 00:48:43.244 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/11/2 - - - 200 - application/json;+charset=utf-8 17.8311ms
2025-02-25 00:48:45.235 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 00:48:45.236 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:45.236 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 1.4782ms
2025-02-25 00:48:45.238 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 00:48:45.238 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:45.240 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:48:45.245 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:45'.
2025-02-25 00:48:45.247 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 00:48:45.251 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:48:45.261 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:48:45.404 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 00:48:45.438 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:45.439 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 186.3068ms
2025-02-25 00:48:45.440 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 00:48:45.441 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 203.6869ms
2025-02-25 00:48:47.348 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-25 00:48:47.348 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-25 00:48:47.349 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-25 00:48:47.353 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:47.353 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 4.1540ms
2025-02-25 00:48:47.352 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:47.349 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-25 00:48:47.351 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:47.355 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 6.6261ms
2025-02-25 00:48:47.355 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:47.356 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 8.1199ms
2025-02-25 00:48:47.355 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-25 00:48:47.358 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-25 00:48:47.359 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 9.3452ms
2025-02-25 00:48:47.360 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:47.361 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:47.362 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:48:47.363 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:47.367 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:47'.
2025-02-25 00:48:47.368 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:48:47.369 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:48:47.375 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:48:47.377 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:48:47.380 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:47.382 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 11.9505ms
2025-02-25 00:48:47.384 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:47.384 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-25 00:48:47.385 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 27.3970ms
2025-02-25 00:48:47.386 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:47.389 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:47.390 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:48:47.390 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:48:47.394 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:47.396 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 15.1663ms
2025-02-25 00:48:47.397 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:48:47.398 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 43.1827ms
2025-02-25 00:48:47.401 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-25 00:48:47.403 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:47.404 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:48:47.405 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:48:47.407 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:47.413 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:48:47'.
2025-02-25 00:48:47.417 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 21.6456ms
2025-02-25 00:48:47.417 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:48:47.418 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:48:47.419 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:48:47.421 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 37.1166ms
2025-02-25 00:48:47.430 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:48:47.434 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:47.435 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 12.5877ms
2025-02-25 00:48:47.436 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:48:47.437 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 35.9277ms
2025-02-25 00:48:49.896 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/12 - -
2025-02-25 00:48:49.896 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/12 - -
2025-02-25 00:48:49.897 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:49.898 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:49.898 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/12 - - - 204 - - 2.4321ms
2025-02-25 00:48:49.899 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/12 - - - 204 - - 2.8529ms
2025-02-25 00:48:49.900 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/12 application/json 8
2025-02-25 00:48:49.900 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/12 application/json 102
2025-02-25 00:48:49.901 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:49.901 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:49.902 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 00:48:49.902 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 00:48:49.907 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:48:49.907 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:48:49.944 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:48:49.957 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 00:48:49.964 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:48:50.064 +01:00 [INF] Executed DbCommand (85ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 00:48:50.145 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 00:48:50.226 +01:00 [INF] Executed DbCommand (94ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 00:48:50.235 +01:00 [INF] Executed DbCommand (81ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 00:48:50.239 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 00:48:50.242 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:50.243 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 334.8999ms
2025-02-25 00:48:50.244 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 00:48:50.244 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 00:48:50.247 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:50.247 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/12 application/json 8 - 200 - application/json;+charset=utf-8 347.6818ms
2025-02-25 00:48:50.249 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 339.6265ms
2025-02-25 00:48:50.250 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 00:48:50.251 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/12 application/json 102 - 200 - application/json;+charset=utf-8 350.9486ms
2025-02-25 00:48:57.387 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 00:48:57.388 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:57.389 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 1.6746ms
2025-02-25 00:48:57.391 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryYaNI6dhQNMzrSyte 127400
2025-02-25 00:48:57.394 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:48:57.395 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 00:48:57.401 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 00:48:57.622 +01:00 [ERR] Błąd weryfikacji tokena App Check.
Google.Apis.Auth.InvalidJwtException: JWT issuer incorrect. Must be one of: 'https://accounts.google.com', 'accounts.google.com'
   at Google.Apis.Auth.SignedTokenVerification.VerifySignedTokenAsync[TJswHeader,TJswPayload](SignedToken`2 signedToken, SignedTokenVerificationOptions options, CancellationToken cancellationToken)
   at Google.Apis.Auth.GoogleJsonWebSignature.ValidateInternalAsync(String jwt, ValidationSettings validationSettings)
   at BaseController`1.VerifyAppCheckTokenAsync(String token) in E:\jurmaps2\Controllers\BaseController.cs:line 52
2025-02-25 00:48:57.640 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__placeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM "Places" AS p
WHERE p."PlaceId" = @__placeId_0
LIMIT 1
2025-02-25 00:48:58.391 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Places" SET "MapId" = @p0, "PlaceColor" = @p1, "PlaceCountry" = @p2, "PlaceDescription" = @p3, "PlaceName" = @p4, "PlacePhoto1" = @p5, "PlacePhoto2" = @p6, "PlacePhoto3" = @p7, "PlacePosition" = @p8, "PlaceType" = @p9
WHERE "PlaceId" = @p10;
2025-02-25 00:48:58.396 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:48:58.398 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 995.2721ms
2025-02-25 00:48:58.399 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 00:48:58.403 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryYaNI6dhQNMzrSyte 127400 - 200 - application/json;+charset=utf-8 1011.8916ms
2025-02-25 00:49:01.849 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:49:01.849 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:49:01.851 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-25 00:49:01.851 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.852 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:49:01.851 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.851 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-25 00:49:01.853 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 4.0488ms
2025-02-25 00:49:01.852 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.886 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:49:01.886 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 35.0621ms
2025-02-25 00:49:01.895 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.854 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.855 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 6.2364ms
2025-02-25 00:49:01.909 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:49:01.909 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 57.2814ms
2025-02-25 00:49:01.868 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.852 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:49:01.864 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - -
2025-02-25 00:49:01.858 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:49:01.925 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:01'.
2025-02-25 00:49:01.926 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 74.4621ms
2025-02-25 00:49:01.927 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.858 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:49:01.868 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - -
2025-02-25 00:49:01.877 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:49:01.886 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:49:01.904 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-25 00:49:01.928 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-25 00:49:01.928 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.928 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.929 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:49:01.931 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 79.3639ms
2025-02-25 00:49:01.932 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.933 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.933 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.934 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.935 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.938 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:49:01.935 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.936 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/12 - - - 204 - - 72.3347ms
2025-02-25 00:49:01.937 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 78.7747ms
2025-02-25 00:49:01.939 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 81.4477ms
2025-02-25 00:49:01.940 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/12 - - - 204 - - 72.2057ms
2025-02-25 00:49:01.948 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:49:01.951 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:49:01.941 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 64.2798ms
2025-02-25 00:49:01.945 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:49:01.946 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:49:01.954 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:49:01.958 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:01.960 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:01'.
2025-02-25 00:49:01.965 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:01'.
2025-02-25 00:49:01.969 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 21.7789ms
2025-02-25 00:49:01.972 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:49:01.970 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:49:01.970 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:49:01.971 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:49:01.973 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:49:01.977 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:01.978 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:49:01.980 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 94.4111ms
2025-02-25 00:49:01.979 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:49:01.982 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:49:01.982 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:01.992 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:49:01.987 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:01.997 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 30.3284ms
2025-02-25 00:49:01.994 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:01'.
2025-02-25 00:49:02.001 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:49:01.999 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:02.001 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:49:02.000 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.1977ms
2025-02-25 00:49:02.003 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 75.5602ms
2025-02-25 00:49:02.004 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 17.4472ms
2025-02-25 00:49:02.005 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:02.002 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:49:02.005 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json -
2025-02-25 00:49:02.009 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:49:02.007 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:49:01.999 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json -
2025-02-25 00:49:02.011 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:49:02.011 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:49:02.012 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:02.013 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 109.1813ms
2025-02-25 00:49:02.022 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
2025-02-25 00:49:02.014 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 127.5203ms
2025-02-25 00:49:02.029 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:49:02.037 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:49:02.035 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:49:02.015 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:02.044 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
2025-02-25 00:49:02.048 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:49:02.048 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:49:02.050 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:49:02.050 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:02.053 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:49:02.056 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 28.5341ms
2025-02-25 00:49:02.054 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:49:02.055 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:02.059 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:49:02.064 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 11.5558ms
2025-02-25 00:49:02.057 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:49:02.066 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 96.1411ms
2025-02-25 00:49:02.068 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:49:02.070 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:02.066 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:49:02.071 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 70.4813ms
2025-02-25 00:49:02.064 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:49:02.069 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:49:02.073 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:49:02.073 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:02.080 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:02.086 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
2025-02-25 00:49:02.096 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:49:02.097 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:49:02.094 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 33.3958ms
2025-02-25 00:49:02.080 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:02.089 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:49:02.112 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:49:02.121 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:49:02.126 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 68.9025ms
2025-02-25 00:49:02.134 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
2025-02-25 00:49:02.144 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/12 application/json - - 200 - application/json;+charset=utf-8 138.9558ms
2025-02-25 00:49:02.153 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:02.165 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 61.7402ms
2025-02-25 00:49:02.160 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:49:02.159 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:49:02.170 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:49:02.180 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:02.174 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:49:02.173 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:49:02.181 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/12 application/json - - 200 - application/json;+charset=utf-8 182.9406ms
2025-02-25 00:49:02.192 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:49:02.210 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 153.0626ms
2025-02-25 00:49:02.221 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:02.225 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
2025-02-25 00:49:02.229 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 19.273ms
2025-02-25 00:49:02.231 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:49:02.231 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:49:02.233 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:49:02.234 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:49:02.235 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:49:02.237 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 170.5976ms
2025-02-25 00:49:02.241 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:49:02.248 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:49:02.251 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:49:02'.
2025-02-25 00:49:02.260 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:49:02.262 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:49:02.262 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:02.273 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:49:02.276 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 36.6235ms
2025-02-25 00:49:02.285 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 15.5492ms
2025-02-25 00:49:02.286 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:49:02.290 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:49:02.291 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 121.4573ms
2025-02-25 00:49:02.292 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 61.4242ms
2025-02-25 00:53:29.299 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 00:53:29.300 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:29.301 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.8320ms
2025-02-25 00:53:29.303 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 00:53:29.303 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:29.305 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:53:29'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:53:29.310 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:53:29'.
2025-02-25 00:53:29.311 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 00:53:29.312 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:53:29.321 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:53:29.328 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 00:53:29.331 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:53:29.333 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 17.6522ms
2025-02-25 00:53:29.334 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 00:53:29.335 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 32.6818ms
2025-02-25 00:53:29.472 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/13 - -
2025-02-25 00:53:29.472 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/13 - -
2025-02-25 00:53:29.474 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/13 - -
2025-02-25 00:53:29.475 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/13 - -
2025-02-25 00:53:29.480 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:29.483 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:29.483 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:29.502 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/13 - - - 204 - - 27.8013ms
2025-02-25 00:53:29.492 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/13 - - - 204 - - 19.7907ms
2025-02-25 00:53:29.485 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/13 - - - 204 - - 13.7730ms
2025-02-25 00:53:29.490 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/13 application/json -
2025-02-25 00:53:29.484 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:29.499 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/13 application/json -
2025-02-25 00:53:29.512 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:29.513 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/13 - - - 204 - - 37.6517ms
2025-02-25 00:53:29.514 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:29.515 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:53:29'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:53:29.518 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:53:29.526 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:53:29'.
2025-02-25 00:53:29.526 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:53:29.527 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:53:29.532 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:53:29.534 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:53:29.544 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:53:29.546 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 17.0291ms
2025-02-25 00:53:29.548 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/13 application/json -
2025-02-25 00:53:29.549 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:53:29.557 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/13 application/json - - 200 - application/json;+charset=utf-8 57.9346ms
2025-02-25 00:53:29.556 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:29.569 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:53:29.570 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:53:29.581 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:53:29.584 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:53:29.587 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 11.3008ms
2025-02-25 00:53:29.588 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:53:29.589 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/13 application/json - - 200 - application/json;+charset=utf-8 41.1948ms
2025-02-25 00:53:29.609 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:53:29.612 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:53:29.615 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 79.2596ms
2025-02-25 00:53:29.616 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/13 application/json -
2025-02-25 00:53:29.616 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:53:29.617 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:29.618 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/13 application/json - - 200 - application/json;+charset=utf-8 128.1741ms
2025-02-25 00:53:29.620 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:53:29'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:53:29.632 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:53:29'.
2025-02-25 00:53:29.635 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:53:29.636 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:53:29.644 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:53:29.649 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:53:29.651 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 12.4897ms
2025-02-25 00:53:29.652 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:53:29.653 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/13 application/json - - 200 - application/json;+charset=utf-8 37.7353ms
2025-02-25 00:53:32.693 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/13 - -
2025-02-25 00:53:32.693 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/13 - -
2025-02-25 00:53:32.694 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:32.694 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:32.695 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/13 - - - 204 - - 2.0876ms
2025-02-25 00:53:32.696 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/13 application/json 8
2025-02-25 00:53:32.697 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/13 - - - 204 - - 3.5701ms
2025-02-25 00:53:32.698 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/13 application/json 99
2025-02-25 00:53:32.699 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:32.700 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:32.701 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 00:53:32.702 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 00:53:32.703 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:53:32.704 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:53:32.711 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:53:32.715 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:53:32.719 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 00:53:32.725 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 00:53:32.737 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 00:53:32.737 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 00:53:32.744 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 00:53:32.745 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 00:53:32.749 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 00:53:32.750 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:53:32.752 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:53:32.753 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 44.7471ms
2025-02-25 00:53:32.755 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 48.0998ms
2025-02-25 00:53:32.755 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 00:53:32.756 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 00:53:32.757 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/13 application/json 99 - 200 - application/json;+charset=utf-8 59.5235ms
2025-02-25 00:53:32.759 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/13 application/json 8 - 200 - application/json;+charset=utf-8 62.0863ms
2025-02-25 00:53:40.469 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 00:53:40.470 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:40.473 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 3.0644ms
2025-02-25 00:53:40.475 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryj58B4eWm5ugSUbjg 103932
2025-02-25 00:53:40.477 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:53:40.477 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 00:53:40.478 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 00:56:19.028 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 00:56:19.180 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 00:56:19.181 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 00:56:19.183 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 00:56:19.184 +01:00 [INF] Hosting environment: Development
2025-02-25 00:56:19.185 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 00:56:19.741 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:56:23.895 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 00:56:24.000 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 00:56:24.005 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4266.6913ms
2025-02-25 00:56:24.099 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 00:56:24.399 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 300.9027ms
2025-02-25 00:56:27.074 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 00:56:32.036 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 00:56:32.038 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 4964.1053ms
2025-02-25 00:56:32.049 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 00:56:32.971 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:56:32.971 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:56:32.975 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:56:32.975 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:56:32.986 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 00:56:32.986 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:56:32.994 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:56:32.997 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 00:56:32.998 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:32.998 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:32.998 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:32.998 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:32.998 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:33.001 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:33.002 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:33.003 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:33.006 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 31.2697ms
2025-02-25 00:56:33.006 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 31.0549ms
2025-02-25 00:56:33.007 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 21.1838ms
2025-02-25 00:56:33.010 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 39.9753ms
2025-02-25 00:56:33.008 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 37.8265ms
2025-02-25 00:56:33.011 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 24.9542ms
2025-02-25 00:56:33.013 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 18.6229ms
2025-02-25 00:56:33.016 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 19.2914ms
2025-02-25 00:56:33.025 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:56:33.029 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:56:33.038 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:33.038 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:33.142 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:56:33.142 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:56:33.189 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:33'.
2025-02-25 00:56:33.189 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:33'.
2025-02-25 00:56:33.192 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:56:33.192 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:56:33.229 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:56:33.229 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:56:41.964 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:56:42.025 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:56:42.025 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:42.027 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8788.14ms
2025-02-25 00:56:42.028 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:42'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:56:42.031 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:56:42.035 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:42'.
2025-02-25 00:56:42.038 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:56:42.038 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9009.4267ms
2025-02-25 00:56:42.039 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:56:42.056 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:56:42.059 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 17.4599ms
2025-02-25 00:56:42.060 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:56:42.060 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:56:42.061 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:42.062 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 37.7964ms
2025-02-25 00:56:42.063 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:42'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:56:42.070 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:42'.
2025-02-25 00:56:42.076 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:56:42.077 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:56:42.083 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:56:42.090 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 10.763ms
2025-02-25 00:56:42.092 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 00:56:42.092 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:56:42.093 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:42.094 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 33.6227ms
2025-02-25 00:56:42.095 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:42'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:56:42.101 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:42'.
2025-02-25 00:56:42.102 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:56:42.103 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:56:42.108 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:56:42.109 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.1756ms
2025-02-25 00:56:42.110 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 00:56:42.111 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 19.3128ms
2025-02-25 00:56:43.728 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:56:43.843 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:56:43.846 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10611.6978ms
2025-02-25 00:56:43.847 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:56:43.848 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:56:43.849 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:43.851 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:43'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:56:43.858 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:43'.
2025-02-25 00:56:43.860 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10835.0712ms
2025-02-25 00:56:43.861 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:56:43.864 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:56:43.892 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:56:43.899 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:56:43.901 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 34.3193ms
2025-02-25 00:56:43.902 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:56:43.902 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:56:43.903 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 56.0876ms
2025-02-25 00:56:43.904 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:43.905 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:43'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:56:43.909 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:43'.
2025-02-25 00:56:43.910 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:56:43.911 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:56:43.969 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:56:43.975 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:56:43.976 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 64.1ms
2025-02-25 00:56:43.977 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:56:43.977 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 00:56:43.978 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 76.0555ms
2025-02-25 00:56:43.979 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:56:43.981 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:43'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:56:43.985 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:56:43'.
2025-02-25 00:56:43.986 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:56:43.986 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 00:56:43.992 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:56:43.999 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:56:44.000 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.311ms
2025-02-25 00:56:44.001 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 00:56:44.002 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 24.5210ms
2025-02-25 00:57:21.128 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 00:57:21.130 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:21.130 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.0509ms
2025-02-25 00:57:21.132 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 00:57:21.134 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:21.135 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:57:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:57:21.141 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:57:21'.
2025-02-25 00:57:21.142 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 00:57:21.147 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:57:21.160 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 00:57:21.302 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 00:57:21.322 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:57:21.324 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 173.891ms
2025-02-25 00:57:21.325 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 00:57:21.326 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 193.8013ms
2025-02-25 00:57:24.332 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/14 - -
2025-02-25 00:57:24.332 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/14 - -
2025-02-25 00:57:24.332 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/14 - -
2025-02-25 00:57:24.332 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/14 - -
2025-02-25 00:57:24.335 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:24.338 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:24.339 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:24.344 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:24.386 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/14 - - - 204 - - 54.2347ms
2025-02-25 00:57:24.388 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/14 - - - 204 - - 56.3619ms
2025-02-25 00:57:24.388 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/14 - - - 204 - - 55.5996ms
2025-02-25 00:57:24.403 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/14 application/json -
2025-02-25 00:57:24.387 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/14 - - - 204 - - 54.9737ms
2025-02-25 00:57:24.389 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/14 application/json -
2025-02-25 00:57:24.410 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:24.411 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:24.413 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:57:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:57:24.414 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:57:24.451 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:57:24'.
2025-02-25 00:57:24.452 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:57:24.455 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:57:24.460 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:57:24.581 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:57:24.599 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:57:24.601 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 136.7953ms
2025-02-25 00:57:24.602 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:57:24.603 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/14 application/json -
2025-02-25 00:57:24.604 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/14 application/json - - 200 - application/json;+charset=utf-8 201.6506ms
2025-02-25 00:57:24.607 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:24.610 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:57:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 00:57:24.616 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '24.02.2025 23:57:24'.
2025-02-25 00:57:24.617 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:57:24.618 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:57:24.626 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:57:24.641 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:57:24.644 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 24.0696ms
2025-02-25 00:57:24.648 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 00:57:24.650 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/14 application/json - - 200 - application/json;+charset=utf-8 47.4394ms
2025-02-25 00:57:24.655 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:57:24.660 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:57:24.682 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 223.2365ms
2025-02-25 00:57:24.696 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/14 application/json -
2025-02-25 00:57:24.709 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:57:24.713 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:24.714 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/14 application/json - - 200 - application/json;+charset=utf-8 325.3274ms
2025-02-25 00:57:24.718 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:57:24.722 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:57:24.740 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:57:24.743 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:57:24.746 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 21.1467ms
2025-02-25 00:57:24.747 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 00:57:24.748 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/14 application/json - - 200 - application/json;+charset=utf-8 51.7724ms
2025-02-25 00:57:29.186 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/14 - -
2025-02-25 00:57:29.186 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/14 - -
2025-02-25 00:57:29.187 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:29.188 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:29.188 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/14 - - - 204 - - 2.6273ms
2025-02-25 00:57:29.189 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/14 - - - 204 - - 2.9594ms
2025-02-25 00:57:29.191 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/14 application/json 8
2025-02-25 00:57:29.192 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/14 application/json 99
2025-02-25 00:57:29.193 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:29.194 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:29.194 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 00:57:29.195 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 00:57:29.200 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:57:29.200 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 00:57:29.224 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 00:57:29.239 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 00:57:29.243 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 00:57:29.271 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 00:57:29.296 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 00:57:29.303 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 00:57:29.308 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 00:57:29.317 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 00:57:29.319 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:57:29.321 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 118.7686ms
2025-02-25 00:57:29.322 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 00:57:29.323 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/14 application/json 8 - 200 - application/json;+charset=utf-8 131.5993ms
2025-02-25 00:57:29.328 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 00:57:29.331 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 00:57:29.332 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 128.0287ms
2025-02-25 00:57:29.333 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 00:57:29.334 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/14 application/json 99 - 200 - application/json;+charset=utf-8 142.6845ms
2025-02-25 00:57:32.923 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 00:57:32.925 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:32.927 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 3.7671ms
2025-02-25 00:57:32.929 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryTaqNY6ZY1FgFpSlB 1243
2025-02-25 00:57:32.931 +01:00 [INF] CORS policy execution successful.
2025-02-25 00:57:32.931 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 00:57:32.939 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 01:03:33.656 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:03:33.881 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:03:33.882 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:03:33.884 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:03:33.885 +01:00 [INF] Hosting environment: Development
2025-02-25 01:03:33.886 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:03:34.452 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:03:38.608 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:03:38.713 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:03:38.717 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4268.7994ms
2025-02-25 01:03:38.790 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:03:38.927 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 136.6122ms
2025-02-25 01:03:41.779 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:03:46.280 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:03:46.281 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:03:46.282 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 4502.5901ms
2025-02-25 01:03:47.104 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:03:47.104 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:03:47.104 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:03:47.104 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:03:47.104 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:03:47.105 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:03:47.104 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:03:47.110 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:03:47.116 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:47.116 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:47.116 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:47.116 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:47.116 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:47.116 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:47.116 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:47.116 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:47.119 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 15.3634ms
2025-02-25 01:03:47.119 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 15.3634ms
2025-02-25 01:03:47.119 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 15.3635ms
2025-02-25 01:03:47.119 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 15.5546ms
2025-02-25 01:03:47.120 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 15.6303ms
2025-02-25 01:03:47.121 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 17.3475ms
2025-02-25 01:03:47.122 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 17.8042ms
2025-02-25 01:03:47.123 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 12.8116ms
2025-02-25 01:03:47.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:03:47.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:03:47.145 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:47.145 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:47.213 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:03:47.213 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:03:47.243 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:47'.
2025-02-25 01:03:47.245 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:47'.
2025-02-25 01:03:47.248 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:03:47.248 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:03:47.279 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:03:47.279 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:03:55.705 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:03:55.774 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:03:55.775 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:55.776 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8491.8269ms
2025-02-25 01:03:55.778 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:03:55.780 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:03:55.784 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:55'.
2025-02-25 01:03:55.787 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:03:55.788 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8650.6600ms
2025-02-25 01:03:55.788 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:03:55.808 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:03:55.811 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 20.6661ms
2025-02-25 01:03:55.813 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:03:55.813 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:03:55.814 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:55.815 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 41.0300ms
2025-02-25 01:03:55.817 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:03:55.832 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:55'.
2025-02-25 01:03:55.834 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:03:55.835 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:03:55.840 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:03:55.841 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.0092ms
2025-02-25 01:03:55.843 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:03:55.844 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:03:55.845 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:55.846 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 32.9995ms
2025-02-25 01:03:55.847 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:03:55.853 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:55'.
2025-02-25 01:03:55.854 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:03:55.855 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:03:55.859 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:03:55.860 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.6526ms
2025-02-25 01:03:55.861 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:03:55.862 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 19.0445ms
2025-02-25 01:03:57.226 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:03:57.303 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:03:57.306 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10022.5284ms
2025-02-25 01:03:57.307 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:03:57.307 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:03:57.308 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:57.310 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:57'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:03:57.320 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:57'.
2025-02-25 01:03:57.322 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:03:57.323 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:03:57.315 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10180.6618ms
2025-02-25 01:03:57.347 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:03:57.357 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:03:57.360 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 34.2222ms
2025-02-25 01:03:57.364 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:03:57.368 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 61.6907ms
2025-02-25 01:03:57.370 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:03:57.371 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:57.375 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:57'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:03:57.383 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:57'.
2025-02-25 01:03:57.385 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:03:57.386 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:03:57.441 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:03:57.446 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:03:57.448 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 59.4026ms
2025-02-25 01:03:57.449 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:03:57.449 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:03:57.450 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 79.5392ms
2025-02-25 01:03:57.450 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:03:57.452 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:57'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:03:57.458 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:03:57'.
2025-02-25 01:03:57.459 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:03:57.460 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:03:57.466 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:03:57.472 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:03:57.474 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.5951ms
2025-02-25 01:03:57.475 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:03:57.476 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 27.6943ms
2025-02-25 01:04:27.353 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:04:27.355 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:27.356 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.6691ms
2025-02-25 01:04:27.357 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:04:27.359 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:27.360 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:04:27'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:04:27.371 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:04:27'.
2025-02-25 01:04:27.373 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:04:27.378 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:04:27.388 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:04:27.535 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:04:27.560 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:04:27.563 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 183.6747ms
2025-02-25 01:04:27.564 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:04:27.566 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 208.4682ms
2025-02-25 01:04:30.324 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/15 - -
2025-02-25 01:04:30.324 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/15 - -
2025-02-25 01:04:30.324 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/15 - -
2025-02-25 01:04:30.325 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/15 - -
2025-02-25 01:04:30.330 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:30.328 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:30.329 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:30.326 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:30.331 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/15 - - - 204 - - 5.9746ms
2025-02-25 01:04:30.332 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/15 - - - 204 - - 7.2106ms
2025-02-25 01:04:30.336 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/15 - - - 204 - - 12.0166ms
2025-02-25 01:04:30.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/15 application/json -
2025-02-25 01:04:30.335 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/15 application/json -
2025-02-25 01:04:30.335 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/15 - - - 204 - - 10.4113ms
2025-02-25 01:04:30.363 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:30.364 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:30.369 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:04:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:04:30.369 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:04:30.393 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:04:30'.
2025-02-25 01:04:30.397 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:04:30.399 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:04:30.415 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:04:30.544 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:04:30.560 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:04:30.585 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 176.3077ms
2025-02-25 01:04:30.588 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/15 application/json -
2025-02-25 01:04:30.589 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:04:30.590 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:30.593 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/15 application/json - - 200 - application/json;+charset=utf-8 257.5431ms
2025-02-25 01:04:30.593 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:04:30.600 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:04:30.612 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:04:30.612 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:04:30.617 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:04:30.621 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:04:30.622 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 19.5523ms
2025-02-25 01:04:30.626 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 204.2213ms
2025-02-25 01:04:30.628 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:04:30.628 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/15 application/json -
2025-02-25 01:04:30.629 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:04:30.631 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/15 application/json - - 200 - application/json;+charset=utf-8 42.7095ms
2025-02-25 01:04:30.633 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:30.634 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/15 application/json - - 200 - application/json;+charset=utf-8 294.8456ms
2025-02-25 01:04:30.637 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:04:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:04:30.652 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:04:30'.
2025-02-25 01:04:30.656 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:04:30.657 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:04:30.675 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:04:30.683 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:04:30.687 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 26.6012ms
2025-02-25 01:04:30.689 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:04:30.690 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/15 application/json - - 200 - application/json;+charset=utf-8 62.4236ms
2025-02-25 01:04:33.833 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/15 - -
2025-02-25 01:04:33.833 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/15 - -
2025-02-25 01:04:33.835 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:33.836 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:33.837 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/15 - - - 204 - - 4.3533ms
2025-02-25 01:04:33.838 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/15 - - - 204 - - 5.3150ms
2025-02-25 01:04:33.840 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/15 application/json 102
2025-02-25 01:04:33.841 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/15 application/json 8
2025-02-25 01:04:33.842 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:33.843 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:33.844 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:04:33.845 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:04:33.853 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:04:33.853 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:04:33.883 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:04:33.900 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 01:04:33.918 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:04:33.946 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:04:33.976 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 01:04:33.990 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:04:34.000 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 01:04:34.001 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 01:04:34.004 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:04:34.008 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 148.9907ms
2025-02-25 01:04:34.010 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:04:34.011 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/15 application/json 8 - 200 - application/json;+charset=utf-8 170.1303ms
2025-02-25 01:04:34.028 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:04:34.032 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:04:34.035 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 178.6118ms
2025-02-25 01:04:34.037 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:04:34.038 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/15 application/json 102 - 200 - application/json;+charset=utf-8 197.6110ms
2025-02-25 01:04:36.625 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 01:04:36.627 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:36.628 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 2.7339ms
2025-02-25 01:04:36.630 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryQzVdWJY1pHqPQsDJ 1243
2025-02-25 01:04:36.632 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:04:36.634 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 01:04:36.643 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 01:04:41.921 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 5276.4974ms
2025-02-25 01:04:41.923 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 01:06:54.873 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:06:55.025 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:06:55.027 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:06:55.028 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:06:55.029 +01:00 [INF] Hosting environment: Development
2025-02-25 01:06:55.030 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:06:55.822 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:06:59.972 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:07:00.078 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:07:00.084 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4266.7365ms
2025-02-25 01:07:00.188 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:07:00.308 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 119.8912ms
2025-02-25 01:07:03.185 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:07:07.911 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:07:07.912 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 4727.5907ms
2025-02-25 01:07:07.917 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:07:08.697 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:07:08.698 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:07:08.697 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:07:08.697 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:07:08.697 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:07:08.704 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:07:08.709 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:07:08.713 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:07:08.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:08.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:08.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:08.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:08.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:08.739 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 42.2967ms
2025-02-25 01:07:08.768 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 67.8497ms
2025-02-25 01:07:08.739 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 42.1727ms
2025-02-25 01:07:08.740 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 42.7267ms
2025-02-25 01:07:08.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:08.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:08.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:08.739 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 26.4207ms
2025-02-25 01:07:08.744 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:07:08.766 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:07:08.774 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 76.5216ms
2025-02-25 01:07:08.774 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 70.8707ms
2025-02-25 01:07:08.775 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 66.8563ms
2025-02-25 01:07:08.779 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:08.779 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:08.850 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:07:08.850 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:07:08.881 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:08'.
2025-02-25 01:07:08.885 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:08'.
2025-02-25 01:07:08.889 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:07:08.889 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:07:08.918 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:07:08.918 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:07:09.354 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:07:09.376 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:09.377 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 22.8383ms
2025-02-25 01:07:09.379 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:07:09.383 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:09.387 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:07:09.397 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:09'.
2025-02-25 01:07:09.398 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:07:09.406 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:07:17.376 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:17.435 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:07:17.436 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:17.437 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8510.3685ms
2025-02-25 01:07:17.437 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:07:17.439 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:07:17.445 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:17'.
2025-02-25 01:07:17.447 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8681.9521ms
2025-02-25 01:07:17.451 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:07:17.454 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:07:17.473 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:17.476 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 19.6325ms
2025-02-25 01:07:17.479 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:07:17.482 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:17.480 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:07:17.488 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:07:17.489 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 53.8377ms
2025-02-25 01:07:17.501 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:17'.
2025-02-25 01:07:17.504 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:07:17.506 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:07:17.513 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:17.515 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.4302ms
2025-02-25 01:07:17.517 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:07:17.517 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:07:17.518 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:17.519 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 40.7373ms
2025-02-25 01:07:17.521 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:07:17.533 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:17'.
2025-02-25 01:07:17.534 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:07:17.535 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:07:17.541 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:17.543 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.462ms
2025-02-25 01:07:17.545 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:07:17.546 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 29.0691ms
2025-02-25 01:07:18.932 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:07:18.932 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:07:19.037 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:19.040 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10119.8387ms
2025-02-25 01:07:19.041 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:07:19.042 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:07:19.042 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:19.044 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:07:19.052 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10307.7558ms
2025-02-25 01:07:19.057 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:19'.
2025-02-25 01:07:19.068 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:07:19.069 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:07:19.128 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:07:19.134 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:19.135 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 64.5754ms
2025-02-25 01:07:19.136 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:07:19.137 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:07:19.138 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 96.7500ms
2025-02-25 01:07:19.138 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:19.140 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:07:19.147 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:19'.
2025-02-25 01:07:19.148 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:07:19.148 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:07:19.160 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:07:19.160 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:07:19.170 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:19.171 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 21.3007ms
2025-02-25 01:07:19.174 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:07:19.173 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:07:19.175 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 38.6846ms
2025-02-25 01:07:19.176 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:19.179 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:07:19.184 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:19.185 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:19'.
2025-02-25 01:07:19.187 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 9774.7806ms
2025-02-25 01:07:19.189 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:07:19.190 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:07:19.190 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:07:19.191 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 9812.1884ms
2025-02-25 01:07:19.198 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:07:19.205 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:19.207 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.0476ms
2025-02-25 01:07:19.208 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:07:19.209 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 36.8284ms
2025-02-25 01:07:21.864 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/16 - -
2025-02-25 01:07:21.864 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/16 - -
2025-02-25 01:07:21.866 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/16 - -
2025-02-25 01:07:21.866 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/16 - -
2025-02-25 01:07:21.868 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:21.868 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:21.872 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/16 - - - 204 - - 7.8867ms
2025-02-25 01:07:21.870 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:21.871 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/16 - - - 204 - - 7.0557ms
2025-02-25 01:07:21.869 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:21.875 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/16 - - - 204 - - 8.4431ms
2025-02-25 01:07:21.877 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/16 application/json -
2025-02-25 01:07:21.878 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/16 application/json -
2025-02-25 01:07:21.881 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/16 - - - 204 - - 14.6168ms
2025-02-25 01:07:21.885 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:21.890 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:21.893 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:07:21.895 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:07:21.906 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:21'.
2025-02-25 01:07:21.910 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:07:21.912 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:07:21.914 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:07:22.117 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:07:22.118 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:07:22.168 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:22.168 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:22.169 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 245.2513ms
2025-02-25 01:07:22.172 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:07:22.173 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/16 application/json - - 200 - application/json;+charset=utf-8 295.5438ms
2025-02-25 01:07:22.184 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/16 application/json -
2025-02-25 01:07:22.194 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:22.214 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:07:22.219 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 302.5798ms
2025-02-25 01:07:22.226 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:07:22.225 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:07:22'.
2025-02-25 01:07:22.224 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/16 application/json -
2025-02-25 01:07:22.230 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/16 application/json - - 200 - application/json;+charset=utf-8 352.2515ms
2025-02-25 01:07:22.231 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:07:22.232 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:22.234 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:07:22.236 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:07:22.248 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:07:22.249 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:07:22.271 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:22.281 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 43.1108ms
2025-02-25 01:07:22.282 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:07:22.283 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/16 application/json - - 200 - application/json;+charset=utf-8 99.2208ms
2025-02-25 01:07:22.286 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:07:22.294 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:22.297 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 17.914ms
2025-02-25 01:07:22.298 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:07:22.299 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/16 application/json - - 200 - application/json;+charset=utf-8 75.4835ms
2025-02-25 01:07:28.516 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/16 - -
2025-02-25 01:07:28.516 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/16 - -
2025-02-25 01:07:28.517 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:28.519 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:28.520 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/16 - - - 204 - - 3.9340ms
2025-02-25 01:07:28.521 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/16 - - - 204 - - 4.2296ms
2025-02-25 01:07:28.521 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/16 application/json 8
2025-02-25 01:07:28.522 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/16 application/json 102
2025-02-25 01:07:28.525 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:28.526 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:28.527 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:07:28.527 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:07:28.531 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:07:28.532 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:07:28.555 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:07:28.572 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 01:07:28.586 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:07:28.605 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:07:28.635 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 01:07:28.656 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:07:28.657 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 01:07:28.666 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 01:07:28.673 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:28.675 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 141.4267ms
2025-02-25 01:07:28.677 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:07:28.681 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/16 application/json 8 - 200 - application/json;+charset=utf-8 159.7369ms
2025-02-25 01:07:28.689 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:07:28.693 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:07:28.696 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 159.7461ms
2025-02-25 01:07:28.697 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:07:28.700 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/16 application/json 102 - 200 - application/json;+charset=utf-8 177.4986ms
2025-02-25 01:07:29.279 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/16 - -
2025-02-25 01:07:29.279 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/16 - -
2025-02-25 01:07:29.280 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:29.281 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:29.282 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/16 - - - 204 - - 3.6855ms
2025-02-25 01:07:29.283 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/16 - - - 204 - - 3.7886ms
2025-02-25 01:07:29.284 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/16 application/json -
2025-02-25 01:07:29.286 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:29.286 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:07:29.291 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:07:29.303 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:07:29.308 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:07:29.322 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:07:29.329 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 35.99ms
2025-02-25 01:07:29.340 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/16 application/json -
2025-02-25 01:07:29.340 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:07:29.342 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:29.346 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/16 application/json - - 200 - application/json;+charset=utf-8 61.5023ms
2025-02-25 01:07:29.346 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:07:29.349 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:07:29.368 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:07:29.376 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:07:29.386 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:07:29.389 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 28.1535ms
2025-02-25 01:07:29.391 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:07:29.392 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/16 application/json - - 200 - application/json;+charset=utf-8 52.6075ms
2025-02-25 01:07:33.084 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 01:07:33.085 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:33.086 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 2.1648ms
2025-02-25 01:07:33.088 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryBiOd3ABhqFP328Sj 1242
2025-02-25 01:07:33.090 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:07:33.091 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 01:07:33.098 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 01:08:52.589 +01:00 [ERR] Błąd weryfikacji tokena App Check: NotFound
2025-02-25 01:12:47.907 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:12:48.073 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:12:48.075 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:12:48.077 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:12:48.078 +01:00 [INF] Hosting environment: Development
2025-02-25 01:12:48.078 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:12:48.833 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:12:52.992 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:12:53.092 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:12:53.098 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4267.4272ms
2025-02-25 01:12:53.162 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:12:53.299 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 136.8446ms
2025-02-25 01:12:56.154 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:13:01.910 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:13:01.911 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 5757.2652ms
2025-02-25 01:13:01.930 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:13:03.025 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:13:03.025 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:13:03.025 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:13:03.025 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:13:03.025 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:13:03.052 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:03.025 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:13:03.025 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:13:03.026 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:13:03.070 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:03.070 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:03.071 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:03.072 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:03.075 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 50.1342ms
2025-02-25 01:13:03.075 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 50.3300ms
2025-02-25 01:13:03.077 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 52.0463ms
2025-02-25 01:13:03.074 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 49.8131ms
2025-02-25 01:13:03.073 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:03.073 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:03.077 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:03.078 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:13:03.078 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:13:03.078 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 53.3762ms
2025-02-25 01:13:03.086 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 61.0311ms
2025-02-25 01:13:03.087 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 61.9371ms
2025-02-25 01:13:03.087 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 61.1432ms
2025-02-25 01:13:03.089 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:03.089 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:03.450 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:13:03.450 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:13:03.499 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:03'.
2025-02-25 01:13:03.504 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:03'.
2025-02-25 01:13:03.508 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:13:03.508 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:13:03.557 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:13:03.557 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:13:12.211 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:12.307 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:13:12.309 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:12.310 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8721.7436ms
2025-02-25 01:13:12.313 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:13:12.314 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:13:12.327 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:12'.
2025-02-25 01:13:12.330 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9252.7299ms
2025-02-25 01:13:12.330 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:13:12.334 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:13:12.349 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:12.351 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 15.7772ms
2025-02-25 01:13:12.352 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:13:12.353 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:13:12.357 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 49.7356ms
2025-02-25 01:13:12.355 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:12.405 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:13:12.425 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:12'.
2025-02-25 01:13:12.433 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:13:12.434 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:13:12.438 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:12.440 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.6199ms
2025-02-25 01:13:12.441 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:13:12.441 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:13:12.443 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 90.2428ms
2025-02-25 01:13:12.444 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:12.448 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:13:12.455 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:12'.
2025-02-25 01:13:12.457 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:13:12.459 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:13:12.465 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:12.467 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.5508ms
2025-02-25 01:13:12.468 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:13:12.469 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 27.5939ms
2025-02-25 01:13:13.970 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:13:14.072 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:14.079 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10488.7571ms
2025-02-25 01:13:14.079 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:13:14.080 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:13:14.081 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:14.084 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:14'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:13:14.093 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 11014.6273ms
2025-02-25 01:13:14.100 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:14'.
2025-02-25 01:13:14.105 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:13:14.108 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:13:14.133 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:13:14.140 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:14.143 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 31.0036ms
2025-02-25 01:13:14.144 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:13:14.144 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:13:14.145 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 66.2248ms
2025-02-25 01:13:14.146 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:14.149 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:14'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:13:14.157 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:14'.
2025-02-25 01:13:14.159 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:13:14.160 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:13:14.224 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:13:14.231 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:14.233 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 70.7128ms
2025-02-25 01:13:14.234 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:13:14.234 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:13:14.234 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:14.236 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 91.8462ms
2025-02-25 01:13:14.237 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:14'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:13:14.248 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:14'.
2025-02-25 01:13:14.249 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:13:14.251 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:13:14.256 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:13:14.265 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:14.267 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.1831ms
2025-02-25 01:13:14.268 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:13:14.269 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 34.9104ms
2025-02-25 01:13:14.919 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:13:14.920 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:14.923 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 3.6952ms
2025-02-25 01:13:14.924 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:13:14.926 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:14.928 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:14'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:13:14.939 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:14'.
2025-02-25 01:13:14.940 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:13:14.944 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:13:14.955 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:13:15.102 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:13:15.123 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:15.125 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 178.9142ms
2025-02-25 01:13:15.127 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:13:15.128 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 204.0915ms
2025-02-25 01:13:18.009 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/17 - -
2025-02-25 01:13:18.009 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/17 - -
2025-02-25 01:13:18.009 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/17 - -
2025-02-25 01:13:18.009 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/17 - -
2025-02-25 01:13:18.015 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:18.016 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:18.017 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:18.018 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:18.019 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/17 - - - 204 - - 10.4607ms
2025-02-25 01:13:18.022 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/17 - - - 204 - - 12.6878ms
2025-02-25 01:13:18.025 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/17 - - - 204 - - 15.2900ms
2025-02-25 01:13:18.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/17 application/json -
2025-02-25 01:13:18.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/17 application/json -
2025-02-25 01:13:18.026 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/17 - - - 204 - - 16.4489ms
2025-02-25 01:13:18.031 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:18.031 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:18.034 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:18'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:13:18.035 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:13:18.044 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:18'.
2025-02-25 01:13:18.047 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:13:18.050 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:13:18.053 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:13:18.196 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:13:18.223 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:18.244 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 191.9227ms
2025-02-25 01:13:18.246 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:13:18.246 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/17 application/json -
2025-02-25 01:13:18.248 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/17 application/json - - 200 - application/json;+charset=utf-8 222.4465ms
2025-02-25 01:13:18.250 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:18.252 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:13:18.255 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:13:18.257 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:13:18.263 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:18.263 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:13:18.266 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 198.9683ms
2025-02-25 01:13:18.269 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/17 application/json -
2025-02-25 01:13:18.274 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:18.275 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:13:18.276 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:18.279 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 21.5551ms
2025-02-25 01:13:18.283 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:13:18.282 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:18'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:13:18.280 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/17 application/json - - 200 - application/json;+charset=utf-8 254.5817ms
2025-02-25 01:13:18.287 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/17 application/json - - 200 - application/json;+charset=utf-8 40.1830ms
2025-02-25 01:13:18.296 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:13:18'.
2025-02-25 01:13:18.306 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:13:18.308 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:13:18.320 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:13:18.324 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:18.329 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 16.5817ms
2025-02-25 01:13:18.335 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:13:18.345 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/17 application/json - - 200 - application/json;+charset=utf-8 76.8546ms
2025-02-25 01:13:21.201 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/17 - -
2025-02-25 01:13:21.201 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/17 - -
2025-02-25 01:13:21.202 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:21.204 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:21.204 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/17 - - - 204 - - 3.7910ms
2025-02-25 01:13:21.206 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/17 application/json 8
2025-02-25 01:13:21.205 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/17 - - - 204 - - 4.4281ms
2025-02-25 01:13:21.206 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/17 application/json 102
2025-02-25 01:13:21.209 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:21.210 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:21.211 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:13:21.212 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:13:21.216 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:13:21.216 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:13:21.239 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:13:21.252 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 01:13:21.254 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:13:21.279 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:13:21.304 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 01:13:21.318 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 01:13:21.337 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:13:21.342 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 01:13:21.347 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:13:21.347 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:21.350 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:13:21.352 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 133.6483ms
2025-02-25 01:13:21.355 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 133.4967ms
2025-02-25 01:13:21.356 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:13:21.357 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:13:21.360 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/17 application/json 8 - 200 - application/json;+charset=utf-8 154.4469ms
2025-02-25 01:13:21.361 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/17 application/json 102 - 200 - application/json;+charset=utf-8 154.7652ms
2025-02-25 01:13:25.638 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 01:13:25.640 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:25.640 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 2.2298ms
2025-02-25 01:13:25.643 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryAf8e9irl79JQZBeN 1248
2025-02-25 01:13:25.645 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:13:25.646 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 01:13:25.654 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 01:13:38.281 +01:00 [ERR] Błąd weryfikacji tokena App Check: NotFound
2025-02-25 01:16:12.078 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:16:12.236 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:16:12.237 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:16:12.239 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:16:12.240 +01:00 [INF] Hosting environment: Development
2025-02-25 01:16:12.241 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:16:12.969 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:16:17.103 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:16:17.205 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:16:17.212 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4244.8302ms
2025-02-25 01:16:17.278 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:16:17.435 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 157.2436ms
2025-02-25 01:16:20.280 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:16:24.887 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:16:24.888 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 4608.1731ms
2025-02-25 01:16:24.901 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:16:25.692 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:16:25.702 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:16:25.692 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:16:25.692 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:16:25.692 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:16:25.692 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:16:25.692 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:16:25.693 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:16:25.708 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:25.708 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:25.708 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:25.708 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:25.708 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:25.708 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:25.708 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:25.708 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:25.712 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 19.6099ms
2025-02-25 01:16:25.712 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 18.9450ms
2025-02-25 01:16:25.713 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 20.6847ms
2025-02-25 01:16:25.714 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 21.6030ms
2025-02-25 01:16:25.714 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 22.5370ms
2025-02-25 01:16:25.725 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:16:25.715 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 23.5536ms
2025-02-25 01:16:25.717 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 25.1934ms
2025-02-25 01:16:25.716 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 14.3626ms
2025-02-25 01:16:25.726 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:16:25.730 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:25.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:25.804 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:16:25.804 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:16:25.832 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:25'.
2025-02-25 01:16:25.834 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:25'.
2025-02-25 01:16:25.837 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:16:25.839 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:16:25.869 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:16:25.869 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:16:34.241 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:34.295 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:16:34.296 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:34.297 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8422.7256ms
2025-02-25 01:16:34.298 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:16:34.300 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:16:34.305 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:34'.
2025-02-25 01:16:34.307 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:16:34.307 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8580.1588ms
2025-02-25 01:16:34.308 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:16:34.323 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:34.326 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.5378ms
2025-02-25 01:16:34.327 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:16:34.327 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:16:34.328 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:34.329 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 34.2938ms
2025-02-25 01:16:34.330 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:16:34.343 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:34'.
2025-02-25 01:16:34.344 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:16:34.345 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:16:34.351 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:34.354 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.713ms
2025-02-25 01:16:34.358 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:16:34.358 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:16:34.359 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 31.8399ms
2025-02-25 01:16:34.360 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:34.363 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:16:34.369 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:34'.
2025-02-25 01:16:34.371 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:16:34.372 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:16:34.377 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:34.378 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.3938ms
2025-02-25 01:16:34.382 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:16:34.383 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 24.6264ms
2025-02-25 01:16:35.287 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:16:35.290 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:35.294 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 6.7161ms
2025-02-25 01:16:35.296 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:16:35.298 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:35.312 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:16:35.319 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:35'.
2025-02-25 01:16:35.324 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:16:35.329 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:16:35.928 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:16:35.928 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:16:36.094 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:36.098 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10223.9998ms
2025-02-25 01:16:36.098 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:16:36.100 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:16:36.101 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:36.104 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:16:36.111 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10386.1644ms
2025-02-25 01:16:36.118 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:36'.
2025-02-25 01:16:36.124 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:16:36.125 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:16:36.193 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:16:36.200 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:36.202 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 74.2372ms
2025-02-25 01:16:36.204 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:16:36.204 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:16:36.205 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:36.206 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 107.7176ms
2025-02-25 01:16:36.207 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:16:36.215 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:36'.
2025-02-25 01:16:36.216 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:16:36.217 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:16:36.223 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:16:36.223 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:16:36.231 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:36.233 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.2377ms
2025-02-25 01:16:36.234 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:16:36.234 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:16:36.235 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 31.5774ms
2025-02-25 01:16:36.236 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:36.238 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:16:36.246 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:36'.
2025-02-25 01:16:36.247 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:16:36.248 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:16:36.250 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:36.251 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 920.9727ms
2025-02-25 01:16:36.253 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:16:36.254 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:16:36.256 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 959.8091ms
2025-02-25 01:16:36.262 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:36.263 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.721ms
2025-02-25 01:16:36.264 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:16:36.265 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 30.7336ms
2025-02-25 01:16:39.152 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/18 - -
2025-02-25 01:16:39.154 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/18 - -
2025-02-25 01:16:39.155 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/18 - -
2025-02-25 01:16:39.157 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:39.158 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:39.159 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:39.160 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/18 - - - 204 - - 8.3133ms
2025-02-25 01:16:39.161 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/18 - - - 204 - - 6.7436ms
2025-02-25 01:16:39.163 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/18 - -
2025-02-25 01:16:39.188 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/18 - - - 204 - - 29.5437ms
2025-02-25 01:16:39.189 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:39.212 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/18 application/json -
2025-02-25 01:16:39.214 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/18 application/json -
2025-02-25 01:16:39.223 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/18 - - - 204 - - 59.8387ms
2025-02-25 01:16:39.226 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:39.229 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:39.234 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:16:39.243 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:39'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:16:39.248 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:16:39.256 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:39'.
2025-02-25 01:16:39.260 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:16:39.264 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:16:39.389 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:16:39.396 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:16:39.408 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:39.409 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:39.410 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 140.6628ms
2025-02-25 01:16:39.414 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:16:39.415 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/18 application/json - - 200 - application/json;+charset=utf-8 200.9213ms
2025-02-25 01:16:39.427 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 169.0106ms
2025-02-25 01:16:39.477 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/18 application/json -
2025-02-25 01:16:39.479 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:16:39.479 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/18 application/json -
2025-02-25 01:16:39.480 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:39.482 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/18 application/json - - 200 - application/json;+charset=utf-8 269.2039ms
2025-02-25 01:16:39.483 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:39.484 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:39'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:16:39.487 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:16:39.516 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:16:39'.
2025-02-25 01:16:39.575 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:16:39.518 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:16:39.583 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:16:39.595 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:16:39.601 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:16:39.607 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:39.612 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:39.615 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 29.1305ms
2025-02-25 01:16:39.616 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 26.899ms
2025-02-25 01:16:39.617 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:16:39.618 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:16:39.619 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/18 application/json - - 200 - application/json;+charset=utf-8 139.9840ms
2025-02-25 01:16:39.622 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/18 application/json - - 200 - application/json;+charset=utf-8 144.2923ms
2025-02-25 01:16:42.440 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/18 - -
2025-02-25 01:16:42.440 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/18 - -
2025-02-25 01:16:42.441 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:42.442 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:42.443 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/18 - - - 204 - - 2.9723ms
2025-02-25 01:16:42.445 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/18 application/json 102
2025-02-25 01:16:42.445 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/18 application/json 8
2025-02-25 01:16:42.443 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/18 - - - 204 - - 3.0634ms
2025-02-25 01:16:42.446 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:42.447 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:42.448 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:16:42.449 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:16:42.453 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:16:42.454 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:16:42.479 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:16:42.494 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:16:42.496 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 01:16:42.526 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:16:42.557 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 01:16:42.566 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 01:16:42.576 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:16:42.591 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 01:16:42.591 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:16:42.595 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:42.601 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:16:42.602 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 143.4697ms
2025-02-25 01:16:42.605 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 149.2841ms
2025-02-25 01:16:42.605 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:16:42.607 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:16:42.609 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/18 application/json 8 - 200 - application/json;+charset=utf-8 164.4502ms
2025-02-25 01:16:42.610 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/18 application/json 102 - 200 - application/json;+charset=utf-8 165.5721ms
2025-02-25 01:16:45.898 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 01:16:45.899 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:45.900 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 2.1530ms
2025-02-25 01:16:45.902 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundarymca69qDrzEt6oOKj 1243
2025-02-25 01:16:45.905 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:16:45.907 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 01:16:45.914 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 01:23:42.610 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:23:42.772 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:23:42.774 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:23:42.777 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:23:42.779 +01:00 [INF] Hosting environment: Development
2025-02-25 01:23:42.780 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:23:43.443 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:23:47.618 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:23:47.718 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:23:47.723 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4283.2741ms
2025-02-25 01:23:47.793 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:23:47.947 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 152.8949ms
2025-02-25 01:23:50.787 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:23:55.720 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:23:55.721 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 4934.0140ms
2025-02-25 01:23:55.733 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:23:56.565 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:23:56.565 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:23:56.565 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:23:56.566 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:23:56.565 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:23:56.565 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:23:56.566 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:23:56.573 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:23:56.579 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:23:56.579 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:23:56.579 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:23:56.579 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:23:56.583 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 17.2280ms
2025-02-25 01:23:56.579 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:23:56.583 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 18.0223ms
2025-02-25 01:23:56.591 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 26.0108ms
2025-02-25 01:23:56.583 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 17.8217ms
2025-02-25 01:23:56.579 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:23:56.579 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:23:56.579 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:23:56.583 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 10.1766ms
2025-02-25 01:23:56.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:23:56.670 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:23:56.673 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 107.5458ms
2025-02-25 01:23:56.674 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 109.4631ms
2025-02-25 01:23:56.675 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 109.0453ms
2025-02-25 01:23:56.681 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:23:56.681 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:23:56.757 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:23:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:23:56.757 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:23:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:23:56.789 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:23:56'.
2025-02-25 01:23:56.792 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:23:56'.
2025-02-25 01:23:56.795 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:23:56.796 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:23:56.823 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:23:56.823 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:24:05.231 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:05.287 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:24:05.288 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:05.289 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8459.6822ms
2025-02-25 01:24:05.290 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:24:05.291 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:24:05.296 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:05'.
2025-02-25 01:24:05.298 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:24:05.298 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8656.8851ms
2025-02-25 01:24:05.299 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:24:05.314 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:05.316 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 13.7407ms
2025-02-25 01:24:05.317 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:24:05.317 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:24:05.318 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:05.319 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 32.4185ms
2025-02-25 01:24:05.321 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:24:05.338 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:05'.
2025-02-25 01:24:05.342 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:24:05.349 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:24:05.356 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:05.358 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.0137ms
2025-02-25 01:24:05.359 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:24:05.359 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:24:05.360 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:05.361 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 43.9859ms
2025-02-25 01:24:05.363 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:24:05.370 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:05'.
2025-02-25 01:24:05.371 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:24:05.372 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:24:05.376 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:05.377 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.5051ms
2025-02-25 01:24:05.378 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:24:05.379 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 19.7727ms
2025-02-25 01:24:06.769 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:24:06.848 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:06.851 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10023.5618ms
2025-02-25 01:24:06.852 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:24:06.853 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:24:06.854 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:06.857 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:24:06.863 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10192.9146ms
2025-02-25 01:24:06.865 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:06'.
2025-02-25 01:24:06.868 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:24:06.869 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:24:06.892 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:24:06.898 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:06.900 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 28.5557ms
2025-02-25 01:24:06.901 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:24:06.901 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:24:06.902 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:06.903 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 50.9442ms
2025-02-25 01:24:06.904 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:24:06.911 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:06'.
2025-02-25 01:24:06.912 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:24:06.912 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:24:06.966 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:24:06.973 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:06.974 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 60.403ms
2025-02-25 01:24:06.975 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:24:06.976 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:24:06.976 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 75.0829ms
2025-02-25 01:24:06.977 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:06.979 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:24:06.985 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:06'.
2025-02-25 01:24:06.986 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:24:06.987 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:24:06.993 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:24:06.999 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:07.001 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.9845ms
2025-02-25 01:24:07.002 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:24:07.002 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 26.8784ms
2025-02-25 01:24:12.707 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:24:12.709 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:12.709 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.0019ms
2025-02-25 01:24:12.711 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:24:12.714 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:12.715 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:24:12.724 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:12'.
2025-02-25 01:24:12.725 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:24:12.730 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:24:12.742 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:24:12.880 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:24:12.901 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:12.903 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 169.8201ms
2025-02-25 01:24:12.904 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:24:12.905 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 194.0596ms
2025-02-25 01:24:15.932 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/19 - -
2025-02-25 01:24:15.933 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/19 - -
2025-02-25 01:24:15.933 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/19 - -
2025-02-25 01:24:15.933 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/19 - -
2025-02-25 01:24:15.937 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:15.937 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:15.938 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:15.943 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/19 - - - 204 - - 9.4996ms
2025-02-25 01:24:15.939 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:15.940 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/19 - - - 204 - - 7.9924ms
2025-02-25 01:24:15.941 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/19 - - - 204 - - 8.2614ms
2025-02-25 01:24:15.944 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/19 application/json -
2025-02-25 01:24:15.945 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/19 application/json -
2025-02-25 01:24:15.945 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/19 - - - 204 - - 11.7897ms
2025-02-25 01:24:15.953 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:15.954 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:15.957 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:15'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:24:15.957 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:24:15.964 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:15'.
2025-02-25 01:24:15.968 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:24:15.969 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:24:15.975 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:24:16.135 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:24:16.176 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:16.180 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 202.1585ms
2025-02-25 01:24:16.182 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:24:16.183 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/19 application/json - - 200 - application/json;+charset=utf-8 238.5575ms
2025-02-25 01:24:16.197 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/19 application/json -
2025-02-25 01:24:16.209 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:16.233 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:24:16.292 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:24:16.329 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:24:16'.
2025-02-25 01:24:16.334 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:24:16.335 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:16.335 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:24:16.355 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:24:16.360 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:16.362 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 19.1729ms
2025-02-25 01:24:16.363 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:24:16.364 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 392.8897ms
2025-02-25 01:24:16.365 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/19 application/json - - 200 - application/json;+charset=utf-8 168.4972ms
2025-02-25 01:24:16.365 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/19 application/json -
2025-02-25 01:24:16.366 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:24:16.374 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/19 application/json - - 200 - application/json;+charset=utf-8 429.2344ms
2025-02-25 01:24:16.371 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:16.379 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:24:16.381 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:24:16.391 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:24:16.397 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:16.401 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 15.2504ms
2025-02-25 01:24:16.403 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:24:16.404 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/19 application/json - - 200 - application/json;+charset=utf-8 38.5900ms
2025-02-25 01:24:20.715 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/19 - -
2025-02-25 01:24:20.715 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/19 - -
2025-02-25 01:24:20.716 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:20.717 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:20.718 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/19 - - - 204 - - 2.6721ms
2025-02-25 01:24:20.718 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/19 - - - 204 - - 2.9840ms
2025-02-25 01:24:20.720 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/19 application/json 8
2025-02-25 01:24:20.720 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/19 application/json 102
2025-02-25 01:24:20.722 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:20.722 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:20.723 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:24:20.724 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:24:20.729 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:24:20.731 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:24:20.750 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:24:20.765 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 01:24:20.776 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:24:20.789 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:24:20.813 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 01:24:20.828 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:24:20.829 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 01:24:20.835 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 01:24:20.838 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:20.839 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 108.2856ms
2025-02-25 01:24:20.840 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:24:20.841 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/19 application/json 8 - 200 - application/json;+charset=utf-8 121.5256ms
2025-02-25 01:24:20.852 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:24:20.855 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:24:20.857 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 124.2108ms
2025-02-25 01:24:20.858 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:24:20.859 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/19 application/json 102 - 200 - application/json;+charset=utf-8 138.8506ms
2025-02-25 01:24:24.666 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 01:24:24.688 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:24.689 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 23.0695ms
2025-02-25 01:24:24.691 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary0C8w8pv48WhAIqgl 1242
2025-02-25 01:24:24.695 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:24:24.695 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 01:24:24.708 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 01:26:09.013 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:26:09.179 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:26:09.181 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:26:09.182 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:26:09.183 +01:00 [INF] Hosting environment: Development
2025-02-25 01:26:09.184 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:26:09.923 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:26:14.069 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:26:14.167 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:26:14.172 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4250.9839ms
2025-02-25 01:26:14.240 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:26:14.382 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 141.6503ms
2025-02-25 01:26:17.230 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:26:21.943 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:26:21.944 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 4714.1307ms
2025-02-25 01:26:21.955 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:26:22.732 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:26:22.732 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:26:22.733 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:26:22.733 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:26:22.738 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:26:22.733 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:26:22.733 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:26:22.748 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:22.745 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:26:22.747 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:22.747 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:22.747 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:22.747 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:22.747 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:22.748 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:22.750 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:22.751 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 18.3396ms
2025-02-25 01:26:22.751 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 14.4035ms
2025-02-25 01:26:22.752 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 19.5299ms
2025-02-25 01:26:22.753 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 19.8699ms
2025-02-25 01:26:22.755 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 22.2365ms
2025-02-25 01:26:22.754 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 21.6500ms
2025-02-25 01:26:22.753 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 21.1687ms
2025-02-25 01:26:22.756 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 10.6911ms
2025-02-25 01:26:22.766 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:26:22.768 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:26:22.777 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:22.777 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:22.844 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:26:22.844 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:26:22.871 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:22'.
2025-02-25 01:26:22.873 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:22'.
2025-02-25 01:26:22.876 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:26:22.876 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:26:22.908 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:26:22.908 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:26:31.359 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:31.415 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:26:31.415 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:31.416 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8502.6376ms
2025-02-25 01:26:31.418 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:26:31.419 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:26:31.424 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:31'.
2025-02-25 01:26:31.426 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:26:31.426 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8657.4505ms
2025-02-25 01:26:31.427 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:26:31.442 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:31.445 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 15.2573ms
2025-02-25 01:26:31.446 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:26:31.446 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:26:31.447 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:31.448 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 33.1012ms
2025-02-25 01:26:31.449 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:26:31.463 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:31'.
2025-02-25 01:26:31.464 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:26:31.469 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:26:31.476 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:31.478 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.2322ms
2025-02-25 01:26:31.479 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:26:31.480 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:26:31.482 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 36.1666ms
2025-02-25 01:26:31.484 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:31.487 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:26:31.493 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:31'.
2025-02-25 01:26:31.494 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:26:31.497 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:26:31.501 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:31.502 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.586ms
2025-02-25 01:26:31.503 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:26:31.504 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 24.2103ms
2025-02-25 01:26:32.804 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:26:32.898 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:32.901 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 9988.6215ms
2025-02-25 01:26:32.902 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:26:32.903 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:26:32.903 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:32.905 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:26:32.910 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10143.7290ms
2025-02-25 01:26:32.915 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:32'.
2025-02-25 01:26:32.917 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:26:32.918 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:26:32.939 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:26:32.945 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:32.947 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 27.0688ms
2025-02-25 01:26:32.948 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:26:32.948 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:26:32.949 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:32.950 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 48.0023ms
2025-02-25 01:26:32.951 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:26:32.956 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:32'.
2025-02-25 01:26:32.959 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:26:32.959 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:26:33.015 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:26:33.022 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:33.023 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 62.4513ms
2025-02-25 01:26:33.024 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:26:33.024 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:26:33.025 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 77.0133ms
2025-02-25 01:26:33.026 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:33.028 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:26:33.039 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:33'.
2025-02-25 01:26:33.040 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:26:33.041 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:26:33.048 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:26:33.055 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:33.057 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.1898ms
2025-02-25 01:26:33.058 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:26:33.059 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 34.5394ms
2025-02-25 01:26:47.327 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:26:47.329 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:47.332 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 4.3919ms
2025-02-25 01:26:47.334 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:26:47.338 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:47.339 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:26:47.347 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:47'.
2025-02-25 01:26:47.349 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:26:47.355 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:26:47.365 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:26:47.506 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:26:47.530 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:47.534 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 177.146ms
2025-02-25 01:26:47.535 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:26:47.536 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 202.4953ms
2025-02-25 01:26:50.659 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - -
2025-02-25 01:26:50.659 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - -
2025-02-25 01:26:50.659 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - -
2025-02-25 01:26:50.702 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:50.700 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:50.701 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:50.659 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - -
2025-02-25 01:26:50.705 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - - - 204 - - 46.2586ms
2025-02-25 01:26:50.707 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - - - 204 - - 48.0726ms
2025-02-25 01:26:50.709 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:50.708 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/20 - - - 204 - - 48.8578ms
2025-02-25 01:26:50.711 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json -
2025-02-25 01:26:50.712 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json -
2025-02-25 01:26:50.727 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/20 - - - 204 - - 68.1511ms
2025-02-25 01:26:50.729 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:50.730 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:50.732 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:26:50.734 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:26:50.738 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:26:50.744 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:50'.
2025-02-25 01:26:50.748 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:26:50.753 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:26:50.886 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:26:50.897 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:50.902 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 143.806ms
2025-02-25 01:26:50.903 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:26:50.905 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json -
2025-02-25 01:26:50.908 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json - - 200 - application/json;+charset=utf-8 195.8956ms
2025-02-25 01:26:50.909 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:50.915 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:26:50.923 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:26:50'.
2025-02-25 01:26:50.928 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:26:50.929 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:26:50.946 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:26:50.966 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:26:50.968 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:50.973 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:50.979 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 48.1657ms
2025-02-25 01:26:50.983 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:26:50.985 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/20 application/json - - 200 - application/json;+charset=utf-8 79.9429ms
2025-02-25 01:26:50.999 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 252.2593ms
2025-02-25 01:26:51.001 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:26:51.005 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json - - 200 - application/json;+charset=utf-8 294.1455ms
2025-02-25 01:26:51.019 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json -
2025-02-25 01:26:51.020 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:51.021 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:26:51.023 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:26:51.057 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:26:51.063 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:51.066 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 38.8329ms
2025-02-25 01:26:51.067 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:26:51.069 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/20 application/json - - 200 - application/json;+charset=utf-8 49.6421ms
2025-02-25 01:26:54.544 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/20 - -
2025-02-25 01:26:54.544 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/20 - -
2025-02-25 01:26:54.545 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:54.547 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:54.548 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/20 - - - 204 - - 3.0965ms
2025-02-25 01:26:54.548 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/20 - - - 204 - - 3.6065ms
2025-02-25 01:26:54.549 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/20 application/json 8
2025-02-25 01:26:54.550 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/20 application/json 103
2025-02-25 01:26:54.551 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:54.551 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:54.552 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:26:54.553 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:26:54.559 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:26:54.559 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:26:54.583 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:26:54.597 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 01:26:54.598 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:26:54.622 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:26:54.648 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 01:26:54.661 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:26:54.663 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 01:26:54.670 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 01:26:54.673 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:54.675 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 113.3274ms
2025-02-25 01:26:54.676 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:26:54.680 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/20 application/json 8 - 200 - application/json;+charset=utf-8 130.0895ms
2025-02-25 01:26:54.686 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:26:54.691 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:26:54.694 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 131.1753ms
2025-02-25 01:26:54.695 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:26:54.696 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/20 application/json 103 - 200 - application/json;+charset=utf-8 146.5195ms
2025-02-25 01:26:57.223 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 01:26:57.225 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:57.226 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 3.2299ms
2025-02-25 01:26:57.229 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryey5vIfv7BrHKIa2k 1244
2025-02-25 01:26:57.231 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:26:57.232 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 01:26:57.239 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 01:29:40.797 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:29:41.013 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:29:41.014 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:29:41.016 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:29:41.017 +01:00 [INF] Hosting environment: Development
2025-02-25 01:29:41.017 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:29:41.830 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:29:45.972 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:29:46.072 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:29:46.080 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4253.1055ms
2025-02-25 01:29:46.148 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:29:46.287 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 139.7962ms
2025-02-25 01:29:49.152 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:29:53.876 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:29:53.877 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 4725.1194ms
2025-02-25 01:29:53.889 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:29:54.642 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:29:54.642 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:29:54.642 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:29:54.642 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:29:54.642 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:29:54.643 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:29:54.651 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:29:54.666 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:29:54.688 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:54.688 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:54.688 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:54.688 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:54.688 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:54.688 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:54.695 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:54.695 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:54.697 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 31.1116ms
2025-02-25 01:29:54.697 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 54.8984ms
2025-02-25 01:29:54.697 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 55.1103ms
2025-02-25 01:29:54.697 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 54.9726ms
2025-02-25 01:29:54.697 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 55.0502ms
2025-02-25 01:29:54.697 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 54.9976ms
2025-02-25 01:29:54.697 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 54.5264ms
2025-02-25 01:29:54.702 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 51.2219ms
2025-02-25 01:29:54.704 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:29:54.704 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:29:54.714 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:54.714 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:54.787 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:29:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:29:54.787 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:29:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:29:54.825 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:29:54'.
2025-02-25 01:29:54.830 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:29:54'.
2025-02-25 01:29:54.834 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:29:54.834 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:29:54.870 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:29:54.870 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:29:56.241 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:29:56.243 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:56.244 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.8938ms
2025-02-25 01:29:56.246 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:29:56.248 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:29:56.257 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:29:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:29:56.265 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:29:56'.
2025-02-25 01:29:56.266 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:29:56.277 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:30:03.449 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:03.512 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:30:03.513 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:03.514 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8638.4107ms
2025-02-25 01:30:03.514 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:30:03.517 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:30:03.522 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:03'.
2025-02-25 01:30:03.525 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:30:03.525 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8821.2194ms
2025-02-25 01:30:03.526 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:30:03.541 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:03.543 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 13.7393ms
2025-02-25 01:30:03.544 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:30:03.544 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:30:03.545 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:03.546 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 34.1629ms
2025-02-25 01:30:03.548 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:30:03.558 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:03'.
2025-02-25 01:30:03.560 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:30:03.561 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:30:03.566 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:03.567 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.8296ms
2025-02-25 01:30:03.568 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:30:03.568 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:30:03.569 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 25.2766ms
2025-02-25 01:30:03.572 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:03.574 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:30:03.579 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:03'.
2025-02-25 01:30:03.580 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:30:03.581 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:30:03.585 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:03.588 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.2651ms
2025-02-25 01:30:03.589 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:30:03.590 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 21.7335ms
2025-02-25 01:30:05.073 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:30:05.073 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:30:05.164 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:05.168 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10293.6848ms
2025-02-25 01:30:05.169 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:30:05.170 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:30:05.170 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:05.172 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:30:05.179 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10475.1566ms
2025-02-25 01:30:05.181 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:05'.
2025-02-25 01:30:05.184 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:30:05.185 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:30:05.259 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:30:05.264 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:05.266 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 75.179ms
2025-02-25 01:30:05.267 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:30:05.267 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:30:05.268 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 99.8600ms
2025-02-25 01:30:05.269 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:05.272 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:30:05.278 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:05'.
2025-02-25 01:30:05.279 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:30:05.281 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:30:05.289 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:30:05.296 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:05.296 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:30:05.298 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.1612ms
2025-02-25 01:30:05.300 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:30:05.302 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:30:05.303 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:05.305 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 37.1349ms
2025-02-25 01:30:05.306 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:30:05.314 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:05'.
2025-02-25 01:30:05.315 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:30:05.316 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:30:05.321 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:05.322 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:30:05.325 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 9045.5243ms
2025-02-25 01:30:05.331 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:30:05.331 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 9085.6420ms
2025-02-25 01:30:05.334 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:05.335 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 17.2153ms
2025-02-25 01:30:05.336 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:30:05.337 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 37.7668ms
2025-02-25 01:30:08.039 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - -
2025-02-25 01:30:08.040 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - -
2025-02-25 01:30:08.041 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - -
2025-02-25 01:30:08.041 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - -
2025-02-25 01:30:08.043 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:08.044 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:08.045 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:08.045 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:08.046 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - - - 204 - - 7.8008ms
2025-02-25 01:30:08.047 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - - - 204 - - 7.4555ms
2025-02-25 01:30:08.048 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/21 - - - 204 - - 7.5864ms
2025-02-25 01:30:08.049 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/21 - - - 204 - - 8.0788ms
2025-02-25 01:30:08.050 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json -
2025-02-25 01:30:08.050 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json -
2025-02-25 01:30:08.053 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:08.054 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:08.056 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:30:08.056 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:30:08.065 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:08'.
2025-02-25 01:30:08.066 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:30:08.069 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:30:08.071 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:30:08.224 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:30:08.225 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:30:08.239 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:08.239 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:08.241 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 166.8987ms
2025-02-25 01:30:08.246 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json -
2025-02-25 01:30:08.259 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:30:08.262 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json - - 200 - application/json;+charset=utf-8 212.3978ms
2025-02-25 01:30:08.263 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:08.268 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:30:08.290 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:30:08'.
2025-02-25 01:30:08.293 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 222.0725ms
2025-02-25 01:30:08.293 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:30:08.297 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json -
2025-02-25 01:30:08.313 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:30:08.316 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:30:08.321 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:08.322 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json - - 200 - application/json;+charset=utf-8 272.4263ms
2025-02-25 01:30:08.332 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:30:08.352 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:30:08.365 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:30:08.371 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:30:08.373 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:08.381 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:08.382 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 51.5437ms
2025-02-25 01:30:08.384 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 19.6023ms
2025-02-25 01:30:08.389 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:30:08.387 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:30:08.394 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/21 application/json - - 200 - application/json;+charset=utf-8 96.9376ms
2025-02-25 01:30:08.396 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/21 application/json - - 200 - application/json;+charset=utf-8 149.5439ms
2025-02-25 01:30:12.616 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/21 - -
2025-02-25 01:30:12.616 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/21 - -
2025-02-25 01:30:12.617 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:12.618 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:12.619 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/21 - - - 204 - - 3.5021ms
2025-02-25 01:30:12.621 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/21 - - - 204 - - 4.7103ms
2025-02-25 01:30:12.621 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/21 application/json 103
2025-02-25 01:30:12.622 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/21 application/json 8
2025-02-25 01:30:12.624 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:12.625 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:12.626 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:30:12.627 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:30:12.631 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:30:12.632 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:30:12.654 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:30:12.668 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 01:30:12.680 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:30:12.693 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:30:12.725 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 01:30:12.741 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:30:12.743 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 01:30:12.749 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 01:30:12.754 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:12.755 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 120.4348ms
2025-02-25 01:30:12.757 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:30:12.759 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/21 application/json 8 - 200 - application/json;+charset=utf-8 136.8075ms
2025-02-25 01:30:12.767 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:30:12.771 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:30:12.773 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 139.2562ms
2025-02-25 01:30:12.773 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:30:12.775 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/21 application/json 103 - 200 - application/json;+charset=utf-8 153.6330ms
2025-02-25 01:30:15.620 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 01:30:15.622 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:15.622 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 2.8905ms
2025-02-25 01:30:15.625 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary1SX3WQB584qny0AJ 1237
2025-02-25 01:30:15.627 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:30:15.628 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 01:30:15.636 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 01:32:52.070 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:32:52.244 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:32:52.246 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:32:52.248 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:32:52.248 +01:00 [INF] Hosting environment: Development
2025-02-25 01:32:52.249 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:32:53.064 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:32:57.201 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:32:57.298 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:32:57.305 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4244.6615ms
2025-02-25 01:32:57.378 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:32:57.521 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 142.8314ms
2025-02-25 01:33:00.374 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:33:05.461 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:33:05.463 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 5089.2530ms
2025-02-25 01:33:05.472 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:33:06.293 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:33:06.295 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:33:06.293 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:33:06.294 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:33:06.294 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:33:06.303 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:33:06.311 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:33:06.316 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:33:06.323 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:06.323 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:06.323 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:06.323 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:06.323 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:06.323 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:06.325 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:06.326 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:06.330 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 35.4179ms
2025-02-25 01:33:06.331 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 37.3353ms
2025-02-25 01:33:06.332 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 38.2826ms
2025-02-25 01:33:06.333 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 39.9321ms
2025-02-25 01:33:06.335 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 41.2325ms
2025-02-25 01:33:06.336 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 33.2524ms
2025-02-25 01:33:06.337 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 27.2514ms
2025-02-25 01:33:06.338 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 21.6033ms
2025-02-25 01:33:06.349 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:33:06.349 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:33:06.361 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:06.361 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:06.440 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:33:06.440 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:33:06.478 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:06'.
2025-02-25 01:33:06.489 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:06'.
2025-02-25 01:33:06.493 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:33:06.493 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:33:06.526 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:33:06.526 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:33:14.955 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:15.022 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:33:15.023 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:15.025 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8492.6411ms
2025-02-25 01:33:15.027 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:15'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:33:15.028 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:33:15.037 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:15'.
2025-02-25 01:33:15.042 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8693.1853ms
2025-02-25 01:33:15.043 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:33:15.046 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:33:15.062 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:15.064 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.772ms
2025-02-25 01:33:15.066 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:33:15.066 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:33:15.068 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 45.8820ms
2025-02-25 01:33:15.069 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:15.076 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:15'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:33:15.089 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:15'.
2025-02-25 01:33:15.091 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:33:15.092 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:33:15.099 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:15.103 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.244ms
2025-02-25 01:33:15.104 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:33:15.104 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:33:15.105 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:15.106 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 39.1598ms
2025-02-25 01:33:15.107 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:15'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:33:15.117 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:15'.
2025-02-25 01:33:15.118 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:33:15.119 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:33:15.124 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:15.126 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.9993ms
2025-02-25 01:33:15.126 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:33:15.127 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 23.3573ms
2025-02-25 01:33:16.543 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:33:16.545 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:16.547 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 3.7936ms
2025-02-25 01:33:16.550 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:33:16.568 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:16.570 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:33:16.582 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:16'.
2025-02-25 01:33:16.583 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:33:16.595 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:33:16.641 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:33:16.670 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:33:16.741 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:16.744 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10211.8909ms
2025-02-25 01:33:16.744 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:33:16.745 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:33:16.746 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:16.748 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:33:16.756 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10406.6874ms
2025-02-25 01:33:16.758 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:16'.
2025-02-25 01:33:16.765 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:33:16.767 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:33:16.842 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:33:16.850 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:16.854 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 83.8679ms
2025-02-25 01:33:16.855 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:33:16.855 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:33:16.858 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 113.3709ms
2025-02-25 01:33:16.859 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:16.862 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:33:16.876 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:16'.
2025-02-25 01:33:16.877 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:33:16.879 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:33:16.889 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:33:16.897 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:16.902 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 20.6351ms
2025-02-25 01:33:16.904 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:33:16.904 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:33:16.906 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:16.908 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 52.8582ms
2025-02-25 01:33:16.910 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:33:16.914 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:33:16.924 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:16'.
2025-02-25 01:33:16.928 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:33:16.931 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:33:16.940 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:33:16.948 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:16.950 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 15.3801ms
2025-02-25 01:33:16.952 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:33:16.953 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 48.5960ms
2025-02-25 01:33:16.954 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:16.958 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 361.5022ms
2025-02-25 01:33:16.959 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:33:16.960 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 410.4952ms
2025-02-25 01:33:20.059 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/22 - -
2025-02-25 01:33:20.059 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/22 - -
2025-02-25 01:33:20.064 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/22 - -
2025-02-25 01:33:20.069 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/22 - -
2025-02-25 01:33:20.216 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:20.217 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:20.219 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:20.221 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:20.224 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/22 - - - 204 - - 164.8458ms
2025-02-25 01:33:20.230 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/22 - - - 204 - - 162.9528ms
2025-02-25 01:33:20.229 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/22 application/json -
2025-02-25 01:33:20.228 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/22 - - - 204 - - 161.6892ms
2025-02-25 01:33:20.222 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/22 - - - 204 - - 162.9189ms
2025-02-25 01:33:20.232 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/22 application/json -
2025-02-25 01:33:20.235 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:20.241 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:20.242 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:33:20.243 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:33:20.250 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:20'.
2025-02-25 01:33:20.252 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:33:20.255 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:33:20.257 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:33:20.390 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:33:20.394 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:33:20.408 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:20.408 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:20.409 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 147.1298ms
2025-02-25 01:33:20.413 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/22 application/json -
2025-02-25 01:33:20.416 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:33:20.417 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:20.418 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/22 application/json - - 200 - application/json;+charset=utf-8 189.0575ms
2025-02-25 01:33:20.421 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:33:20.431 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 172.4622ms
2025-02-25 01:33:20.434 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/22 application/json -
2025-02-25 01:33:20.435 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:33:20'.
2025-02-25 01:33:20.437 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:33:20.438 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:20.443 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:33:20.444 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/22 application/json - - 200 - application/json;+charset=utf-8 211.6892ms
2025-02-25 01:33:20.445 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:33:20.456 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:33:20.460 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:33:20.474 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:33:20.476 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:33:20.481 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:20.494 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 27.7765ms
2025-02-25 01:33:20.492 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:20.499 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:33:20.530 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 66.9958ms
2025-02-25 01:33:20.532 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/22 application/json - - 200 - application/json;+charset=utf-8 97.8871ms
2025-02-25 01:33:20.533 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:33:20.540 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/22 application/json - - 200 - application/json;+charset=utf-8 126.9252ms
2025-02-25 01:33:22.990 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/22 - -
2025-02-25 01:33:22.990 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/22 - -
2025-02-25 01:33:22.991 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:22.992 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:22.993 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/22 - - - 204 - - 2.4128ms
2025-02-25 01:33:22.993 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/22 - - - 204 - - 2.8318ms
2025-02-25 01:33:22.994 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/22 application/json 8
2025-02-25 01:33:22.995 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/22 application/json 103
2025-02-25 01:33:22.996 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:22.997 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:22.997 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:33:22.998 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:33:23.002 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:33:23.002 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:33:23.023 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:33:23.039 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 01:33:23.042 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:33:23.063 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:33:23.093 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 01:33:23.114 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:33:23.122 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 01:33:23.122 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 01:33:23.130 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:23.131 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 127.4976ms
2025-02-25 01:33:23.135 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:33:23.136 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/22 application/json 8 - 200 - application/json;+charset=utf-8 141.8779ms
2025-02-25 01:33:23.147 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:33:23.153 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:33:23.155 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 149.4819ms
2025-02-25 01:33:23.157 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:33:23.158 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/22 application/json 103 - 200 - application/json;+charset=utf-8 163.4055ms
2025-02-25 01:33:25.922 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 01:33:25.924 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:25.925 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 2.7195ms
2025-02-25 01:33:25.927 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary1kOGaJKX6By41pRg 1244
2025-02-25 01:33:25.929 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:33:25.931 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 01:33:25.939 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 01:33:33.227 +01:00 [INF] Server token obtained: ya29.c.c0A...
2025-02-25 01:33:34.828 +01:00 [INF] Making request to: https://firebaseappcheck.googleapis.com/v1beta/projects/661441202308/apps/1:661441202308:web:b26d1309367d3083839ad1:exchangeAppCheckToken
2025-02-25 01:33:36.727 +01:00 [INF] Request body: {"app_check_token":"eyJraWQiOiJqN09vemciLCJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIxOjY2MTQ0MTIwMjMwODp3ZWI6YjI2ZDEzMDkzNjdkMzA4MzgzOWFkMSIsImF1ZCI6WyJwcm9qZWN0c1wvNjYxNDQxMjAyMzA4IiwicHJvamVjdHNcL2p1cm1hcHMiXSwicHJvdmlkZXIiOiJyZWNhcHRjaGFfdjMiLCJpc3MiOiJodHRwczpcL1wvZmlyZWJhc2VhcHBjaGVjay5nb29nbGVhcGlzLmNvbVwvNjYxNDQxMjAyMzA4IiwiZXhwIjoxNzQwNTI4MzU2LCJpYXQiOjE3NDA0NDE5NTYsImp0aSI6ImFuQTFULURPMTR0QU51TUlhbG9BV2J4aGZUaDdiY2l1VkpJYzVVWHNhanMifQ.K-St3D__pMpxWJRmXdIYvuays5h-Etqrvz-Dkh6Yl8HemmegE1sdqMIINRpw9FstkuxsT0y7-PsHhPchOmKpWNsqv2OXIaWfCC1HW0bgvyDoc0XWUE050tsCWCl9zL8jYVaYULTOhDioFZp85G0xxnS2mUt7VJjk69ool1-ijOR-C4et1CtccGnWcIMBlCDe37kORzs-OrWT4Z3pXjDKQJjDLprbaR_qHZ52Bc-j4gv1Tbk4fl5cKD7u41N-fEhyuHwFB1oidQF3yPosV05vfwGYfKupvEn1pqUBVfXiB6z-k1eRN-bIKDcRSQa6b9WKHOkAVa823LWbsb3gWp8PL0a_MbfkoPfE_mKsRZoKLEdMzDaJGJKGWbkOWAlXPu_egrdKafzpnmn1VFCijV2pWxNGpjmidrH0XHiekIICCeJVYujnB2lniycKFJR8TopjuxAp3tfZKe_gyMm_hPJl4-86ecWiIA6928tDcxiJpoErXC6YQSkDKzGVZhsZLmR7"}
2025-02-25 01:33:45.126 +01:00 [INF] Request header: Authorization: Bearer ya29.c.c0ASRK0Gb8njPDseZp1RWAo9gTx6bahmcmf5JfcWyWHWwTvhyAFDs0e2tDqdQROhANVnneJsNDMQygBkLoAeMoyuY4ggnJpQqHZryQnEXoi5oNQQUXcaiY4fxuECuQZtx9K4pkv1HQMzVBFvAJ2Fl7Rwl3JjXxzX_d-ZSu5WHw9n7nQs8pjFRTzxZlEU8u5WqJ5m8YZSUIR6gzrvtD3GxYYL0N7n7HklHT6Jy9ISUYquM41-hrnjZ1MOpTJwpu1kvlgLaFeVSnmvjiCNpV2CG4XndFWcYZWmSPYrWKruxbE9lwaCdyIPyycxpNs3xdeb8guZ1i3VdrUH_O19UG8A00xWuN5YqXdc_5w3x6npEL2blW3oX2_LNQ9RZRTuUH388CredVq0U4Sc3j-hflj57lqi4c2YxqrFkkSnIr_jQUUMglW45vzjMihhVhJQS8bSo3JBYQjsZMyFmZ-aFcscJeawXkqbj5o8UM2_iJSv0XcOSot515btUmxswWWwV665pIOa541YYUz4Z3rVuSqlaxfnSxtJuwqoas1XlmazlsWz9zk2t-pef0JJabF5uhir8SuyOBqOr8wOu4uo7bMRQ2vBUdco2g7UXUaS7lYzbwuXr8zxX6RFJl4Xihgse2cdMOIIJSdbJV1Q0msngn-ctoaI-wixa5J2-S_m8RehfzOY3tzB7p4ppgs_McaBkcxrVFiXcZXBU4St1vWO6FQFniOWhtUkcWdpQpsJX6blV7zbUSrImvnykZZf1FWXlor9ke8dxr1fVZWMeF7r_J6Q-lmYx6ylmfuihVVuaq54da90qwpF1Rc42X6SUVsJsZ5O40tRQcu7lszknat2ft_bOenW-338MU_434aupm0d-s1mgXS4bVZMr1wY2mr8og3ZeJqIRkYmhWdhIgSJWSlv9aQynOg5vFkoSjvQ6I_4cdfBvsZY_b5ZdnJ5rjqg3toqw9aaIQ6on6SebOj8ixQxviZpsuZhd0mY_1azxbirS5dzZr_Vqivwlsvwb
2025-02-25 01:33:47.722 +01:00 [INF] Response status: NotFound
2025-02-25 01:33:48.523 +01:00 [INF] Response body: <!DOCTYPE html>
<html lang=en>
  <meta charset=utf-8>
  <meta name=viewport content="initial-scale=1, minimum-scale=1, width=device-width">
  <title>Error 404 (Not Found)!!1</title>
  <style>
    *{margin:0;padding:0}html,code{font:15px/22px arial,sans-serif}html{background:#fff;color:#222;padding:15px}body{margin:7% auto 0;max-width:390px;min-height:180px;padding:30px 0 15px}* > body{background:url(//www.google.com/images/errors/robot.png) 100% 5px no-repeat;padding-right:205px}p{margin:11px 0 22px;overflow:hidden}ins{color:#777;text-decoration:none}a img{border:0}@media screen and (max-width:772px){body{background:none;margin-top:0;max-width:none;padding-right:0}}#logo{background:url(//www.google.com/images/branding/googlelogo/1x/googlelogo_color_150x54dp.png) no-repeat;margin-left:-5px}@media only screen and (min-resolution:192dpi){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat 0% 0%/100% 100%;-moz-border-image:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) 0}}@media only screen and (-webkit-min-device-pixel-ratio:2){#logo{background:url(//www.google.com/images/branding/googlelogo/2x/googlelogo_color_150x54dp.png) no-repeat;-webkit-background-size:100% 100%}}#logo{display:inline-block;height:54px;width:150px}
  </style>
  <a href=//www.google.com/><span id=logo aria-label=Google></span></a>
  <p><b>404.</b> <ins>That’s an error.</ins>
  <p>The requested URL <code>/v1beta/projects/661441202308/apps/1:661441202308:web:b26d1309367d3083839ad1:exchangeAppCheckToken</code> was not found on this server.  <ins>That’s all we know.</ins>

2025-02-25 01:35:13.699 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:35:13.860 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:35:13.861 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:35:13.863 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:35:13.864 +01:00 [INF] Hosting environment: Development
2025-02-25 01:35:13.864 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:35:14.542 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:35:18.696 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:35:18.798 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:35:18.805 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4264.8642ms
2025-02-25 01:35:18.870 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:35:19.009 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 138.8558ms
2025-02-25 01:35:21.863 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:35:26.568 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:35:26.570 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 4706.7438ms
2025-02-25 01:35:26.581 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:35:27.350 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:35:27.351 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:35:27.350 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:35:27.351 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:35:27.351 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:35:27.351 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:35:27.355 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:35:27.362 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:35:27.370 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:27.370 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:27.370 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:27.370 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:27.370 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:27.370 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:27.370 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:27.371 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:27.374 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 22.8985ms
2025-02-25 01:35:27.374 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 23.1848ms
2025-02-25 01:35:27.374 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 22.8703ms
2025-02-25 01:35:27.374 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 23.0656ms
2025-02-25 01:35:27.375 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 24.3944ms
2025-02-25 01:35:27.376 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 25.4101ms
2025-02-25 01:35:27.376 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 21.0738ms
2025-02-25 01:35:27.377 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 15.4731ms
2025-02-25 01:35:27.388 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:35:27.389 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:35:27.397 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:27.397 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:27.466 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:27'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:35:27.466 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:27'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:35:27.495 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:27'.
2025-02-25 01:35:27.498 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:27'.
2025-02-25 01:35:27.500 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:35:27.500 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:35:27.532 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:35:27.532 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:35:35.947 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:35:36.002 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:35:36.003 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:36.004 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8464.6915ms
2025-02-25 01:35:36.006 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:35:36.007 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:35:36.012 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:36'.
2025-02-25 01:35:36.014 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:35:36.014 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8624.3927ms
2025-02-25 01:35:36.015 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:35:36.030 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:35:36.032 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.4632ms
2025-02-25 01:35:36.033 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:35:36.033 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:35:36.034 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:36.035 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 32.7965ms
2025-02-25 01:35:36.037 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:35:36.050 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:36'.
2025-02-25 01:35:36.054 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:35:36.055 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:35:36.063 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:35:36.065 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.5104ms
2025-02-25 01:35:36.067 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:35:36.067 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:35:36.069 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:36.070 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 36.5897ms
2025-02-25 01:35:36.071 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:35:36.079 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:36'.
2025-02-25 01:35:36.080 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:35:36.081 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:35:36.086 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:35:36.088 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.6074ms
2025-02-25 01:35:36.090 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:35:36.091 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 24.4016ms
2025-02-25 01:35:37.481 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:35:37.553 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:35:37.556 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10021.334ms
2025-02-25 01:35:37.556 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:35:37.557 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:35:37.558 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:37.560 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:35:37.567 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10178.4213ms
2025-02-25 01:35:37.570 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:37'.
2025-02-25 01:35:37.573 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:35:37.575 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:35:37.596 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:35:37.602 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:35:37.603 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 26.7135ms
2025-02-25 01:35:37.605 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:35:37.605 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:35:37.606 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 49.3021ms
2025-02-25 01:35:37.606 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:37.608 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:35:37.614 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:37'.
2025-02-25 01:35:37.615 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:35:37.616 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:35:37.669 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:35:37.676 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:35:37.677 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 59.6426ms
2025-02-25 01:35:37.678 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:35:37.678 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:35:37.679 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:35:37.679 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 74.8010ms
2025-02-25 01:35:37.681 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:35:37.688 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:35:37'.
2025-02-25 01:35:37.689 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:35:37.690 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:35:37.696 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:35:37.702 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:35:37.703 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.0108ms
2025-02-25 01:35:37.705 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:35:37.706 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 27.4130ms
2025-02-25 01:36:17.182 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:36:17.183 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:17.184 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.0467ms
2025-02-25 01:36:17.186 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:36:17.188 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:17.190 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:36:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:36:17.201 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:36:17'.
2025-02-25 01:36:17.204 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:36:17.208 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:36:17.219 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:36:17.361 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:36:17.386 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:36:17.388 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 178.1111ms
2025-02-25 01:36:17.391 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:36:17.393 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 207.2378ms
2025-02-25 01:36:20.255 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/23 - -
2025-02-25 01:36:20.257 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/23 - -
2025-02-25 01:36:20.258 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/23 - -
2025-02-25 01:36:20.258 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/23 - -
2025-02-25 01:36:20.268 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:20.269 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:20.270 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:20.271 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:20.273 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/23 - - - 204 - - 15.3619ms
2025-02-25 01:36:20.274 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/23 application/json -
2025-02-25 01:36:20.277 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/23 application/json -
2025-02-25 01:36:20.273 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/23 - - - 204 - - 15.3032ms
2025-02-25 01:36:20.272 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/23 - - - 204 - - 16.6054ms
2025-02-25 01:36:20.274 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/23 - - - 204 - - 16.2706ms
2025-02-25 01:36:20.303 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:20.305 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:20.310 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:36:20.312 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:36:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:36:20.316 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:36:20.322 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:36:20'.
2025-02-25 01:36:20.325 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:36:20.330 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:36:20.450 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:36:20.465 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:36:20.489 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 165.6084ms
2025-02-25 01:36:20.491 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:36:20.491 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/23 application/json -
2025-02-25 01:36:20.492 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/23 application/json - - 200 - application/json;+charset=utf-8 217.5968ms
2025-02-25 01:36:20.493 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:20.495 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:36:20.496 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:36:20.503 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:36:20.509 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:36:20.510 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:36:20.511 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 12.6518ms
2025-02-25 01:36:20.514 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:36:20.514 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:36:20.515 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/23 application/json - - 200 - application/json;+charset=utf-8 24.1919ms
2025-02-25 01:36:20.517 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 183.2858ms
2025-02-25 01:36:20.518 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/23 application/json -
2025-02-25 01:36:20.522 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:36:20.523 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:20.524 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/23 application/json - - 200 - application/json;+charset=utf-8 247.3738ms
2025-02-25 01:36:20.526 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:36:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:36:20.537 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:36:20'.
2025-02-25 01:36:20.538 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:36:20.539 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:36:20.551 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:36:20.554 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:36:20.557 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 15.4706ms
2025-02-25 01:36:20.558 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:36:20.560 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/23 application/json - - 200 - application/json;+charset=utf-8 41.4250ms
2025-02-25 01:36:24.012 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/23 - -
2025-02-25 01:36:24.012 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/23 - -
2025-02-25 01:36:24.013 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:24.014 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:24.015 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/23 - - - 204 - - 3.2393ms
2025-02-25 01:36:24.016 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/23 - - - 204 - - 3.8412ms
2025-02-25 01:36:24.017 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/23 application/json -
2025-02-25 01:36:24.019 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:24.021 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:36:24.025 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:36:24.036 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:36:24.042 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:36:24.060 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:36:24.068 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 39.9905ms
2025-02-25 01:36:24.071 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/23 application/json -
2025-02-25 01:36:24.071 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:36:24.072 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:24.073 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/23 application/json - - 200 - application/json;+charset=utf-8 55.8467ms
2025-02-25 01:36:24.074 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:36:24.078 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:36:24.086 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:36:24.092 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:36:24.101 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:36:24.104 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 24.3128ms
2025-02-25 01:36:24.106 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:36:24.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/23 application/json - - 200 - application/json;+charset=utf-8 36.9263ms
2025-02-25 01:36:45.300 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryPAQD3op2J7FCIJyg 350
2025-02-25 01:36:45.301 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:36:45.302 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-25 01:36:45.307 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:36:45.331 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-25 01:36:45.358 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 48.9969ms
2025-02-25 01:36:45.359 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-25 01:36:45.360 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryPAQD3op2J7FCIJyg 350 - 400 - application/problem+json;+charset=utf-8 60.4379ms
2025-02-25 01:40:32.240 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:40:32.402 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:40:32.403 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:40:32.405 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:40:32.406 +01:00 [INF] Hosting environment: Development
2025-02-25 01:40:32.407 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:40:33.191 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:40:37.355 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:40:37.472 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:40:37.480 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4291.4357ms
2025-02-25 01:40:37.557 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:40:37.720 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 162.7572ms
2025-02-25 01:40:40.550 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:40:46.191 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:40:46.193 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 5642.3456ms
2025-02-25 01:40:46.204 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:40:47.466 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:40:47.466 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:40:47.466 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:40:47.466 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:40:47.466 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:40:47.466 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:40:47.741 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:47.741 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:47.741 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:47.819 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 352.9909ms
2025-02-25 01:40:47.819 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 353.6988ms
2025-02-25 01:40:47.741 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:47.741 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:47.819 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:47.574 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:40:47.725 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:40:47.824 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:40:47.824 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:40:47.824 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 358.5403ms
2025-02-25 01:40:47.836 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 370.0006ms
2025-02-25 01:40:47.837 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 370.8562ms
2025-02-25 01:40:47.838 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 371.6779ms
2025-02-25 01:40:47.839 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:47.840 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:47.841 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:47.842 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:47.850 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 275.6413ms
2025-02-25 01:40:47.851 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 125.0853ms
2025-02-25 01:40:48.064 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:40:48.064 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:40:48.111 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:48'.
2025-02-25 01:40:48.114 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:48'.
2025-02-25 01:40:48.118 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:40:48.120 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:40:48.159 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:40:48.159 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:40:57.056 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:40:57.120 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:40:57.121 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:57.122 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8957.1642ms
2025-02-25 01:40:57.125 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:57'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:40:57.126 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:40:57.131 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:57'.
2025-02-25 01:40:57.133 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:40:57.133 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9309.2640ms
2025-02-25 01:40:57.134 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:40:57.149 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:40:57.152 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.9686ms
2025-02-25 01:40:57.153 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:40:57.153 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:40:57.154 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:57.155 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 35.2745ms
2025-02-25 01:40:57.156 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:57'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:40:57.170 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:57'.
2025-02-25 01:40:57.172 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:40:57.175 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:40:57.183 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:40:57.185 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.249ms
2025-02-25 01:40:57.187 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:40:57.187 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:40:57.189 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:57.190 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 37.2841ms
2025-02-25 01:40:57.192 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:57'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:40:57.198 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:57'.
2025-02-25 01:40:57.199 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:40:57.200 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:40:57.205 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:40:57.206 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.2929ms
2025-02-25 01:40:57.208 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:40:57.208 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 21.2381ms
2025-02-25 01:40:58.307 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:40:58.308 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:58.309 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.0741ms
2025-02-25 01:40:58.311 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:40:58.313 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:58.315 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:40:58.322 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:58'.
2025-02-25 01:40:58.323 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:40:58.328 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:40:58.560 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:40:58.560 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:40:58.660 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:40:58.664 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10497.6679ms
2025-02-25 01:40:58.664 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:40:58.666 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:40:58.667 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:58.670 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:40:58.676 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10852.8672ms
2025-02-25 01:40:58.684 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:58'.
2025-02-25 01:40:58.690 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:40:58.691 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:40:58.760 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:40:58.766 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:40:58.768 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 74.5869ms
2025-02-25 01:40:58.770 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:40:58.770 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:40:58.771 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:58.772 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 107.5165ms
2025-02-25 01:40:58.773 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:40:58.779 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:58'.
2025-02-25 01:40:58.782 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:40:58.783 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:40:58.786 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:40:58.790 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:40:58.798 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:40:58.799 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.2387ms
2025-02-25 01:40:58.801 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:40:58.801 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:40:58.802 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 31.9455ms
2025-02-25 01:40:58.802 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:40:58.805 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:40:58.810 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:40:58.810 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:40:58'.
2025-02-25 01:40:58.812 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 479.3931ms
2025-02-25 01:40:58.814 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:40:58.815 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:40:58.815 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:40:58.816 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 505.5218ms
2025-02-25 01:40:58.822 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:40:58.828 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:40:58.829 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.4693ms
2025-02-25 01:40:58.830 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:40:58.831 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 30.5532ms
2025-02-25 01:41:02.374 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/24 - -
2025-02-25 01:41:02.374 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/24 - -
2025-02-25 01:41:02.375 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/24 - -
2025-02-25 01:41:02.375 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/24 - -
2025-02-25 01:41:02.376 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:02.376 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:02.378 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:02.379 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:02.380 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/24 - - - 204 - - 5.3200ms
2025-02-25 01:41:02.381 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/24 - - - 204 - - 6.2562ms
2025-02-25 01:41:02.382 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/24 - - - 204 - - 7.3049ms
2025-02-25 01:41:02.383 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/24 - - - 204 - - 8.3059ms
2025-02-25 01:41:02.392 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/24 application/json -
2025-02-25 01:41:02.398 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:02.398 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:41:02.397 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/24 application/json -
2025-02-25 01:41:02.404 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:41:02.411 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:02.442 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:41:02'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:41:02.557 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:41:02'.
2025-02-25 01:41:02.559 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:41:02.566 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:41:02.611 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:41:02.620 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:41:02.645 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:41:02.646 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 232.579ms
2025-02-25 01:41:02.650 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:41:02.653 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:41:02.659 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/24 application/json -
2025-02-25 01:41:02.659 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 89.0979ms
2025-02-25 01:41:02.655 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/24 application/json - - 200 - application/json;+charset=utf-8 262.2534ms
2025-02-25 01:41:02.664 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:41:02.662 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:02.666 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/24 application/json -
2025-02-25 01:41:02.670 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/24 application/json - - 200 - application/json;+charset=utf-8 273.1234ms
2025-02-25 01:41:02.671 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:41:02.673 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:02.676 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:41:02.678 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:41:02'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:41:02.691 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:41:02.693 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:41:02'.
2025-02-25 01:41:02.702 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:41:02.703 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:41:02.705 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 24.2322ms
2025-02-25 01:41:02.707 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:41:02.709 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:41:02.717 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/24 application/json - - 200 - application/json;+charset=utf-8 57.8209ms
2025-02-25 01:41:02.719 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:41:02.733 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:41:02.738 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 25.7389ms
2025-02-25 01:41:02.739 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:41:02.745 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/24 application/json - - 200 - application/json;+charset=utf-8 79.0467ms
2025-02-25 01:41:04.639 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/24 - -
2025-02-25 01:41:04.639 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/24 - -
2025-02-25 01:41:04.640 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:04.641 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:04.642 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/24 - - - 204 - - 3.3639ms
2025-02-25 01:41:04.642 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/24 - - - 204 - - 2.6510ms
2025-02-25 01:41:04.644 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/24 application/json -
2025-02-25 01:41:04.646 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:04.647 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:41:04.653 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:41:04.666 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:41:04.682 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:41:04.698 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:41:04.705 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 49.3836ms
2025-02-25 01:41:04.706 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:41:04.707 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/24 application/json -
2025-02-25 01:41:04.708 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/24 application/json - - 200 - application/json;+charset=utf-8 63.5581ms
2025-02-25 01:41:04.709 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:04.710 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:41:04.711 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:41:04.720 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:41:04.740 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:41:04.757 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:41:04.763 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 49.4321ms
2025-02-25 01:41:04.775 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:41:04.787 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/24 application/json - - 200 - application/json;+charset=utf-8 80.7324ms
2025-02-25 01:41:53.485 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryDZ2Sr0QAn2gqlbZ3 252
2025-02-25 01:41:53.487 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:53.488 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-25 01:41:53.492 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:41:53.523 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:41:53.557 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tagName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
WHERE t."TagName" = @__tagName_0
LIMIT 1
2025-02-25 01:41:53.611 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("TagName", "TagQuantity")
VALUES (@p0, @p1)
RETURNING "TagId";
2025-02-25 01:41:53.619 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapTag" ("MapTagsTagId", "MapsWithThisTagMapId")
VALUES (@p2, @p3);
2025-02-25 01:41:53.633 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:41:53.792 +01:00 [ERR] Błąd w MapController.SaveMap
System.ArgumentException: Plik jest pusty lub nie został przesłany.
   at FirebaseStorageService.UploadFileAsync(IFormFile file) in E:\jurmaps2\Services\FirebaseStorageService.cs:line 72
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 266
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-25 01:41:53.801 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:41:53.803 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 309.4612ms
2025-02-25 01:41:53.804 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-25 01:41:53.806 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryDZ2Sr0QAn2gqlbZ3 252 - 200 - application/json;+charset=utf-8 320.1599ms
2025-02-25 01:41:54.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:41:54.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:41:54.762 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:41:54.763 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:54.765 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:54.766 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:54.767 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:41:54.768 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:41:54.769 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:41:54.773 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:41:54.775 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:41:54.775 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:41:54.795 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:41:54.798 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:41:54.802 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:41:54.806 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:41:54.807 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 29.6061ms
2025-02-25 01:41:54.809 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:41:54.809 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 33.6115ms
2025-02-25 01:41:54.810 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:41:54.810 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:41:54.811 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:54.812 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:41:54.813 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 50.4854ms
2025-02-25 01:41:54.816 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:54.819 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:41:54.820 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 57.8695ms
2025-02-25 01:41:54.821 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 01:41:54.822 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:41:54.823 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:41:54.825 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 01:41:54.825 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:41:54.831 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:41:54.835 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:41:54.837 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:41:54.839 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:41:54.839 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:41:54.842 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 14.8485ms
2025-02-25 01:41:54.843 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 13.6142ms
2025-02-25 01:41:54.847 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:41:54.851 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:41:54.852 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 43.1693ms
2025-02-25 01:41:54.853 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 42.6402ms
2025-02-25 01:41:54.864 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:41:54.873 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 93.8394ms
2025-02-25 01:41:54.873 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:41:54.874 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:41:54.875 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:41:54.876 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 113.6511ms
2025-02-25 01:41:54.876 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:41:54.879 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:41:54.890 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:41:54.912 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:41:54.919 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 36.3464ms
2025-02-25 01:41:54.921 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:41:54.922 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 48.6565ms
2025-02-25 01:42:04.590 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:42:04.591 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:42:04.593 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:42:04.593 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:42:04.592 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:42:04.611 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:42:04.612 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.600 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.609 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.618 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:42:04.619 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 26.5829ms
2025-02-25 01:42:04.625 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:42:04.593 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.600 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:42:04.594 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:42:04.629 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:42:04.627 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:42:04.630 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 39.2711ms
2025-02-25 01:42:04.631 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.642 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:42:04.645 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:42:04.643 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 43.1665ms
2025-02-25 01:42:04.632 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.592 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.593 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:42:04.600 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:42:04.606 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:42:04.616 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.625 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:42:04.631 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:42:04.648 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.654 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 59.9035ms
2025-02-25 01:42:04.660 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 24.5512ms
2025-02-25 01:42:04.654 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 64.2963ms
2025-02-25 01:42:04.655 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.657 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.657 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.658 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 46.7850ms
2025-02-25 01:42:04.658 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.659 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.663 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:42:04.668 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.662 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:42:04.672 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 78.8187ms
2025-02-25 01:42:04.674 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.674 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 35.6843ms
2025-02-25 01:42:04.666 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:42:04.667 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 67.1255ms
2025-02-25 01:42:04.668 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 62.1987ms
2025-02-25 01:42:04.670 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:42:04.671 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:42:04.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:42:04.676 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:42:04.677 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:42:04.678 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:42:04.687 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
2025-02-25 01:42:04.693 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
2025-02-25 01:42:04.694 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.694 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:42:04.703 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:42:04.704 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:42:04.709 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.711 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:42:04.714 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 15.4851ms
2025-02-25 01:42:04.713 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:42:04.715 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:42:04.696 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 104.2394ms
2025-02-25 01:42:04.700 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:42:04.702 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:42:04.718 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:42:04.717 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.721 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.724 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:42:04.723 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:42:04.724 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:42:04.727 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 134.6606ms
2025-02-25 01:42:04.729 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 22.6945ms
2025-02-25 01:42:04.744 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:42:04.746 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:42:04.730 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:42:04.740 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.750 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 88.0998ms
2025-02-25 01:42:04.752 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.751 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:42:04.756 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 15.8091ms
2025-02-25 01:42:04.754 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:42:04.751 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.762 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:42:04.764 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:42:04.762 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.757 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:42:04.767 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 136.4852ms
2025-02-25 01:42:04.771 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.766 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 46.2149ms
2025-02-25 01:42:04.753 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.5942ms
2025-02-25 01:42:04.772 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:42:04.776 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.781 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 20.6362ms
2025-02-25 01:42:04.802 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
2025-02-25 01:42:04.783 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:42:04.784 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:42:04.804 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:42:04.807 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:42:04.809 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:42:04.811 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 136.4012ms
2025-02-25 01:42:04.812 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 187.2842ms
2025-02-25 01:42:04.827 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
2025-02-25 01:42:04.829 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 113.6185ms
2025-02-25 01:42:04.830 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:42:04.836 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:42:04.841 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:42:04.843 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.845 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.2474ms
2025-02-25 01:42:04.846 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:42:04.846 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:42:04.852 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:42:04.848 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 93.9515ms
2025-02-25 01:42:04.853 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.860 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:42:04.862 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.875 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
2025-02-25 01:42:04.877 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 33.9992ms
2025-02-25 01:42:04.879 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:42:04.880 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:42:04.881 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:42:04.881 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.884 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:42:04.886 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 128.5254ms
2025-02-25 01:42:04.887 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:42:04.891 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.899 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
2025-02-25 01:42:04.900 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 11.5357ms
2025-02-25 01:42:04.902 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:42:04.902 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:42:04.903 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:42:04.904 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.905 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:42:04.906 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 60.3977ms
2025-02-25 01:42:04.908 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:42:04.913 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:42:04.920 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
2025-02-25 01:42:04.924 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:42:04.924 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:42:04.925 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.928 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 18.3474ms
2025-02-25 01:42:04.929 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:42:04.930 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.931 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:42:04.931 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:42:04.933 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.0099ms
2025-02-25 01:42:04.933 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 54.7514ms
2025-02-25 01:42:04.935 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:42:04.935 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:42:04.942 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:42:04'.
2025-02-25 01:42:04.943 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 41.2674ms
2025-02-25 01:42:04.944 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:42:04.947 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:42:04.953 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:42:04.959 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:42:04.961 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.9211ms
2025-02-25 01:42:04.962 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:42:04.963 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 33.6435ms
2025-02-25 01:44:56.036 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:44:56.038 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:56.039 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.8959ms
2025-02-25 01:44:56.040 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:44:56.042 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:56.044 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:44:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:44:56.054 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:44:56'.
2025-02-25 01:44:56.056 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:44:56.057 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:44:56.066 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:44:56.076 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:44:56.080 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:44:56.081 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 22.3137ms
2025-02-25 01:44:56.084 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:44:56.085 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 44.7817ms
2025-02-25 01:44:56.626 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/25 - -
2025-02-25 01:44:56.626 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/25 - -
2025-02-25 01:44:56.627 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/25 - -
2025-02-25 01:44:56.627 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/25 - -
2025-02-25 01:44:56.628 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:56.629 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:56.630 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:56.635 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/25 - - - 204 - - 7.9948ms
2025-02-25 01:44:56.632 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/25 - - - 204 - - 5.8731ms
2025-02-25 01:44:56.636 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/25 application/json -
2025-02-25 01:44:56.631 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:56.634 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/25 - - - 204 - - 7.6330ms
2025-02-25 01:44:56.636 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/25 application/json -
2025-02-25 01:44:56.645 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:56.646 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/25 - - - 204 - - 19.0801ms
2025-02-25 01:44:56.648 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:56.649 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:44:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:44:56.651 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:44:56.658 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:44:56'.
2025-02-25 01:44:56.659 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:44:56.661 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:44:56.664 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:44:56.667 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:44:56.674 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:44:56.679 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:44:56.683 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:44:56.696 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 33.9307ms
2025-02-25 01:44:56.698 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 31.3632ms
2025-02-25 01:44:56.705 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/25 application/json -
2025-02-25 01:44:56.704 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:44:56.703 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/25 application/json -
2025-02-25 01:44:56.711 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:44:56.712 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:56.713 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/25 application/json - - 200 - application/json;+charset=utf-8 77.0711ms
2025-02-25 01:44:56.717 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/25 application/json - - 200 - application/json;+charset=utf-8 81.2192ms
2025-02-25 01:44:56.715 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:56.719 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:44:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:44:56.723 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:44:56.735 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:44:56'.
2025-02-25 01:44:56.738 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:44:56.739 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:44:56.744 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:44:56.749 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:44:56.755 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:44:56.774 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:44:56.778 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:44:56.786 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 43.3029ms
2025-02-25 01:44:56.790 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 40.4132ms
2025-02-25 01:44:56.797 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:44:56.797 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:44:56.800 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/25 application/json - - 200 - application/json;+charset=utf-8 95.5336ms
2025-02-25 01:44:56.809 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/25 application/json - - 200 - application/json;+charset=utf-8 95.5601ms
2025-02-25 01:44:57.771 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/25 - -
2025-02-25 01:44:57.772 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/25 - -
2025-02-25 01:44:57.772 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:57.773 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:57.775 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/25 - - - 204 - - 3.4686ms
2025-02-25 01:44:57.774 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/25 - - - 204 - - 3.2224ms
2025-02-25 01:44:57.777 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/25 application/json -
2025-02-25 01:44:57.779 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:57.780 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:44:57.781 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:44:57.792 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:44:57.799 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:44:57.812 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:44:57.814 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 27.1622ms
2025-02-25 01:44:57.815 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/25 application/json -
2025-02-25 01:44:57.815 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:44:57.817 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:44:57.818 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/25 application/json - - 200 - application/json;+charset=utf-8 40.5926ms
2025-02-25 01:44:57.820 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:44:57.822 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:44:57.832 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:44:57.839 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:44:57.849 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:44:57.851 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 25.6792ms
2025-02-25 01:44:57.853 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:44:57.857 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/25 application/json - - 200 - application/json;+charset=utf-8 42.0892ms
2025-02-25 01:50:11.671 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:50:11.867 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:50:11.868 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:50:11.872 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:50:11.874 +01:00 [INF] Hosting environment: Development
2025-02-25 01:50:11.875 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:50:12.291 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:50:16.461 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:50:16.600 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:50:16.605 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4318.2057ms
2025-02-25 01:50:16.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:50:17.906 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 1230.1805ms
2025-02-25 01:50:19.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:50:29.687 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:50:29.688 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10012.8565ms
2025-02-25 01:50:32.719 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:50:33.566 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:50:33.566 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:50:33.568 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 848.5046ms
2025-02-25 01:50:34.346 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:50:34.346 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:50:34.346 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:50:34.346 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:50:34.381 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:34.381 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:34.381 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:34.392 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 46.1696ms
2025-02-25 01:50:34.392 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 45.5603ms
2025-02-25 01:50:34.399 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 53.4427ms
2025-02-25 01:50:34.390 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:34.346 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:50:34.346 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:50:34.348 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:50:34.354 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:50:34.397 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:50:34.402 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:50:34.406 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 59.8231ms
2025-02-25 01:50:34.409 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:34.409 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:34.409 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:34.409 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:34.411 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:34.412 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:34.413 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 65.8252ms
2025-02-25 01:50:34.414 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 67.7465ms
2025-02-25 01:50:34.415 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 69.0263ms
2025-02-25 01:50:34.416 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 62.1545ms
2025-02-25 01:50:34.560 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:50:34.560 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:50:34.594 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:34'.
2025-02-25 01:50:34.597 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:34'.
2025-02-25 01:50:34.600 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:50:34.600 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:50:34.629 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:50:34.629 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:50:37.249 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:50:37.252 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:37.253 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 3.9261ms
2025-02-25 01:50:37.256 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:50:37.259 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:37.267 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:50:37.276 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:37'.
2025-02-25 01:50:37.277 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:50:37.281 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:50:43.727 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:43.804 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:50:43.805 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:43.806 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9169.7085ms
2025-02-25 01:50:43.807 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:43'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:50:43.811 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:50:43.825 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:43'.
2025-02-25 01:50:43.830 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:50:43.830 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9432.9103ms
2025-02-25 01:50:43.833 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:50:43.852 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:43.856 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.9902ms
2025-02-25 01:50:43.858 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:50:43.859 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:50:43.860 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:43.861 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 57.6237ms
2025-02-25 01:50:43.864 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:43'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:50:43.880 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:43'.
2025-02-25 01:50:43.882 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:50:43.884 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:50:43.891 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:43.893 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.7576ms
2025-02-25 01:50:43.895 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:50:43.895 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:50:43.896 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 38.2878ms
2025-02-25 01:50:43.898 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:43.901 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:43'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:50:43.912 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:43'.
2025-02-25 01:50:43.913 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:50:43.914 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:50:43.920 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:43.924 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.3446ms
2025-02-25 01:50:43.925 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:50:43.927 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 31.9795ms
2025-02-25 01:50:45.611 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:50:45.611 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:50:45.702 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:45.705 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11074.2345ms
2025-02-25 01:50:45.706 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:50:45.707 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:50:45.707 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:45.710 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:50:45.716 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 11314.4449ms
2025-02-25 01:50:45.719 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:45'.
2025-02-25 01:50:45.722 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:50:45.726 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:50:45.799 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:50:45.807 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:45.809 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 80.3464ms
2025-02-25 01:50:45.810 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:50:45.810 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:50:45.811 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:45.812 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 106.1551ms
2025-02-25 01:50:45.813 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:50:45.822 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:45'.
2025-02-25 01:50:45.823 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:50:45.824 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:50:45.830 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:50:45.838 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:45.839 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.116ms
2025-02-25 01:50:45.841 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:50:45.841 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:50:45.842 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 31.9996ms
2025-02-25 01:50:45.844 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:45.846 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:50:45.846 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:50:45.857 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:45'.
2025-02-25 01:50:45.858 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:50:45.859 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:50:45.865 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:50:45.874 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:45.874 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:45.875 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.8222ms
2025-02-25 01:50:45.878 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 8594.369ms
2025-02-25 01:50:45.879 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:50:45.880 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:50:45.881 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 40.2611ms
2025-02-25 01:50:45.882 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 8626.4565ms
2025-02-25 01:50:49.160 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/26 - -
2025-02-25 01:50:49.160 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/26 - -
2025-02-25 01:50:49.193 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:49.175 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/26 - -
2025-02-25 01:50:49.192 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:49.172 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/26 - -
2025-02-25 01:50:49.211 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:49.212 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/26 - - - 204 - - 40.0140ms
2025-02-25 01:50:49.195 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/26 - - - 204 - - 34.6621ms
2025-02-25 01:50:49.196 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:49.197 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/26 - - - 204 - - 37.0362ms
2025-02-25 01:50:49.225 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/26 - - - 204 - - 49.6804ms
2025-02-25 01:50:49.294 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/26 application/json -
2025-02-25 01:50:49.321 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/26 application/json -
2025-02-25 01:50:49.424 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:49.426 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:49.426 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:50:49.428 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:50:49.433 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:50:49.478 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:49'.
2025-02-25 01:50:49.484 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:50:49.490 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:50:49.616 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:50:49.630 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:49.632 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 140.3211ms
2025-02-25 01:50:49.650 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/26 application/json -
2025-02-25 01:50:49.651 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:50:49.653 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:49.655 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/26 application/json - - 200 - application/json;+charset=utf-8 334.4934ms
2025-02-25 01:50:49.657 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:50:49.684 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:50:49'.
2025-02-25 01:50:49.690 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:50:49.692 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:50:49.711 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:50:49.753 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:49.754 +01:00 [INF] Executed DbCommand (143ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:50:49.755 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 54.3036ms
2025-02-25 01:50:49.767 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:50:49.768 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:49.769 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/26 application/json - - 200 - application/json;+charset=utf-8 119.3636ms
2025-02-25 01:50:49.794 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 312.0222ms
2025-02-25 01:50:49.796 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/26 application/json -
2025-02-25 01:50:49.796 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:50:49.797 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:49.799 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/26 application/json - - 200 - application/json;+charset=utf-8 504.2518ms
2025-02-25 01:50:49.801 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:50:49.806 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:50:49.829 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:50:49.833 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:50:49.838 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 26.1051ms
2025-02-25 01:50:49.840 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:50:49.842 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/26 application/json - - 200 - application/json;+charset=utf-8 45.8025ms
2025-02-25 01:50:53.684 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/26 - -
2025-02-25 01:50:53.685 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/26 - -
2025-02-25 01:50:53.685 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:53.686 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:53.687 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/26 - - - 204 - - 2.6665ms
2025-02-25 01:50:53.688 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/26 - - - 204 - - 3.1811ms
2025-02-25 01:50:53.689 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/26 application/json -
2025-02-25 01:50:53.692 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:53.692 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:50:53.697 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:50:53.708 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:50:53.713 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:50:53.726 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:50:53.732 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 33.8705ms
2025-02-25 01:50:53.734 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/26 application/json -
2025-02-25 01:50:53.734 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:50:53.736 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:50:53.738 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/26 application/json - - 200 - application/json;+charset=utf-8 48.7412ms
2025-02-25 01:50:53.739 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:50:53.742 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:50:53.757 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:50:53.764 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:50:53.772 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:50:53.775 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 25.2268ms
2025-02-25 01:50:53.776 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:50:53.778 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/26 application/json - - 200 - application/json;+charset=utf-8 43.9117ms
2025-02-25 01:51:04.990 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundarynr5LYvHjxE6O9j8j 246
2025-02-25 01:51:04.992 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:04.993 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-25 01:51:04.997 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:51:05.037 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:51:05.067 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tagName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
WHERE t."TagName" = @__tagName_0
LIMIT 1
2025-02-25 01:51:05.152 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("TagName", "TagQuantity")
VALUES (@p0, @p1)
RETURNING "TagId";
2025-02-25 01:51:05.183 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapTag" ("MapTagsTagId", "MapsWithThisTagMapId")
VALUES (@p2, @p3);
2025-02-25 01:51:05.220 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:51:05.389 +01:00 [ERR] Błąd w MapController.SaveMap
System.ArgumentException: Plik jest pusty lub nie został przesłany.
   at FirebaseStorageService.UploadFileAsync(IFormFile file) in E:\jurmaps2\Services\FirebaseStorageService.cs:line 72
   at JurMaps.Services.MapService.SaveMapAsync(MapDto mapDto, IFormFile imageFile) in E:\jurmaps2\Services\MapService.cs:line 266
   at JurMaps.Controllers.CreateMapController.SaveMap(String mapDto, IFormFile imageFile) in E:\jurmaps2\Controllers\CreateMapController.cs:line 142
2025-02-25 01:51:05.397 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:05.399 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 399.543ms
2025-02-25 01:51:05.400 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-25 01:51:05.403 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundarynr5LYvHjxE6O9j8j 246 - 200 - application/json;+charset=utf-8 413.0501ms
2025-02-25 01:51:06.367 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:51:06.367 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:51:06.371 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:06.372 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:51:06.373 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:06.374 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:51:06.370 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:06.378 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:51:06.372 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:51:06.380 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:51:06.383 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:51:06.385 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:51:06.416 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:51:06.420 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:51:06.422 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:06.424 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:06.426 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 39.5411ms
2025-02-25 01:51:06.427 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 38.4231ms
2025-02-25 01:51:06.428 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:51:06.429 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 61.4826ms
2025-02-25 01:51:06.427 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:51:06.434 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 62.3232ms
2025-02-25 01:51:06.458 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 01:51:06.460 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:51:06.460 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:51:06.462 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 01:51:06.465 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:06.465 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:06.467 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:51:06.468 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:51:06.467 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:51:06.473 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:51:06.474 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:51:06.479 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:51:06.490 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:06.492 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 20.7028ms
2025-02-25 01:51:06.494 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:51:06.497 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 37.3747ms
2025-02-25 01:51:06.512 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:06.530 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:51:06.531 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 139.4096ms
2025-02-25 01:51:06.532 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:06.533 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:51:06.534 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:51:06.536 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 168.4211ms
2025-02-25 01:51:06.537 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:51:06.558 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:51:06.561 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:51:06.573 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:06.580 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 103.7035ms
2025-02-25 01:51:06.583 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:51:06.588 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:06.590 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 130.0106ms
2025-02-25 01:51:06.599 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 53.65ms
2025-02-25 01:51:06.607 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:51:06.609 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 79.1323ms
2025-02-25 01:51:45.005 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:51:45.006 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:45.007 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.5015ms
2025-02-25 01:51:45.009 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:51:45.010 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:45.011 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:51:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:51:45.019 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:51:45'.
2025-02-25 01:51:45.020 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:51:45.022 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:51:45.029 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:51:45.036 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:51:45.039 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:45.042 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 18.2905ms
2025-02-25 01:51:45.043 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:51:45.043 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 34.6588ms
2025-02-25 01:51:45.161 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/27 - -
2025-02-25 01:51:45.161 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/27 - -
2025-02-25 01:51:45.161 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/27 - -
2025-02-25 01:51:45.162 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/27 - -
2025-02-25 01:51:45.168 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:45.170 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:45.171 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:45.174 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/27 - - - 204 - - 13.3531ms
2025-02-25 01:51:45.182 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/27 - - - 204 - - 21.2255ms
2025-02-25 01:51:45.175 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/27 application/json -
2025-02-25 01:51:45.173 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/27 - - - 204 - - 12.1882ms
2025-02-25 01:51:45.173 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:45.176 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/27 application/json -
2025-02-25 01:51:45.196 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:45.199 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/27 - - - 204 - - 36.9718ms
2025-02-25 01:51:45.200 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:45.202 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:51:45.204 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:51:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:51:45.205 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:51:45.216 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:51:45'.
2025-02-25 01:51:45.220 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:51:45.222 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:51:45.236 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:51:45.236 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:51:45.243 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:45.248 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:45.251 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 22.2676ms
2025-02-25 01:51:45.253 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/27 application/json -
2025-02-25 01:51:45.253 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 34.4698ms
2025-02-25 01:51:45.254 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:51:45.255 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/27 application/json -
2025-02-25 01:51:45.258 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:45.260 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:51:45.264 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:45.263 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/27 application/json - - 200 - application/json;+charset=utf-8 86.5402ms
2025-02-25 01:51:45.266 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:51:45'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:51:45.267 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/27 application/json - - 200 - application/json;+charset=utf-8 92.2926ms
2025-02-25 01:51:45.269 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:51:45.291 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:51:45'.
2025-02-25 01:51:45.295 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:51:45.297 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:51:45.318 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:51:45.314 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:51:45.340 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:45.340 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:51:45.343 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 37.1978ms
2025-02-25 01:51:45.358 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:51:45.359 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:51:45.362 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 33.5912ms
2025-02-25 01:51:45.363 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/27 application/json - - 200 - application/json;+charset=utf-8 108.2087ms
2025-02-25 01:51:45.369 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:51:45.373 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/27 application/json - - 200 - application/json;+charset=utf-8 120.6205ms
2025-02-25 01:51:46.498 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/27 - -
2025-02-25 01:51:46.498 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/27 - -
2025-02-25 01:51:46.499 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:46.500 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:46.501 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/27 - - - 204 - - 2.9023ms
2025-02-25 01:51:46.502 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/27 - - - 204 - - 3.6505ms
2025-02-25 01:51:46.503 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/27 application/json -
2025-02-25 01:51:46.505 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:46.507 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:51:46.508 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:51:46.517 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:51:46.523 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:51:46.531 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:51:46.532 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 21.4002ms
2025-02-25 01:51:46.534 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/27 application/json -
2025-02-25 01:51:46.534 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:51:46.535 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:46.536 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/27 application/json - - 200 - application/json;+charset=utf-8 32.7242ms
2025-02-25 01:51:46.536 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:51:46.538 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:51:46.548 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:51:46.554 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:51:46.560 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:51:46.562 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 19.7219ms
2025-02-25 01:51:46.563 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:51:46.564 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/27 application/json - - 200 - application/json;+charset=utf-8 30.5252ms
2025-02-25 01:51:52.507 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryU8HkAPOGzdY3ejkQ 253
2025-02-25 01:51:52.508 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:51:52.509 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-25 01:51:52.510 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:52:03.647 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:52:16.890 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__tagName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
WHERE t."TagName" = @__tagName_0
LIMIT 1
2025-02-25 01:52:23.232 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("TagName", "TagQuantity")
VALUES (@p0, @p1)
RETURNING "TagId";
2025-02-25 01:52:23.249 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapTag" ("MapTagsTagId", "MapsWithThisTagMapId")
VALUES (@p2, @p3);
2025-02-25 01:52:37.326 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:54:00.737 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 01:54:00.904 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 01:54:00.906 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 01:54:00.908 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 01:54:00.908 +01:00 [INF] Hosting environment: Development
2025-02-25 01:54:00.909 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 01:54:01.553 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:54:05.727 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 01:54:05.844 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 01:54:05.853 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4303.5451ms
2025-02-25 01:54:05.933 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 01:54:06.090 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 156.6362ms
2025-02-25 01:54:08.920 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 01:54:15.574 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 01:54:15.578 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 6657.7647ms
2025-02-25 01:54:15.586 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 01:54:16.598 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:54:16.601 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:54:16.598 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:54:16.602 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:54:16.601 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:54:16.601 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:54:16.604 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:54:16.613 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:54:16.619 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:16.619 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:16.619 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:16.619 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:16.619 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:16.619 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:16.620 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:16.621 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:16.625 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 26.6834ms
2025-02-25 01:54:16.625 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 23.3802ms
2025-02-25 01:54:16.625 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 24.6074ms
2025-02-25 01:54:16.625 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 25.2407ms
2025-02-25 01:54:16.627 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 25.0016ms
2025-02-25 01:54:16.628 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 29.8104ms
2025-02-25 01:54:16.630 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 25.7486ms
2025-02-25 01:54:16.631 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 17.4213ms
2025-02-25 01:54:16.642 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:54:16.643 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:54:16.654 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:16.654 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:16.723 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:54:16.723 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:54:16.757 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:16'.
2025-02-25 01:54:16.764 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:16'.
2025-02-25 01:54:16.767 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:54:16.767 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:54:16.814 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:54:16.814 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:54:25.389 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:25.461 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:54:25.463 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:25.464 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8643.0671ms
2025-02-25 01:54:25.466 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:54:25.467 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:54:25.473 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:25'.
2025-02-25 01:54:25.475 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8831.8716ms
2025-02-25 01:54:25.476 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:54:25.478 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:54:25.499 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:25.503 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 22.2096ms
2025-02-25 01:54:25.505 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:54:25.505 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:54:25.506 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:25.507 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 45.4915ms
2025-02-25 01:54:25.508 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:54:25.521 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:25'.
2025-02-25 01:54:25.523 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:54:25.524 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:54:25.532 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:25.534 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.8998ms
2025-02-25 01:54:25.535 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:54:25.536 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:54:25.537 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 31.8586ms
2025-02-25 01:54:25.538 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:25.540 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:54:25.549 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:25'.
2025-02-25 01:54:25.550 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:54:25.551 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:54:25.556 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:25.557 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.2633ms
2025-02-25 01:54:25.558 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:54:25.559 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 23.4418ms
2025-02-25 01:54:27.224 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:54:27.317 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:27.320 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10500.8419ms
2025-02-25 01:54:27.321 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:54:27.322 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:54:27.323 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:27.325 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:27'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:54:27.333 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10691.5508ms
2025-02-25 01:54:27.338 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:27'.
2025-02-25 01:54:27.341 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:54:27.344 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:54:27.366 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:54:27.372 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:27.375 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 28.428ms
2025-02-25 01:54:27.376 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:54:27.376 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:54:27.377 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 55.9089ms
2025-02-25 01:54:27.377 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:27.380 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:27'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:54:27.387 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:27'.
2025-02-25 01:54:27.390 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:54:27.392 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:54:27.455 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:54:27.462 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:27.464 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 69.7376ms
2025-02-25 01:54:27.465 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:54:27.465 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:54:27.466 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:27.468 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 92.3409ms
2025-02-25 01:54:27.470 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:27'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:54:27.477 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:27'.
2025-02-25 01:54:27.478 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:54:27.479 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:54:27.488 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:54:27.496 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:27.498 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.9719ms
2025-02-25 01:54:27.499 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:54:27.501 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 35.7615ms
2025-02-25 01:54:38.327 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:54:38.333 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:38.334 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 7.0158ms
2025-02-25 01:54:38.337 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:54:38.340 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:38.342 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:38'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:54:38.352 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:38'.
2025-02-25 01:54:38.354 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:54:38.359 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:54:38.372 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:54:38.518 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:54:38.547 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:38.552 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 190.924ms
2025-02-25 01:54:38.554 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:54:38.555 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 217.7469ms
2025-02-25 01:54:41.936 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/28 - -
2025-02-25 01:54:41.937 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - -
2025-02-25 01:54:41.937 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/28 - -
2025-02-25 01:54:41.937 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - -
2025-02-25 01:54:41.938 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:41.939 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:41.940 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:41.941 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:41.942 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/28 - - - 204 - - 5.1346ms
2025-02-25 01:54:41.942 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - - - 204 - - 5.6639ms
2025-02-25 01:54:41.943 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/28 - - - 204 - - 6.3352ms
2025-02-25 01:54:41.944 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - - - 204 - - 7.0301ms
2025-02-25 01:54:41.967 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/28 application/json -
2025-02-25 01:54:41.968 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json -
2025-02-25 01:54:41.970 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:41.970 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:41.972 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:41'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:54:41.972 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:54:41.980 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:41'.
2025-02-25 01:54:41.983 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:54:41.985 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:54:41.988 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:54:42.120 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:54:42.140 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:42.172 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 181.6824ms
2025-02-25 01:54:42.174 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:54:42.176 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json - - 200 - application/json;+charset=utf-8 207.8029ms
2025-02-25 01:54:42.179 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json -
2025-02-25 01:54:42.181 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:42.182 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:54:42.183 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:54:42.194 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:54:42.196 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:54:42.202 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:42.207 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:42.209 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 23.0332ms
2025-02-25 01:54:42.212 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:54:42.211 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 218.4134ms
2025-02-25 01:54:42.213 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/28 application/json -
2025-02-25 01:54:42.214 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json - - 200 - application/json;+charset=utf-8 34.8093ms
2025-02-25 01:54:42.216 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:54:42.218 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:42.223 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/28 application/json - - 200 - application/json;+charset=utf-8 255.7588ms
2025-02-25 01:54:42.225 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:42'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:54:42.236 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:54:42'.
2025-02-25 01:54:42.238 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:54:42.240 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:54:42.252 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:54:42.256 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:42.258 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 15.4381ms
2025-02-25 01:54:42.260 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:54:42.262 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/28 application/json - - 200 - application/json;+charset=utf-8 48.2207ms
2025-02-25 01:54:43.528 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/28 - -
2025-02-25 01:54:43.529 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/28 - -
2025-02-25 01:54:43.531 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:43.532 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:43.533 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/28 - - - 204 - - 5.3225ms
2025-02-25 01:54:43.534 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/28 - - - 204 - - 5.1854ms
2025-02-25 01:54:43.535 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/28 application/json -
2025-02-25 01:54:43.538 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:43.539 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:54:43.544 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:54:43.554 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:54:43.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:54:43.577 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:54:43.588 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 42.4272ms
2025-02-25 01:54:43.590 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/28 application/json -
2025-02-25 01:54:43.591 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:54:43.592 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:43.593 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/28 application/json - - 200 - application/json;+charset=utf-8 58.0140ms
2025-02-25 01:54:43.594 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:54:43.596 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:54:43.604 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:54:43.610 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:54:43.617 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:54:43.621 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 22.0531ms
2025-02-25 01:54:43.623 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:54:43.624 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/28 application/json - - 200 - application/json;+charset=utf-8 33.3317ms
2025-02-25 01:54:52.202 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryk2i37gDeg9xGgVvZ 264
2025-02-25 01:54:52.204 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:52.205 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-25 01:54:52.209 +01:00 [INF] Route matched with {action = "SaveMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] SaveMap(System.String, Microsoft.AspNetCore.Http.IFormFile) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:54:52.245 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:54:52.259 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tagName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
WHERE t."TagName" = @__tagName_0
LIMIT 1
2025-02-25 01:54:52.306 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Tags" ("TagName", "TagQuantity")
VALUES (@p0, @p1)
RETURNING "TagId";
2025-02-25 01:54:52.318 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapTag" ("MapTagsTagId", "MapsWithThisTagMapId")
VALUES (@p2, @p3);
2025-02-25 01:54:52.336 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:54:52.349 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:54:52.354 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:52.355 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.SaveMap (JurMaps) in 143.9388ms
2025-02-25 01:54:52.357 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.SaveMap (JurMaps)'
2025-02-25 01:54:52.358 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/savemap multipart/form-data;+boundary=----WebKitFormBoundaryk2i37gDeg9xGgVvZ 264 - 200 - application/json;+charset=utf-8 155.8370ms
2025-02-25 01:54:53.171 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:54:53.171 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:54:53.171 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:54:53.172 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:53.174 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:53.174 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:53.174 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:54:53.175 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:54:53.177 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:54:53.201 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:54:53.201 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:54:53.202 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:54:53.219 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:54:53.219 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:54:53.226 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:53.226 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:53.228 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 23.1785ms
2025-02-25 01:54:53.229 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:54:53.230 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 26.6834ms
2025-02-25 01:54:53.230 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:54:53.231 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:54:53.231 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:53.233 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:54:53.234 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 62.9485ms
2025-02-25 01:54:53.235 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:53.236 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:54:53.237 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 66.0667ms
2025-02-25 01:54:53.238 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 01:54:53.241 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:54:53.242 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:54:53.245 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 01:54:53.245 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:54:53.254 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:54:53.256 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:54:53.258 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:53.261 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:53.262 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:54:53.262 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 15.2539ms
2025-02-25 01:54:53.264 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 13.4638ms
2025-02-25 01:54:53.267 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:54:53.270 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:54:53.271 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 41.7643ms
2025-02-25 01:54:53.272 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 41.6666ms
2025-02-25 01:54:53.288 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:53.299 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:54:53.300 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 92.3768ms
2025-02-25 01:54:53.301 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:54:53.302 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:54:53.303 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:54:53.304 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 133.4307ms
2025-02-25 01:54:53.305 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:54:53.317 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:54:53.344 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:54:53.352 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 42.4688ms
2025-02-25 01:54:53.353 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:54:53.354 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 54.7662ms
2025-02-25 01:55:09.326 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/28 - -
2025-02-25 01:55:09.329 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 01:55:09.328 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - -
2025-02-25 01:55:09.336 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.331 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - -
2025-02-25 01:55:09.328 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 01:55:09.336 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.337 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.343 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.339 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.342 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 12.5520ms
2025-02-25 01:55:09.338 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:09.343 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - - - 204 - - 15.1090ms
2025-02-25 01:55:09.347 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json -
2025-02-25 01:55:09.355 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.344 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 16.1752ms
2025-02-25 01:55:09.349 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 01:55:09.346 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - - - 204 - - 15.4455ms
2025-02-25 01:55:09.356 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:09.356 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:09.358 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.362 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:09.364 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:09.374 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:55:09.370 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:09.376 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:09'.
2025-02-25 01:55:09.379 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:09.385 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:09.388 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 22.3453ms
2025-02-25 01:55:09.386 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:09.390 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json -
2025-02-25 01:55:09.393 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:09.394 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.395 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json - - 200 - application/json;+charset=utf-8 48.6521ms
2025-02-25 01:55:09.396 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:55:09.396 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:09.398 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 01:55:09.407 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 45.7496ms
2025-02-25 01:55:09.407 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:09.408 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/28 - -
2025-02-25 01:55:09.416 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:09.416 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:09.421 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.423 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/28 - - - 200 - application/json;+charset=utf-8 97.1815ms
2025-02-25 01:55:09.430 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:09.422 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 11.9796ms
2025-02-25 01:55:09.432 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 01:55:09.436 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:09.437 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:09.439 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.442 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 93.0353ms
2025-02-25 01:55:09.446 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:09.453 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:09.455 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:55:09.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/28/2 - -
2025-02-25 01:55:09.463 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:09'.
2025-02-25 01:55:09.468 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:09.470 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:09.471 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.472 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:09.479 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 59.3488ms
2025-02-25 01:55:09.479 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:09.480 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:55:09.480 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 01:55:09.481 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:09.484 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 42.6561ms
2025-02-25 01:55:09.485 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:09.487 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json - - 200 - application/json;+charset=utf-8 96.4898ms
2025-02-25 01:55:09.488 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:09.489 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:09.495 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/28 - - - 200 - application/json;+charset=utf-8 86.3016ms
2025-02-25 01:55:09.496 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 11.0163ms
2025-02-25 01:55:09.499 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:09.500 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 68.0655ms
2025-02-25 01:55:09.522 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:55:09.527 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:09.528 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 35.9683ms
2025-02-25 01:55:09.530 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:09.530 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/28/2 - -
2025-02-25 01:55:09.531 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/28/2 - - - 200 - application/json;+charset=utf-8 76.3186ms
2025-02-25 01:55:09.532 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:09.534 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:09.535 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:09.544 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:55:09.547 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:09.549 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 10.6788ms
2025-02-25 01:55:09.550 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:09.553 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/28/2 - - - 200 - application/json;+charset=utf-8 23.7705ms
2025-02-25 01:55:13.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:55:13.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:55:13.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:55:13.457 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:13.457 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:13.458 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:13.460 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:55:13.461 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:55:13.461 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:55:13.462 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:13.463 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:13.464 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:13.471 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:55:13.474 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:55:13.476 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:13.479 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:55:13.480 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:13.481 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 15.1379ms
2025-02-25 01:55:13.482 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:55:13.485 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 16.5524ms
2025-02-25 01:55:13.486 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:55:13.488 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:55:13.489 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:13.490 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:55:13.490 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:13.491 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 36.0857ms
2025-02-25 01:55:13.492 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:55:13.493 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 37.6980ms
2025-02-25 01:55:13.494 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:55:13.497 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:13.498 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:13.505 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:13.510 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:55:13.512 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:55:13.511 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 38.1752ms
2025-02-25 01:55:13.513 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:55:13.515 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:13.515 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:13.516 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:55:13.519 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:13.521 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 16.8525ms
2025-02-25 01:55:13.522 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:55:13.523 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 67.6855ms
2025-02-25 01:55:13.524 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 17.8861ms
2025-02-25 01:55:13.525 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:55:13.526 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:13.529 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:55:13.530 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 47.8877ms
2025-02-25 01:55:13.536 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 49.9477ms
2025-02-25 01:55:13.539 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:55:13.561 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:13.564 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 30.2572ms
2025-02-25 01:55:13.566 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:55:13.567 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 54.7091ms
2025-02-25 01:55:17.033 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 01:55:17.035 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 01:55:17.034 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - -
2025-02-25 01:55:17.034 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/28 - -
2025-02-25 01:55:17.035 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - -
2025-02-25 01:55:17.036 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.037 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.038 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.039 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.041 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 5.9767ms
2025-02-25 01:55:17.040 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 8.0525ms
2025-02-25 01:55:17.045 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - - - 204 - - 11.0076ms
2025-02-25 01:55:17.046 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 01:55:17.046 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:17.039 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.050 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json -
2025-02-25 01:55:17.054 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.055 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:17.058 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.055 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - - - 204 - - 19.7679ms
2025-02-25 01:55:17.060 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:17.066 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:17.062 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:17.073 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:17'.
2025-02-25 01:55:17.078 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:17.078 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:17.079 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:17.084 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 01:55:17.085 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:55:17.087 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:55:17.091 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 29.5335ms
2025-02-25 01:55:17.092 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/28 - -
2025-02-25 01:55:17.092 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:17.094 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:17.098 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 01:55:17.095 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:17.100 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.099 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 16.4627ms
2025-02-25 01:55:17.102 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/28 - - - 200 - application/json;+charset=utf-8 68.0362ms
2025-02-25 01:55:17.097 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 7.7297ms
2025-02-25 01:55:17.095 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.101 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json -
2025-02-25 01:55:17.103 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:17'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:17.107 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:17.110 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:17.113 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:17.114 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.124 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:17'.
2025-02-25 01:55:17.126 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json - - 200 - application/json;+charset=utf-8 75.6306ms
2025-02-25 01:55:17.127 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 81.9926ms
2025-02-25 01:55:17.129 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:17.130 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:17.131 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:17.148 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:17.151 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 01:55:17.156 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/28/2 - -
2025-02-25 01:55:17.154 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:17.161 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:55:17.163 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:17.162 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.171 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:17.175 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:17.177 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 16.7518ms
2025-02-25 01:55:17.178 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:17.184 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 28.3927ms
2025-02-25 01:55:17.186 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:55:17.186 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:17.187 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:17.188 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:17.192 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 93.8446ms
2025-02-25 01:55:17.200 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:55:17.190 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 43.7699ms
2025-02-25 01:55:17.199 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json - - 200 - application/json;+charset=utf-8 98.4002ms
2025-02-25 01:55:17.206 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:17.208 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:17.212 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 17.4955ms
2025-02-25 01:55:17.213 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/28/2 - -
2025-02-25 01:55:17.213 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/28 - - - 200 - application/json;+charset=utf-8 120.6811ms
2025-02-25 01:55:17.214 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:17.216 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:17.219 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/28/2 - - - 200 - application/json;+charset=utf-8 63.3321ms
2025-02-25 01:55:17.220 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:17.222 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:17.229 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:55:17.233 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:17.235 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 10.0227ms
2025-02-25 01:55:17.236 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:17.237 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/28/2 - - - 200 - application/json;+charset=utf-8 24.0241ms
2025-02-25 01:55:22.582 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:55:22.583 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/28 - -
2025-02-25 01:55:22.584 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - -
2025-02-25 01:55:22.582 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:55:22.584 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:55:22.585 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.584 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:55:22.592 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.587 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.588 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:55:22.588 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:55:22.589 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.589 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.591 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 8.3836ms
2025-02-25 01:55:22.586 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.592 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 8.1041ms
2025-02-25 01:55:22.593 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - - - 204 - - 9.4540ms
2025-02-25 01:55:22.601 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 18.2667ms
2025-02-25 01:55:22.596 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.602 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 17.6927ms
2025-02-25 01:55:22.594 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.604 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/28 - -
2025-02-25 01:55:22.608 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - -
2025-02-25 01:55:22.606 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/28 - - - 204 - - 22.6225ms
2025-02-25 01:55:22.609 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:55:22.611 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:55:22.613 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 24.4859ms
2025-02-25 01:55:22.617 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:55:22.619 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 30.4453ms
2025-02-25 01:55:22.620 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.621 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.622 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:55:22.623 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.624 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.626 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json -
2025-02-25 01:55:22.627 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.629 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/28 application/json -
2025-02-25 01:55:22.632 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/28 - - - 204 - - 27.9696ms
2025-02-25 01:55:22.634 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/28 - - - 204 - - 26.1653ms
2025-02-25 01:55:22.635 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.636 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 27.2581ms
2025-02-25 01:55:22.638 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 26.5617ms
2025-02-25 01:55:22.639 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.641 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:22.642 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.648 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:22.657 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:22.671 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
2025-02-25 01:55:22.674 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:22.712 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
2025-02-25 01:55:22.714 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:22.715 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:22.725 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
2025-02-25 01:55:22.728 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:22.733 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:22.735 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:22.735 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:55:22.746 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:22.741 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:22.734 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:55:22.747 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:22.751 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.0959ms
2025-02-25 01:55:22.753 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:22.754 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 22.4805ms
2025-02-25 01:55:22.756 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.3356ms
2025-02-25 01:55:22.755 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json -
2025-02-25 01:55:22.752 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:55:22.755 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:22.752 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:22.758 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:55:22.760 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:22.761 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:22.762 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.768 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.770 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 147.9664ms
2025-02-25 01:55:22.772 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:22.769 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json - - 200 - application/json;+charset=utf-8 143.2994ms
2025-02-25 01:55:22.771 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:22.762 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.763 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 145.9952ms
2025-02-25 01:55:22.776 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:22.778 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:22.786 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:22.786 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:22.798 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
2025-02-25 01:55:22.808 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/28 application/json -
2025-02-25 01:55:22.803 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 36.8079ms
2025-02-25 01:55:22.810 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:55:22.816 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
2025-02-25 01:55:22.818 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:22.819 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.823 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:55:22.829 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:22.827 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:22.831 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:22.839 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 37.8526ms
2025-02-25 01:55:22.839 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:22.831 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/28 application/json - - 200 - application/json;+charset=utf-8 201.9156ms
2025-02-25 01:55:22.828 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:22.849 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
2025-02-25 01:55:22.851 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:22.858 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:22.859 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:22.860 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:55:22.861 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/28 application/json - - 200 - application/json;+charset=utf-8 106.2044ms
2025-02-25 01:55:22.868 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 34.3834ms
2025-02-25 01:55:22.870 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:22.867 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:22.870 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:55:22.872 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:22.877 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.878 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 120.6259ms
2025-02-25 01:55:22.878 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:55:22.876 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.062ms
2025-02-25 01:55:22.880 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:22.882 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:22.885 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.886 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:22.902 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
2025-02-25 01:55:22.908 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:22.905 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:22.905 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 153.0451ms
2025-02-25 01:55:22.891 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:22.911 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:22.936 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
2025-02-25 01:55:22.941 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 66.4059ms
2025-02-25 01:55:22.950 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:22.948 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:22.952 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:55:22.957 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:22.959 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/28 application/json - - 200 - application/json;+charset=utf-8 151.2367ms
2025-02-25 01:55:22.960 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:22.967 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:22.968 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 24.809ms
2025-02-25 01:55:22.970 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:55:22.971 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.1173ms
2025-02-25 01:55:22.972 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:55:22.972 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:22.974 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.976 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:22.978 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 107.9795ms
2025-02-25 01:55:22.977 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:22.980 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:22.981 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 102.7358ms
2025-02-25 01:55:22.983 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:23.004 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
2025-02-25 01:55:23.024 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:22'.
2025-02-25 01:55:23.026 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:23.029 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:23.030 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:23.031 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:23.044 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:23.050 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:23.058 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.6526ms
2025-02-25 01:55:23.060 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:23.061 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:23.064 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 26.3895ms
2025-02-25 01:55:23.067 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 94.8650ms
2025-02-25 01:55:23.068 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:23.073 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 102.4159ms
2025-02-25 01:55:25.394 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/28 - -
2025-02-25 01:55:25.395 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/28 - -
2025-02-25 01:55:25.396 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:25.396 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:25.397 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/28 - - - 204 - - 2.9667ms
2025-02-25 01:55:25.398 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/28 - - - 204 - - 3.3646ms
2025-02-25 01:55:25.399 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/28 application/json -
2025-02-25 01:55:25.401 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:25.402 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:55:25.403 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:25.410 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:25.416 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:25.421 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:55:25.426 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 20.3137ms
2025-02-25 01:55:25.427 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/28 application/json -
2025-02-25 01:55:25.427 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:55:25.428 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:25.429 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/28 application/json - - 200 - application/json;+charset=utf-8 29.7149ms
2025-02-25 01:55:25.430 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:55:25.433 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:25.441 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:25.447 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:25.455 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:55:25.457 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 22.0138ms
2025-02-25 01:55:25.460 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:55:25.461 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/28 application/json - - 200 - application/json;+charset=utf-8 34.6405ms
2025-02-25 01:55:32.499 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:55:32.500 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:55:32.500 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:55:32.501 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:32.502 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:32.503 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:32.503 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:55:32.504 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:55:32.505 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:55:32.506 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:32.507 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:32.508 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:32.516 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:55:32.518 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:55:32.523 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:55:32.526 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:32.528 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:32.530 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 17.3253ms
2025-02-25 01:55:32.532 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:55:32.536 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:55:32.535 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 16.9249ms
2025-02-25 01:55:32.536 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:55:32.537 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:32.538 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 38.0556ms
2025-02-25 01:55:32.539 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:55:32.540 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:32.542 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:55:32.544 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 44.3201ms
2025-02-25 01:55:32.545 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:55:32.546 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:32.546 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:32.554 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 43.4341ms
2025-02-25 01:55:32.551 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:32.558 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:55:32.557 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:55:32.566 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 66.7821ms
2025-02-25 01:55:32.567 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:55:32.568 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:32.560 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:55:32.574 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:32.575 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:55:32.580 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:32.583 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 21.6799ms
2025-02-25 01:55:32.585 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:55:32.588 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 30.8751ms
2025-02-25 01:55:32.589 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:55:32.596 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:55:32.598 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:55:32.597 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 60.4411ms
2025-02-25 01:55:32.600 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 67.6399ms
2025-02-25 01:55:32.626 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:32.630 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 36.9195ms
2025-02-25 01:55:32.633 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:55:32.635 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 78.2928ms
2025-02-25 01:55:33.838 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 01:55:33.838 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/9 - -
2025-02-25 01:55:33.838 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - -
2025-02-25 01:55:33.840 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - -
2025-02-25 01:55:33.840 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - -
2025-02-25 01:55:33.842 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:33.848 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 10.2040ms
2025-02-25 01:55:33.844 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:33.846 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:33.843 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:33.857 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - - - 204 - - 17.1327ms
2025-02-25 01:55:33.845 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:33.856 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/9 - - - 204 - - 17.7700ms
2025-02-25 01:55:33.855 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 01:55:33.858 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json -
2025-02-25 01:55:33.858 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:33.863 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/profile/getuseridfromtoken - - - 204 - - 23.4616ms
2025-02-25 01:55:33.867 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:33.870 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:33.871 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:33.873 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:33.881 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:33.874 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:33.904 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:33.896 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:33'.
2025-02-25 01:55:33.904 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:33.911 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:55:33.907 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:33.918 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:55:33.918 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:33.919 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 01:55:33.922 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/getmapinfo/9 - -
2025-02-25 01:55:33.923 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 16.9618ms
2025-02-25 01:55:33.920 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 43.8479ms
2025-02-25 01:55:33.925 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json -
2025-02-25 01:55:33.926 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:33.927 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:33.927 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:33.927 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:33.931 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:33.930 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:33.932 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json - - 200 - application/json;+charset=utf-8 74.3164ms
2025-02-25 01:55:33.934 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 9.3161ms
2025-02-25 01:55:33.936 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json -
2025-02-25 01:55:33.936 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/9 - - - 200 - application/json;+charset=utf-8 98.0801ms
2025-02-25 01:55:33.938 +01:00 [INF] Route matched with {action = "GetMapInfo", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapInfo(Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:33.939 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:33.941 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:33.943 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:33.950 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:33.955 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:33.952 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 96.5358ms
2025-02-25 01:55:33.954 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:33.969 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:33'.
2025-02-25 01:55:33.972 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/9/2 - -
2025-02-25 01:55:33.963 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:55:33.979 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:33.979 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:33.980 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:33.986 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:33.990 +01:00 [INF] Route matched with {action = "GetUserIdFromToken", controller = "Profile"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserIdFromToken(System.String) on controller JurMaps.Controllers.ProfileController (JurMaps).
2025-02-25 01:55:33.991 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:33.992 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 34.069ms
2025-02-25 01:55:33.993 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:55:33.996 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:33.997 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:33.997 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:33.999 +01:00 [INF] Executed action JurMaps.Controllers.MapController.GetMapInfo (JurMaps) in 50.1715ms
2025-02-25 01:55:34.007 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:55:34.006 +01:00 [INF] Executed action JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps) in 11.3689ms
2025-02-25 01:55:34.013 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.ProfileController.GetUserIdFromToken (JurMaps)'
2025-02-25 01:55:34.008 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.GetMapInfo (JurMaps)'
2025-02-25 01:55:34.012 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:34.002 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json - - 200 - application/json;+charset=utf-8 77.4788ms
2025-02-25 01:55:34.017 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 16.6101ms
2025-02-25 01:55:34.016 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/getmapinfo/9 - - - 200 - application/json;+charset=utf-8 93.9852ms
2025-02-25 01:55:34.015 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/profile/getuseridfromtoken application/json - - 200 - application/json;+charset=utf-8 78.8516ms
2025-02-25 01:55:34.022 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/map/hasliked/9/2 - -
2025-02-25 01:55:34.024 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:34.032 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:34.033 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/9/2 - - - 200 - application/json;+charset=utf-8 61.0038ms
2025-02-25 01:55:34.035 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:34.039 +01:00 [INF] Route matched with {action = "HasLiked", controller = "Map"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] HasLiked(Int32, Int32) on controller JurMaps.Controllers.MapController (JurMaps).
2025-02-25 01:55:34.046 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."MapId"
FROM "UserMapLikes" AS u
WHERE u."UserId" = @__userId_0 AND u."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:55:34.054 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:34.056 +01:00 [INF] Executed action JurMaps.Controllers.MapController.HasLiked (JurMaps) in 13.8997ms
2025-02-25 01:55:34.057 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapController.HasLiked (JurMaps)'
2025-02-25 01:55:34.059 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/map/hasliked/9/2 - - - 200 - application/json;+charset=utf-8 36.5314ms
2025-02-25 01:55:38.765 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:55:38.766 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/9 - -
2025-02-25 01:55:38.770 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:55:38.772 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:55:38.771 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.807 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.835 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/9 - - - 204 - - 69.4153ms
2025-02-25 01:55:38.847 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 75.0267ms
2025-02-25 01:55:38.853 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:55:38.788 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.767 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:55:38.770 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.858 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.859 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 88.5321ms
2025-02-25 01:55:38.860 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.861 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 95.5456ms
2025-02-25 01:55:38.766 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:55:38.767 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json -
2025-02-25 01:55:38.767 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:55:38.788 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/9 - -
2025-02-25 01:55:38.803 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:55:38.816 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:55:38.844 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/9 application/json -
2025-02-25 01:55:38.861 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:55:38.862 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:38'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:38.864 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 96.8127ms
2025-02-25 01:55:38.865 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.866 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.867 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.868 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.869 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.870 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.870 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.871 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.879 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:38'.
2025-02-25 01:55:38.881 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 114.9838ms
2025-02-25 01:55:38.882 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:38.883 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 116.0712ms
2025-02-25 01:55:38.884 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/9 - - - 204 - - 95.8129ms
2025-02-25 01:55:38.885 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 85.9052ms
2025-02-25 01:55:38.886 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 77.6341ms
2025-02-25 01:55:38.887 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:38'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:38.891 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:38'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:38.891 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:38.893 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:38.907 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:38'.
2025-02-25 01:55:38.915 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:38'.
2025-02-25 01:55:38.917 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:38.925 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:55:38.934 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:38.922 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:55:38.925 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:38.937 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:38.942 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:38.946 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 24.8991ms
2025-02-25 01:55:38.947 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json -
2025-02-25 01:55:38.953 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:38.953 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:38.945 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:38.943 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:38.959 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:38.961 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json - - 200 - application/json;+charset=utf-8 194.0561ms
2025-02-25 01:55:38.969 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 21.0057ms
2025-02-25 01:55:38.955 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.964 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:55:38.963 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 33.4085ms
2025-02-25 01:55:38.971 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/9 application/json -
2025-02-25 01:55:38.971 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:38.974 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:55:38.975 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:38.976 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.979 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:38.986 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/9 application/json - - 200 - application/json;+charset=utf-8 141.9989ms
2025-02-25 01:55:38.987 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:38.988 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:38'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:38.986 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:55:38.989 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:38'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:38.977 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:39.001 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:55:38.983 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 15.4598ms
2025-02-25 01:55:39.017 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:38'.
2025-02-25 01:55:39.019 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:39.042 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:38'.
2025-02-25 01:55:39.063 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:39.045 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 192.0187ms
2025-02-25 01:55:39.057 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:39.058 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:39.065 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:39'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:39.066 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:55:39.067 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:39.071 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 77.525ms
2025-02-25 01:55:39.092 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:39.083 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:39'.
2025-02-25 01:55:39.084 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:39.093 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:55:39.073 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 212.2981ms
2025-02-25 01:55:39.098 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:39.100 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:39.105 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:39.110 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 24.0844ms
2025-02-25 01:55:39.101 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/9 application/json - - 200 - application/json;+charset=utf-8 154.6009ms
2025-02-25 01:55:39.107 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:39.111 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:55:39.113 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:39.114 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:39.117 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:39.118 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 154.5263ms
2025-02-25 01:55:39.118 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:39.120 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.7252ms
2025-02-25 01:55:39.121 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:55:39.131 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:39.127 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:39'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:39.128 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:39.124 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 23.8583ms
2025-02-25 01:55:39.133 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:39'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:39.141 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:39'.
2025-02-25 01:55:39.141 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 155.4630ms
2025-02-25 01:55:39.142 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:55:39.147 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:39'.
2025-02-25 01:55:39.148 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:39.150 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/9 application/json - - 200 - application/json;+charset=utf-8 179.9759ms
2025-02-25 01:55:39.154 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:39.154 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:39.156 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:39.163 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:39.165 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:39.170 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.7288ms
2025-02-25 01:55:39.171 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:39.171 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:55:39.172 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 50.8268ms
2025-02-25 01:55:39.173 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:39.174 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:39.176 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 17.5035ms
2025-02-25 01:55:39.177 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:55:39.177 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:39'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:39.178 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:39.178 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:39.185 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:39'.
2025-02-25 01:55:39.186 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 74.4882ms
2025-02-25 01:55:39.187 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:39'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:55:39.188 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:39.200 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:55:39'.
2025-02-25 01:55:39.201 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:39.202 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:39.204 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:55:39.206 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:39.209 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.8374ms
2025-02-25 01:55:39.210 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:55:39.211 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:39.214 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 42.7106ms
2025-02-25 01:55:39.221 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:55:39.223 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 16.4331ms
2025-02-25 01:55:39.224 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:55:39.226 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 48.6822ms
2025-02-25 01:55:40.856 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/9 - -
2025-02-25 01:55:40.856 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/9 - -
2025-02-25 01:55:40.857 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:40.859 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:40.860 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/9 - - - 204 - - 3.0881ms
2025-02-25 01:55:40.861 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/9 - - - 204 - - 4.1491ms
2025-02-25 01:55:40.862 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/9 application/json -
2025-02-25 01:55:40.864 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:40.864 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:55:40.865 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:40.872 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:40.878 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:40.888 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:55:40.891 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 23.5549ms
2025-02-25 01:55:40.893 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:55:40.893 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/9 application/json -
2025-02-25 01:55:40.894 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/9 application/json - - 200 - application/json;+charset=utf-8 31.6628ms
2025-02-25 01:55:40.896 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:55:40.898 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:55:40.899 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:55:40.907 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:55:40.914 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:55:40.922 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 01:55:40.925 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 23.149ms
2025-02-25 01:55:40.926 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 01:55:40.927 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/9 application/json - - 200 - application/json;+charset=utf-8 34.2910ms
2025-02-25 01:57:49.161 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:57:49.162 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:49.163 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 1.9171ms
2025-02-25 01:57:49.164 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:57:49.166 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:49.167 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:49.174 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:49'.
2025-02-25 01:57:49.176 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:57:49.177 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:57:49.198 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:57:49.206 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:57:49.209 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:49.210 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 31.5524ms
2025-02-25 01:57:49.211 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:57:49.212 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 47.8799ms
2025-02-25 01:57:49.338 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/29 - -
2025-02-25 01:57:49.338 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/29 - -
2025-02-25 01:57:49.339 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/29 - -
2025-02-25 01:57:49.339 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/29 - -
2025-02-25 01:57:49.341 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:49.342 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:49.343 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:49.352 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/29 - - - 204 - - 14.2311ms
2025-02-25 01:57:49.358 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/29 - - - 204 - - 18.4747ms
2025-02-25 01:57:49.345 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/29 - - - 204 - - 7.2484ms
2025-02-25 01:57:49.344 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:49.356 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/29 application/json -
2025-02-25 01:57:49.358 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/29 application/json -
2025-02-25 01:57:49.367 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/29 - - - 204 - - 27.4317ms
2025-02-25 01:57:49.368 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:49.369 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:49.370 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:57:49.372 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:49.373 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:57:49.379 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:49'.
2025-02-25 01:57:49.384 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:57:49.384 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:57:49.386 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:57:49.395 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:57:49.395 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:49.399 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:49.400 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 18.2712ms
2025-02-25 01:57:49.405 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 14.9345ms
2025-02-25 01:57:49.403 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/29 application/json -
2025-02-25 01:57:49.406 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/29 application/json -
2025-02-25 01:57:49.406 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:57:49.408 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:57:49.409 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:49.411 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:49.412 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/29 application/json - - 200 - application/json;+charset=utf-8 55.4595ms
2025-02-25 01:57:49.413 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/29 application/json - - 200 - application/json;+charset=utf-8 55.2754ms
2025-02-25 01:57:49.415 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:57:49.426 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:49.436 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:57:49.452 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:49'.
2025-02-25 01:57:49.460 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:57:49.467 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:57:49.471 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:57:49.490 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:49.502 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 46.4618ms
2025-02-25 01:57:49.504 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:57:49.505 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:57:49.513 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:49.515 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/29 application/json - - 200 - application/json;+charset=utf-8 112.1264ms
2025-02-25 01:57:49.518 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 23.9358ms
2025-02-25 01:57:49.523 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:57:49.525 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/29 application/json - - 200 - application/json;+charset=utf-8 118.9011ms
2025-02-25 01:57:52.486 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/29 - -
2025-02-25 01:57:52.486 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/29 - -
2025-02-25 01:57:52.487 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:52.489 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:52.490 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/29 - - - 204 - - 4.3728ms
2025-02-25 01:57:52.492 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/29 - - - 204 - - 5.7424ms
2025-02-25 01:57:52.492 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/29 application/json 8
2025-02-25 01:57:52.493 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/29 application/json 102
2025-02-25 01:57:52.496 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:52.496 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:52.497 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:57:52.501 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:57:52.507 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:57:52.507 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:57:52.549 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:57:52.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 01:57:52.568 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:57:52.608 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 01:57:52.625 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 01:57:52.649 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:57:52.654 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 01:57:52.657 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:52.658 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 147.878ms
2025-02-25 01:57:52.659 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 01:57:52.660 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/29 application/json 8 - 200 - application/json;+charset=utf-8 168.5856ms
2025-02-25 01:57:52.703 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 01:57:52.711 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 01:57:52.714 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:52.717 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 202.4131ms
2025-02-25 01:57:52.719 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 01:57:52.720 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/29 application/json 102 - 200 - application/json;+charset=utf-8 226.3988ms
2025-02-25 01:57:56.050 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 01:57:56.051 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:56.052 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 2.1593ms
2025-02-25 01:57:56.054 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundarya2xIfEMBbtHuVXFW 1239
2025-02-25 01:57:56.056 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:56.057 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 01:57:56.064 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 01:57:56.087 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__placeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM "Places" AS p
WHERE p."PlaceId" = @__placeId_0
LIMIT 1
2025-02-25 01:57:56.121 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Places" SET "MapId" = @p0, "PlaceColor" = @p1, "PlaceCountry" = @p2, "PlaceDescription" = @p3, "PlaceName" = @p4, "PlacePhoto1" = @p5, "PlacePhoto2" = @p6, "PlacePhoto3" = @p7, "PlacePosition" = @p8, "PlaceType" = @p9
WHERE "PlaceId" = @p10;
2025-02-25 01:57:56.125 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:56.133 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 67.7107ms
2025-02-25 01:57:56.134 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 01:57:56.136 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundarya2xIfEMBbtHuVXFW 1239 - 200 - application/json;+charset=utf-8 82.4080ms
2025-02-25 01:57:59.182 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:57:59.183 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/29 - -
2025-02-25 01:57:59.185 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.183 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/29 - -
2025-02-25 01:57:59.184 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.194 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.203 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 20.5302ms
2025-02-25 01:57:59.206 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/29 - - - 204 - - 22.6206ms
2025-02-25 01:57:59.184 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:57:59.219 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:57:59.228 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/29 application/json -
2025-02-25 01:57:59.230 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.195 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:57:59.237 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 53.3596ms
2025-02-25 01:57:59.236 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.236 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.243 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.250 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 31.1726ms
2025-02-25 01:57:59.188 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/29 - - - 204 - - 5.9095ms
2025-02-25 01:57:59.182 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:57:59.184 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:57:59.190 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:57:59.197 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/29 - -
2025-02-25 01:57:59.205 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/29 - -
2025-02-25 01:57:59.216 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:57:59.229 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:57:59.229 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/29 application/json -
2025-02-25 01:57:59.243 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:57:59.251 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:59.252 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 56.7771ms
2025-02-25 01:57:59.254 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.255 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.256 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.257 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.257 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.258 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.259 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.259 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.273 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
2025-02-25 01:57:59.282 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 100.0379ms
2025-02-25 01:57:59.284 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 100.5869ms
2025-02-25 01:57:59.286 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 96.1947ms
2025-02-25 01:57:59.287 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/29 - - - 204 - - 89.8657ms
2025-02-25 01:57:59.288 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/29 - - - 204 - - 83.0901ms
2025-02-25 01:57:59.289 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 73.5893ms
2025-02-25 01:57:59.260 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.290 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:59.292 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:57:59.290 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:57:59.301 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:59.306 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
2025-02-25 01:57:59.307 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:57:59.308 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:57:59.316 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
2025-02-25 01:57:59.317 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:57:59.324 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:57:59.328 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:57:59.326 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:57:59.323 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:57:59.334 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.341 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.349 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/29 application/json -
2025-02-25 01:57:59.344 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:57:59.353 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 30.8431ms
2025-02-25 01:57:59.347 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 27.1953ms
2025-02-25 01:57:59.354 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.342 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:57:59.359 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:57:59.362 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.361 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:57:59.355 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/29 application/json -
2025-02-25 01:57:59.365 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/29 application/json - - 200 - application/json;+charset=utf-8 136.1635ms
2025-02-25 01:57:59.368 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 28.5153ms
2025-02-25 01:57:59.369 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/29 application/json - - 200 - application/json;+charset=utf-8 140.8159ms
2025-02-25 01:57:59.362 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:59.368 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.369 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:57:59.375 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:57:59.385 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
2025-02-25 01:57:59.370 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.387 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 22.8321ms
2025-02-25 01:57:59.390 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:57:59.390 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.392 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 162.8613ms
2025-02-25 01:57:59.398 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.393 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:57:59.394 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:57:59.395 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:57:59.408 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:59.412 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:59.412 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:57:59.413 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:57:59.467 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
2025-02-25 01:57:59.474 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:57:59.476 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:57:59.479 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:57:59.416 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 172.2445ms
2025-02-25 01:57:59.451 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
2025-02-25 01:57:59.485 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.486 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:57:59.493 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.499 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:57:59.502 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 32.3417ms
2025-02-25 01:57:59.515 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.515 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 42.1562ms
2025-02-25 01:57:59.516 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:57:59.520 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.6665ms
2025-02-25 01:57:59.521 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:57:59.528 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:57:59.521 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:57:59.531 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/29 application/json - - 200 - application/json;+charset=utf-8 176.3804ms
2025-02-25 01:57:59.518 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:57:59.529 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:57:59.532 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 142.7534ms
2025-02-25 01:57:59.534 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.537 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/29 application/json - - 200 - application/json;+charset=utf-8 187.7302ms
2025-02-25 01:57:59.544 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.545 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:59.549 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:57:59.548 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 24.0887ms
2025-02-25 01:57:59.562 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
2025-02-25 01:57:59.564 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.565 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:57:59.566 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:57:59.569 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:59.569 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 199.8158ms
2025-02-25 01:57:59.570 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:57:59.578 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
2025-02-25 01:57:59.583 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:57:59.584 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.584 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:57:59.585 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.5581ms
2025-02-25 01:57:59.587 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:57:59.593 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:57:59.594 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.595 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 73.5261ms
2025-02-25 01:57:59.596 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:57:59.598 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:59.606 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.611 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
2025-02-25 01:57:59.612 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 20.917ms
2025-02-25 01:57:59.613 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:57:59.613 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:57:59.614 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:57:59.615 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:57:59.616 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:57:59.617 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 67.7446ms
2025-02-25 01:57:59.620 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:57:59.624 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.628 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:57:59'.
2025-02-25 01:57:59.629 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.7645ms
2025-02-25 01:57:59.630 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:57:59.634 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:57:59.634 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:57:59.635 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 48.1292ms
2025-02-25 01:57:59.642 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:57:59.650 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:57:59.652 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.4265ms
2025-02-25 01:57:59.653 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:57:59.655 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 41.4407ms
2025-02-25 01:58:16.770 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:58:16.770 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:58:16.770 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:58:16.771 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:16.772 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:16.773 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:16.774 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:16.775 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:16.776 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:16.777 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:16.778 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:16.779 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:16.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:58:16.790 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:58:16.793 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:16.794 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:58:16.800 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:16.801 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 20.4217ms
2025-02-25 01:58:16.802 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:58:16.805 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 19.5968ms
2025-02-25 01:58:16.806 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:16.806 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:58:16.807 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:16.808 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:16.809 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 38.9786ms
2025-02-25 01:58:16.810 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:16.811 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:16.812 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 41.8960ms
2025-02-25 01:58:16.815 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:16.816 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:16.818 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:16.823 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:16.824 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:58:16.827 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 38.2874ms
2025-02-25 01:58:16.827 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:58:16.828 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:58:16.832 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:16.833 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:16.834 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:16.837 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:16.839 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 18.3673ms
2025-02-25 01:58:16.840 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 69.7037ms
2025-02-25 01:58:16.841 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:16.843 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 20.213ms
2025-02-25 01:58:16.846 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:16.848 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:16.849 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:16.850 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 48.2648ms
2025-02-25 01:58:16.854 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 47.6859ms
2025-02-25 01:58:16.857 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:58:16.883 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:16.885 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 32.263ms
2025-02-25 01:58:16.887 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:16.888 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 60.6789ms
2025-02-25 01:58:17.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:58:17.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:58:17.781 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:58:17.782 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:17.783 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:17.784 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:17.785 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:17.786 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:17.787 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:17.788 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:17.789 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:17.790 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:17.798 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:58:17.802 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:58:17.806 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:58:17.812 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:17.815 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:17.817 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 20.1706ms
2025-02-25 01:58:17.821 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:17.820 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:58:17.822 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:58:17.820 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 20.0261ms
2025-02-25 01:58:17.823 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 41.8454ms
2025-02-25 01:58:17.827 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:17.828 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:17.829 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:17.833 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:17.834 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:17.835 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:17.836 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 54.9433ms
2025-02-25 01:58:17.839 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 47.0333ms
2025-02-25 01:58:17.841 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:58:17.841 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:17.843 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:17.846 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:17.847 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:17.852 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 71.9554ms
2025-02-25 01:58:17.857 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:58:17.854 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:17.854 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:58:17.861 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:17.862 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:17.864 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:17.867 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 15.7301ms
2025-02-25 01:58:17.874 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 25.1849ms
2025-02-25 01:58:17.875 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:17.876 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:58:17.878 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:17.880 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 58.0929ms
2025-02-25 01:58:17.885 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 65.2772ms
2025-02-25 01:58:17.908 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:17.910 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 38.4612ms
2025-02-25 01:58:17.911 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:17.912 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 70.9008ms
2025-02-25 01:58:18.686 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:58:18.686 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:58:18.686 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:58:18.687 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:18.688 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:18.689 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:18.690 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:18.690 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:18.691 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:18.693 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:18.694 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:18.695 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:18.702 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:58:18.705 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:58:18.715 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:18.716 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 15.6458ms
2025-02-25 01:58:18.718 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:18.718 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 01:58:18.718 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 31.9479ms
2025-02-25 01:58:18.723 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:18.725 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:18.729 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:18.735 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:18.736 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 01:58:18.739 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 41.3216ms
2025-02-25 01:58:18.739 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 01:58:18.743 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:18.743 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:18.745 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:18.746 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 14.2042ms
2025-02-25 01:58:18.747 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 61.3760ms
2025-02-25 01:58:18.749 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:18.750 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 01:58:18.753 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:18.754 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 36.5967ms
2025-02-25 01:58:18.766 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 01:58:18.770 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:58:18.777 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:18.778 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 74.1858ms
2025-02-25 01:58:18.779 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 01:58:18.779 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:18.780 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:18.781 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 95.3703ms
2025-02-25 01:58:18.783 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:18.786 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 01:58:18.797 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:18.799 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 01:58:18.801 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 42.2078ms
2025-02-25 01:58:18.806 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:18.807 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 01:58:18.809 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 17.0882ms
2025-02-25 01:58:18.811 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 71.2612ms
2025-02-25 01:58:18.812 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 01:58:18.815 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 35.3942ms
2025-02-25 01:58:19.529 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 01:58:19.531 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:19.534 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 5.4780ms
2025-02-25 01:58:19.536 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 01:58:19.538 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:19.541 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:19.553 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:19'.
2025-02-25 01:58:19.555 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:58:19.556 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:58:19.564 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:58:19.573 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 01:58:19.577 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:19.578 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 20.4997ms
2025-02-25 01:58:19.582 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 01:58:19.583 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 46.6590ms
2025-02-25 01:58:19.704 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 01:58:19.706 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 01:58:19.707 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 01:58:19.707 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 01:58:19.709 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:19.710 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:19.711 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:19.714 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:19.715 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 10.1144ms
2025-02-25 01:58:19.716 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 10.5453ms
2025-02-25 01:58:19.722 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 01:58:19.717 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 9.9484ms
2025-02-25 01:58:19.718 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 10.6907ms
2025-02-25 01:58:19.724 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 01:58:19.726 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:19.731 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:19.733 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:19.736 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:58:19.750 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:19'.
2025-02-25 01:58:19.753 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:58:19.756 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:58:19.761 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:58:19.771 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:58:19.777 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:58:19.784 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:19.789 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:19.792 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 32.012ms
2025-02-25 01:58:19.794 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 29.073ms
2025-02-25 01:58:19.806 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:58:19.806 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 01:58:19.815 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 91.7511ms
2025-02-25 01:58:19.808 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:58:19.818 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 01:58:19.820 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:19.824 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 102.1196ms
2025-02-25 01:58:19.836 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:19.837 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:58:19.848 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:19.848 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:58:19.870 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:19'.
2025-02-25 01:58:19.883 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:58:19.886 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:58:19.939 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:58:19.940 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:58:19.947 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:19.954 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:19.957 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 75.6927ms
2025-02-25 01:58:19.960 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 32.313ms
2025-02-25 01:58:19.962 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:58:19.965 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:58:19.966 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 160.1263ms
2025-02-25 01:58:19.967 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 149.0316ms
2025-02-25 01:58:21.892 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:58:21.894 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:58:21.897 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.898 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:58:21.898 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.893 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:58:21.902 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.900 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 6.9990ms
2025-02-25 01:58:21.903 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 8.4550ms
2025-02-25 01:58:21.899 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:58:21.907 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 9.1559ms
2025-02-25 01:58:21.899 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:58:21.906 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.893 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 01:58:21.894 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 01:58:21.894 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 01:58:21.921 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.905 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:58:21.913 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:58:21.914 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.917 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.918 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 24.3878ms
2025-02-25 01:58:21.919 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.920 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.932 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:58:21.925 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 26.6815ms
2025-02-25 01:58:21.927 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 27.8188ms
2025-02-25 01:58:21.922 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 27.6545ms
2025-02-25 01:58:21.898 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 01:58:21.923 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.932 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:21.924 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.935 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:58:21.961 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:21'.
2025-02-25 01:58:21.966 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:58:21.951 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:21.963 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:21.968 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:58:21.947 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:21.973 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:58:21.984 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:21'.
2025-02-25 01:58:21.987 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 89.0749ms
2025-02-25 01:58:21.979 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:21'.
2025-02-25 01:58:21.992 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:58:21.992 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:21.993 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:58:21.995 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:58:21.998 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:22.001 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:58:22.003 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 16.9639ms
2025-02-25 01:58:22.001 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 01:58:22.002 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:58:22.010 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:58:22.006 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 01:58:22.013 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:58:22.011 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:22.000 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 34.6673ms
2025-02-25 01:58:22.015 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 122.1570ms
2025-02-25 01:58:22.016 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:22.018 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:22.024 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:22.022 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:58:22.027 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:22.030 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:58:22.030 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 21.7682ms
2025-02-25 01:58:22.030 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:58:22.028 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.3623ms
2025-02-25 01:58:22.024 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:58:22.031 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:58:22.041 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:22.056 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:22.041 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
2025-02-25 01:58:22.057 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:22.043 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:58:22.054 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 01:58:22.049 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:58:22.074 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 169.1981ms
2025-02-25 01:58:22.058 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:22.059 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:58:22.095 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 01:58:22.069 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 156.3011ms
2025-02-25 01:58:22.073 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:22.051 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 156.2874ms
2025-02-25 01:58:22.094 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
2025-02-25 01:58:22.065 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
2025-02-25 01:58:22.106 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 01:58:22.104 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 55.6011ms
2025-02-25 01:58:22.108 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:58:22.109 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:58:22.113 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:22.116 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 01:58:22.117 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:58:22.118 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:58:22.120 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 19.9524ms
2025-02-25 01:58:22.121 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 120.4609ms
2025-02-25 01:58:22.128 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 01:58:22.130 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:58:22.133 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:22.134 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 127.5325ms
2025-02-25 01:58:22.138 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.8357ms
2025-02-25 01:58:22.140 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:58:22.142 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:22.141 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:58:22.140 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:22.144 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:22.146 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 116.6636ms
2025-02-25 01:58:22.148 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 24.3313ms
2025-02-25 01:58:22.149 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:58:22.154 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
2025-02-25 01:58:22.156 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:58:22.157 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:22.158 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:58:22.162 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 130.9584ms
2025-02-25 01:58:22.163 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:22.164 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:58:22.173 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
2025-02-25 01:58:22.180 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:58:22.181 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:22.181 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:58:22.183 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.5238ms
2025-02-25 01:58:22.186 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 01:58:22.188 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:58:22.189 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:22.190 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:58:22.193 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 53.4564ms
2025-02-25 01:58:22.195 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:22.202 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:22.209 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
2025-02-25 01:58:22.210 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 24.6923ms
2025-02-25 01:58:22.216 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:58:22.213 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:58:22.212 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 01:58:22.217 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 68.0350ms
2025-02-25 01:58:22.222 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:58:22.223 +01:00 [INF] CORS policy execution successful.
2025-02-25 01:58:22.230 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 01:58:22.231 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:22.243 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 00:58:22'.
2025-02-25 01:58:22.244 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.2057ms
2025-02-25 01:58:22.247 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 01:58:22.246 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:58:22.251 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 65.8787ms
2025-02-25 01:58:22.252 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 01:58:22.265 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 01:58:22.274 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 01:58:22.277 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 18.6348ms
2025-02-25 01:58:22.279 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 01:58:22.281 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 69.6924ms
2025-02-25 02:00:35.245 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:00:35.245 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:00:35.246 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.247 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.255 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 10.3817ms
2025-02-25 02:00:35.260 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 15.4243ms
2025-02-25 02:00:35.248 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 02:00:35.253 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:00:35.246 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 02:00:35.256 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:00:35.263 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:00:35.269 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:00:35.269 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 02:00:35.271 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 02:00:35.272 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.274 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.275 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.276 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.278 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.300 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 37.2350ms
2025-02-25 02:00:35.279 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.308 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 38.4203ms
2025-02-25 02:00:35.281 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 33.4663ms
2025-02-25 02:00:35.285 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 32.8503ms
2025-02-25 02:00:35.288 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 41.2915ms
2025-02-25 02:00:35.309 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:00:35.281 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.312 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:00:35.298 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 42.4436ms
2025-02-25 02:00:35.307 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:00:35.335 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.321 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:00:35.322 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:00:35.325 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.327 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 55.7891ms
2025-02-25 02:00:35.332 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.334 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:00:35.340 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 30.4559ms
2025-02-25 02:00:35.337 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.339 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.348 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:00:35.360 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:00:35.349 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.336 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 28.4072ms
2025-02-25 02:00:35.404 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
2025-02-25 02:00:35.419 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
2025-02-25 02:00:35.387 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:00:35.278 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.434 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 165.5254ms
2025-02-25 02:00:35.429 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:00:35.431 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:00:35.433 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:00:35.421 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:00:35.437 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:00:35.438 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:00:35.461 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:00:35.489 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.533 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.473 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
2025-02-25 02:00:35.553 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 73.2285ms
2025-02-25 02:00:35.555 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:00:35.662 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.556 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:00:35.647 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:00:35.667 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.554 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 100.2294ms
2025-02-25 02:00:35.665 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:00:35.668 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:00:35.658 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:00:35.670 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:00:35.666 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:00:35.702 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:00:35.727 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
2025-02-25 02:00:35.728 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:00:35.729 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 416.4980ms
2025-02-25 02:00:35.730 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 408.0218ms
2025-02-25 02:00:35.738 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:00:35.741 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.743 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:00:35.745 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:00:35.750 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 235.2648ms
2025-02-25 02:00:35.764 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:00:35.765 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 444.4626ms
2025-02-25 02:00:35.758 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.766 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.766 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:00:35.770 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 38.2636ms
2025-02-25 02:00:35.772 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.6349ms
2025-02-25 02:00:35.767 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:00:35.772 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:00:35.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:00:35.775 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.776 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:00:35.778 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:00:35.779 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.780 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.787 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 453.3558ms
2025-02-25 02:00:35.789 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 233.7300ms
2025-02-25 02:00:35.786 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 45.4573ms
2025-02-25 02:00:35.795 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:00:35.781 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.799 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 151.7427ms
2025-02-25 02:00:35.790 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:00:35.791 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:00:35.805 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:00:35.815 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
2025-02-25 02:00:35.824 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
2025-02-25 02:00:35.831 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
2025-02-25 02:00:35.834 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:00:35.835 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:00:35.837 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:00:35.838 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:00:35.839 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:00:35.840 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:00:35.847 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:00:35.852 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.853 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:00:35.855 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.5543ms
2025-02-25 02:00:35.857 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:00:35.857 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.859 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.861 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.860 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:00:35.867 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 22.791ms
2025-02-25 02:00:35.863 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:00:35.862 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 20.3452ms
2025-02-25 02:00:35.868 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:00:35.868 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 95.0540ms
2025-02-25 02:00:35.870 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:00:35.870 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.872 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:00:35.879 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
2025-02-25 02:00:35.883 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 111.0056ms
2025-02-25 02:00:35.885 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:00:35.885 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 118.7630ms
2025-02-25 02:00:35.887 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:00:35.900 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
2025-02-25 02:00:35.902 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:00:35.903 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:00:35.907 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:00:35.909 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.914 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.1112ms
2025-02-25 02:00:35.915 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:00:35.916 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:00:35.921 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 64.6163ms
2025-02-25 02:00:35.924 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.925 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 15.1093ms
2025-02-25 02:00:35.926 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:00:35.926 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:00:35.929 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 66.0667ms
2025-02-25 02:00:35.930 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:00:35.933 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:00:35.939 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:00:35'.
2025-02-25 02:00:35.941 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:00:35.942 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:00:35.952 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:00:35.958 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:00:35.961 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.3397ms
2025-02-25 02:00:35.962 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:00:35.963 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 37.3240ms
2025-02-25 02:01:46.684 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:01:46.685 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:01:46.686 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.686 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 02:01:46.688 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:01:46.692 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 7.5766ms
2025-02-25 02:01:46.695 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.688 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:01:46.687 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.687 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 02:01:46.700 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:01:46.704 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:01:46.705 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.706 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 02:01:46.707 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 21.3190ms
2025-02-25 02:01:46.708 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.709 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 24.6884ms
2025-02-25 02:01:46.710 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.711 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.712 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.713 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 24.7205ms
2025-02-25 02:01:46.714 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.715 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 02:01:46.716 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 28.3769ms
2025-02-25 02:01:46.720 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:01:46.721 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 33.2282ms
2025-02-25 02:01:46.721 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 20.9472ms
2025-02-25 02:01:46.722 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 17.9244ms
2025-02-25 02:01:46.723 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:01:46.724 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 18.2405ms
2025-02-25 02:01:46.725 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.726 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:46.727 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.733 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:01:46.733 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:46.733 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:01:46.734 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.737 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 21.6292ms
2025-02-25 02:01:46.738 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.739 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 19.8199ms
2025-02-25 02:01:46.743 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 19.5974ms
2025-02-25 02:01:46.740 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.741 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.745 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:46.748 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:46.742 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.751 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:46.755 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
2025-02-25 02:01:46.761 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
2025-02-25 02:01:46.762 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:46.770 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
2025-02-25 02:01:46.771 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:46.773 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:46.773 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:46.775 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:46.775 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:46.776 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:46.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:01:46.782 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:46.790 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:46.788 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:46.796 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 17.1771ms
2025-02-25 02:01:46.801 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:46.802 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 17.7746ms
2025-02-25 02:01:46.802 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:01:46.792 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:01:46.804 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:46.804 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:46.809 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:46.810 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.812 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:46.816 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:46.816 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.817 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 83.7765ms
2025-02-25 02:01:46.826 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:01:46.818 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 91.6168ms
2025-02-25 02:01:46.820 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:46.821 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 28.1405ms
2025-02-25 02:01:46.823 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:46.824 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 37.2834ms
2025-02-25 02:01:46.827 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:46.832 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.834 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:46.850 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
2025-02-25 02:01:46.852 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:46.859 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:46.859 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:01:46.836 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:46.837 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.838 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:46.871 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:46.870 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
2025-02-25 02:01:46.877 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:46.878 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 145.3268ms
2025-02-25 02:01:46.880 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:46.881 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 148.0209ms
2025-02-25 02:01:46.885 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:46.886 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:46.886 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 31.4729ms
2025-02-25 02:01:46.898 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
2025-02-25 02:01:46.901 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 18.4602ms
2025-02-25 02:01:46.908 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:46.903 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:46.903 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:46.906 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:46.900 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:46.909 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 104.5884ms
2025-02-25 02:01:46.910 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 108.7717ms
2025-02-25 02:01:46.911 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.912 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:46.918 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:01:46.918 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:46.926 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:46.926 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:46.932 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
2025-02-25 02:01:46.939 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 24.9932ms
2025-02-25 02:01:46.940 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:46.940 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:46.941 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:46.942 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:46.944 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 22.2942ms
2025-02-25 02:01:46.946 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 119.7381ms
2025-02-25 02:01:46.947 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:46.951 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:46.952 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:46.954 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.956 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.7818ms
2025-02-25 02:01:46.958 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 134.7861ms
2025-02-25 02:01:46.958 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:46.960 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:46.961 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:46.963 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:46.974 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
2025-02-25 02:01:46.975 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 71.7283ms
2025-02-25 02:01:46.976 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:46.977 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:46.990 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:46'.
2025-02-25 02:01:46.991 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:46.993 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:46.997 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:47.002 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:47.009 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:47.023 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 18.5976ms
2025-02-25 02:01:47.024 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:47.024 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:47.025 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 67.5467ms
2025-02-25 02:01:47.027 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 31.1388ms
2025-02-25 02:01:47.048 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:47.050 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:47.051 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:47.052 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 104.8532ms
2025-02-25 02:01:47.053 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:47.063 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:47'.
2025-02-25 02:01:47.064 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:47.065 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:47.073 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:47.092 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:47.093 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 25.8139ms
2025-02-25 02:01:47.094 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:47.095 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 46.7664ms
2025-02-25 02:01:48.654 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:48.654 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:48.655 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.656 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.656 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:01:48.656 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:01:48.658 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:48.660 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:48.660 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.661 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.671 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
2025-02-25 02:01:48.683 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
2025-02-25 02:01:48.684 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:48.685 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:48.686 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:48.688 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:48.689 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:48.697 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
2025-02-25 02:01:48.698 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:48.700 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:48.705 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:48.709 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:01:48.716 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:48.713 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:48.711 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.723 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.3669ms
2025-02-25 02:01:48.717 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.723 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.732 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:01:48.726 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 23.2791ms
2025-02-25 02:01:48.735 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 23.3947ms
2025-02-25 02:01:48.736 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.724 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:48.724 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:48.726 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:01:48.738 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:48.739 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:48.737 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:48.737 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:48.740 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.741 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 87.1036ms
2025-02-25 02:01:48.751 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 96.7181ms
2025-02-25 02:01:48.752 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:48.753 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 96.5291ms
2025-02-25 02:01:48.754 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.750 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.767 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:01:48.765 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:48.755 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:48.768 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 46.9107ms
2025-02-25 02:01:48.770 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:01:48.773 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.784 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
2025-02-25 02:01:48.796 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
2025-02-25 02:01:48.797 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:48.798 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.800 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 38ms
2025-02-25 02:01:48.801 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:48.805 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:48.807 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 151.6272ms
2025-02-25 02:01:48.810 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:48.810 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:48.812 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:48.813 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:48.826 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
2025-02-25 02:01:48.837 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.827 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 94.9233ms
2025-02-25 02:01:48.838 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:48.840 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.4061ms
2025-02-25 02:01:48.837 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:48.842 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:48.845 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:48.847 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:48.848 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.848 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.849 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 125.2793ms
2025-02-25 02:01:48.857 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:48.857 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:48.856 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 26.1566ms
2025-02-25 02:01:48.858 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:01:48.860 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.871 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
2025-02-25 02:01:48.880 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:48.878 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.879 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:48.872 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:48.886 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:48.887 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 33.6857ms
2025-02-25 02:01:48.896 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
2025-02-25 02:01:48.898 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 160.5443ms
2025-02-25 02:01:48.905 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:48.906 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.906 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:48.910 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 139.3333ms
2025-02-25 02:01:48.912 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:48.911 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.408ms
2025-02-25 02:01:48.913 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:48.919 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:48.920 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.921 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 79.2197ms
2025-02-25 02:01:48.923 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:48.922 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:48.934 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
2025-02-25 02:01:48.939 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:48.940 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:48.941 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.945 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.946 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 28.3621ms
2025-02-25 02:01:48.949 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:48.948 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.3651ms
2025-02-25 02:01:48.952 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:48.950 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 93.2396ms
2025-02-25 02:01:48.948 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:48.953 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 39.9332ms
2025-02-25 02:01:48.955 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:48.957 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:48.968 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:48'.
2025-02-25 02:01:48.970 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:48.971 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:48.977 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:48.983 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:48.986 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.4171ms
2025-02-25 02:01:48.987 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:48.988 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 40.3178ms
2025-02-25 02:01:56.221 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:01:56.221 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:01:56.222 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.224 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.225 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 4.4651ms
2025-02-25 02:01:56.226 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:01:56.226 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 5.1261ms
2025-02-25 02:01:56.223 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 02:01:56.224 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 02:01:56.226 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:56.225 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:01:56.228 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:56.229 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.232 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.234 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.235 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.238 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 12.1405ms
2025-02-25 02:01:56.241 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:01:56.239 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 15.9741ms
2025-02-25 02:01:56.240 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 15.7725ms
2025-02-25 02:01:56.237 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.236 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.247 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.243 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:01:56.243 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:56.252 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:56.253 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 27.8579ms
2025-02-25 02:01:56.254 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:56.255 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.294 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:56.281 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
2025-02-25 02:01:56.293 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
2025-02-25 02:01:56.298 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:56.295 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:56.296 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:56.271 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
2025-02-25 02:01:56.299 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:56.307 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:01:56.305 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:56.316 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:01:56.321 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:56.315 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.309 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:56.323 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.326 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 23.0329ms
2025-02-25 02:01:56.328 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 17.1909ms
2025-02-25 02:01:56.328 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.327 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:56.331 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:56.332 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.4143ms
2025-02-25 02:01:56.330 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:56.329 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:01:56.327 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:01:56.333 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:56.337 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.337 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 96.4891ms
2025-02-25 02:01:56.338 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:56.342 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.339 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 95.8216ms
2025-02-25 02:01:56.345 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 116.6110ms
2025-02-25 02:01:56.344 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:56.343 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.9879ms
2025-02-25 02:01:56.340 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.341 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.346 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:56.349 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.350 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:56.359 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
2025-02-25 02:01:56.353 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:56.354 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:56.362 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:56.363 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 136.1740ms
2025-02-25 02:01:56.364 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:56.377 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
2025-02-25 02:01:56.379 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:56.394 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
2025-02-25 02:01:56.397 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:56.407 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:56.401 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:56.410 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:01:56.413 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:56.414 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:56.415 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:56.426 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.421 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.438 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.437 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 13.3934ms
2025-02-25 02:01:56.443 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:56.442 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 30.0452ms
2025-02-25 02:01:56.439 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 34.1384ms
2025-02-25 02:01:56.433 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:01:56.439 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:56.443 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:56.445 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 100.7933ms
2025-02-25 02:01:56.447 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:56.450 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:56.457 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.458 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.459 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.465 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 131.8740ms
2025-02-25 02:01:56.471 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:56.467 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 139.4193ms
2025-02-25 02:01:56.469 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 42.2846ms
2025-02-25 02:01:56.472 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:56.491 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
2025-02-25 02:01:56.496 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:56.512 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
2025-02-25 02:01:56.514 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:56.516 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 186.4146ms
2025-02-25 02:01:56.517 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:56.519 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:56.522 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:56.529 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.533 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.2263ms
2025-02-25 02:01:56.534 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:56.536 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:56.534 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:56.538 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 99.0616ms
2025-02-25 02:01:56.543 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.545 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.546 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:56.546 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 15.6356ms
2025-02-25 02:01:56.548 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:56.554 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
2025-02-25 02:01:56.558 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:56.559 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:56.560 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:56.562 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 119.0352ms
2025-02-25 02:01:56.563 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:56.565 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:56.581 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:56'.
2025-02-25 02:01:56.585 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:56.587 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.588 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:56.590 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.2282ms
2025-02-25 02:01:56.594 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:56.595 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 61.0926ms
2025-02-25 02:01:56.597 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:56.605 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:56.606 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.3751ms
2025-02-25 02:01:56.608 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:56.609 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 60.9886ms
2025-02-25 02:01:58.289 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:58.290 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:58.290 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:01:58.291 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.291 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:01:58.295 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.292 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.295 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:58.293 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.296 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:58.297 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:58.306 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
2025-02-25 02:01:58.308 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:58.309 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:58.322 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
2025-02-25 02:01:58.323 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:58.334 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
2025-02-25 02:01:58.338 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:58.339 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:58.341 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:01:58.345 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:58.346 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:58.350 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.351 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.352 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:58.356 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:58.358 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:01:58.358 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:58.365 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:01:58.362 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.363 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.370 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.370 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.372 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 10.7349ms
2025-02-25 02:01:58.371 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:58.377 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:58.374 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:01:58.371 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:58.385 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 94.6285ms
2025-02-25 02:01:58.378 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:58.384 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
2025-02-25 02:01:58.387 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.376 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 22.6092ms
2025-02-25 02:01:58.394 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.396 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:58.397 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:58.392 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:58.398 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:58.355 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.6836ms
2025-02-25 02:01:58.356 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 19.9127ms
2025-02-25 02:01:58.399 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:58.400 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:58.407 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
2025-02-25 02:01:58.411 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 120.8793ms
2025-02-25 02:01:58.412 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:58.414 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:58.413 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:01:58.420 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
2025-02-25 02:01:58.426 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:58.427 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.428 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 138.6172ms
2025-02-25 02:01:58.429 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 138.0250ms
2025-02-25 02:01:58.434 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:58.440 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.8696ms
2025-02-25 02:01:58.435 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:01:58.441 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:58.433 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.443 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:58.444 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:58.452 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:01:58.458 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:58.455 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 99.5462ms
2025-02-25 02:01:58.448 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.450 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 41.1888ms
2025-02-25 02:01:58.460 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.465 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:58.465 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.465 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:01:58.477 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 22.739ms
2025-02-25 02:01:58.467 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 19.9598ms
2025-02-25 02:01:58.475 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
2025-02-25 02:01:58.479 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:58.479 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 120.6003ms
2025-02-25 02:01:58.480 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:58.481 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:01:58.482 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:58.483 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.487 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 109.3669ms
2025-02-25 02:01:58.488 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 114.4232ms
2025-02-25 02:01:58.489 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:58.490 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:58.497 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.503 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
2025-02-25 02:01:58.506 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:01:58.505 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 10.6338ms
2025-02-25 02:01:58.507 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:58.507 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.509 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:58.510 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:58.511 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:58.511 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 70.3230ms
2025-02-25 02:01:58.517 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:58.523 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
2025-02-25 02:01:58.527 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:58.528 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:58.529 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.533 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 19.5701ms
2025-02-25 02:01:58.533 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.534 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:58.534 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:01:58.535 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.6754ms
2025-02-25 02:01:58.536 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 57.5827ms
2025-02-25 02:01:58.537 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:01:58.537 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:01:58.539 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:01:58.540 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 34.1562ms
2025-02-25 02:01:58.544 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:01:58'.
2025-02-25 02:01:58.549 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:58.549 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:01:58.554 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:01:58.560 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:01:58.564 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.0511ms
2025-02-25 02:01:58.565 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:01:58.566 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 31.8383ms
2025-02-25 02:02:05.477 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:02:05.479 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:02:05.480 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:02:05.498 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.479 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 02:02:05.481 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 02:02:05.478 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:02:05.479 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 02:02:05.487 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 02:02:05.519 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.488 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:02:05.481 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:02:05.500 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:02:05.523 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.514 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.515 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 37.3436ms
2025-02-25 02:02:05.512 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.524 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 44.2359ms
2025-02-25 02:02:05.540 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:02:05.515 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.516 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.517 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.518 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.551 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 70.7417ms
2025-02-25 02:02:05.547 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 67.0756ms
2025-02-25 02:02:05.549 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.550 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 71.7003ms
2025-02-25 02:02:05.552 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 74.5074ms
2025-02-25 02:02:05.595 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 115.8421ms
2025-02-25 02:02:05.520 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 38.6151ms
2025-02-25 02:02:05.480 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:02:05.521 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.522 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.523 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 23.5278ms
2025-02-25 02:02:05.540 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:05.595 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:05.618 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:05.627 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.628 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 140.8444ms
2025-02-25 02:02:05.629 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 147.8568ms
2025-02-25 02:02:05.632 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.633 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:05.634 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:05.635 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 154.6303ms
2025-02-25 02:02:05.640 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:05.641 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:05.660 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:05'.
2025-02-25 02:02:05.669 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:05.667 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:05'.
2025-02-25 02:02:05.691 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:05.675 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:05.660 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:02:05.697 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:05.708 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:05.715 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:05.755 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:05.760 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 117.1278ms
2025-02-25 02:02:05.762 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 58.7942ms
2025-02-25 02:02:05.767 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:05.768 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:05.769 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:05.772 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 0 - application/json;+charset=utf-8 231.9186ms
2025-02-25 02:02:05.782 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 63.7209ms
2025-02-25 02:02:05.782 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 0 - application/json;+charset=utf-8 242.5838ms
2025-02-25 02:02:05.786 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:05.790 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 0 - application/json;+charset=utf-8 195.2397ms
2025-02-25 02:02:06.234 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:06.234 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:06.236 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:02:06.237 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:02:06.240 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.241 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.243 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.242 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.252 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:06.252 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:06.251 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:06.247 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:06.267 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
2025-02-25 02:02:06.287 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:06.288 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:06.246 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:06.287 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:02:06.285 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
2025-02-25 02:02:06.296 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:02:06.306 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
2025-02-25 02:02:06.320 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:06.314 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:06.322 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:06.313 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.321 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:06.336 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:06.332 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 77.5744ms
2025-02-25 02:02:06.317 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.338 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:02:06.348 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.349 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:06.345 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 55.4532ms
2025-02-25 02:02:06.352 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:06.342 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.350 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:06.347 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.374 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 45.8131ms
2025-02-25 02:02:06.353 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 116.4770ms
2025-02-25 02:02:06.376 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:06.399 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 164.7508ms
2025-02-25 02:02:06.344 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:06.369 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:02:06.396 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:02:06.370 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 32.0957ms
2025-02-25 02:02:06.465 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:06.465 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:06.468 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 232.3064ms
2025-02-25 02:02:06.469 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.475 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.482 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.480 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.486 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:06.521 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:06.516 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 143.7183ms
2025-02-25 02:02:06.475 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:06.583 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 348.4919ms
2025-02-25 02:02:06.539 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
2025-02-25 02:02:06.580 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:06.589 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 251.1128ms
2025-02-25 02:02:06.528 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:06.587 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:06.581 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
2025-02-25 02:02:06.612 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
2025-02-25 02:02:06.613 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:06.617 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:06.622 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:06.619 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:06.635 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:02:06.636 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:06.647 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.647 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:06.653 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.654 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 33.0687ms
2025-02-25 02:02:06.659 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.3857ms
2025-02-25 02:02:06.661 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:06.661 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.662 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:06.663 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:06.664 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 295.7067ms
2025-02-25 02:02:06.666 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 40.2274ms
2025-02-25 02:02:06.667 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.668 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 202.9714ms
2025-02-25 02:02:06.670 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:06.673 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:06.674 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:06.675 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 209.4838ms
2025-02-25 02:02:06.683 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
2025-02-25 02:02:06.684 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.687 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:06.688 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:06.689 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:06.698 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
2025-02-25 02:02:06.702 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:06.703 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:06.703 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.707 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.2073ms
2025-02-25 02:02:06.711 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:06.711 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:06.711 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:06.712 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 49.6965ms
2025-02-25 02:02:06.713 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.719 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:06.720 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.731 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 25.603ms
2025-02-25 02:02:06.727 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
2025-02-25 02:02:06.732 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:06.734 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:06.734 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:06.735 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 61.0655ms
2025-02-25 02:02:06.736 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:06.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:06.745 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:06.746 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.751 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:06'.
2025-02-25 02:02:06.753 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9.5541ms
2025-02-25 02:02:06.757 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:06.758 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:06.759 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:06.761 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 49.8295ms
2025-02-25 02:02:06.769 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:06.778 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:06.789 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 26.0596ms
2025-02-25 02:02:06.793 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:06.795 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 60.9107ms
2025-02-25 02:02:08.326 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:08.326 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:02:08.326 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:08.327 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:02:08.359 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.362 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.364 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.363 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.371 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:08.376 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:08.374 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:08.378 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:08.390 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
2025-02-25 02:02:08.391 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:08.400 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
2025-02-25 02:02:08.409 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
2025-02-25 02:02:08.417 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:08.419 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:08.410 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:08.420 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:02:08.421 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:08.422 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:08.424 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:08.427 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.438 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:02:08.441 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:08.440 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 25.7485ms
2025-02-25 02:02:08.440 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.441 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:02:08.446 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.452 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.454 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 22.8292ms
2025-02-25 02:02:08.456 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 22.528ms
2025-02-25 02:02:08.453 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:08.464 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.453 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.466 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:08.462 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:08.456 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:02:08.449 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:08.461 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:08.452 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 15.9977ms
2025-02-25 02:02:08.466 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:08.461 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:08.468 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:08.469 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 142.5419ms
2025-02-25 02:02:08.471 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.475 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 148.1030ms
2025-02-25 02:02:08.493 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 166.6712ms
2025-02-25 02:02:08.489 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
2025-02-25 02:02:08.510 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:08.507 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:02:08.477 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.478 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:08.511 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:08.500 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:08.563 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:08.563 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.563 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 237.1728ms
2025-02-25 02:02:08.573 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.596 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 26.5919ms
2025-02-25 02:02:08.578 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
2025-02-25 02:02:08.589 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 93.6966ms
2025-02-25 02:02:08.587 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
2025-02-25 02:02:08.599 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:08.600 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:08.601 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:08.603 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:08.605 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:08.605 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.606 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 152.7558ms
2025-02-25 02:02:08.607 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:08.608 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 166.8627ms
2025-02-25 02:02:08.609 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:08.611 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:08.626 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:08.621 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:02:08.630 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
2025-02-25 02:02:08.636 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.636 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.637 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:08.639 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 16.9035ms
2025-02-25 02:02:08.640 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:08.640 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 24.1911ms
2025-02-25 02:02:08.641 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:08.643 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:08.652 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 191.9196ms
2025-02-25 02:02:08.648 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:08.643 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.654 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.656 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 199.9129ms
2025-02-25 02:02:08.657 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:08.660 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 10.1483ms
2025-02-25 02:02:08.662 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:08.668 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
2025-02-25 02:02:08.669 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:08.670 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.671 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:08.672 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 72.7557ms
2025-02-25 02:02:08.673 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:08.676 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:08.683 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
2025-02-25 02:02:08.685 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:08.686 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:08.688 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:08.693 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.695 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.9935ms
2025-02-25 02:02:08.696 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:08.696 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.697 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 34.8131ms
2025-02-25 02:02:08.698 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.0502ms
2025-02-25 02:02:08.699 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:08.700 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:08.701 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:08.702 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 62.2968ms
2025-02-25 02:02:08.703 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:08.712 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:08'.
2025-02-25 02:02:08.714 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:08.715 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:08.723 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:08.729 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:08.731 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.312ms
2025-02-25 02:02:08.732 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:08.733 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 33.6898ms
2025-02-25 02:02:10.741 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:02:10.742 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 02:02:10.741 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:02:10.745 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.747 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 5.8654ms
2025-02-25 02:02:10.742 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:02:10.742 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:02:10.742 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 02:02:10.742 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:02:10.742 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:02:10.742 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:02:10.742 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 02:02:10.743 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.744 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.742 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:02:10.764 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.753 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.754 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.755 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.757 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.758 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.759 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.760 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.761 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 20.0165ms
2025-02-25 02:02:10.764 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 21.9197ms
2025-02-25 02:02:10.742 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 02:02:10.767 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 25.4989ms
2025-02-25 02:02:10.768 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 26.5527ms
2025-02-25 02:02:10.770 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 28.2347ms
2025-02-25 02:02:10.773 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 31.0469ms
2025-02-25 02:02:10.772 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 29.3810ms
2025-02-25 02:02:10.777 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.780 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:10.774 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 32.0477ms
2025-02-25 02:02:10.774 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 32.2820ms
2025-02-25 02:02:10.772 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 30.1712ms
2025-02-25 02:02:10.787 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:10.787 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:02:10.788 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:02:10.788 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 46.4499ms
2025-02-25 02:02:10.789 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.793 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.795 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.797 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:10.794 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.800 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:10.800 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:10.805 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
2025-02-25 02:02:10.806 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:10.811 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
2025-02-25 02:02:10.812 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:10.815 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:10.822 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
2025-02-25 02:02:10.823 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:10.826 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:10.829 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:10.829 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:02:10.838 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:10.842 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:10.843 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.493ms
2025-02-25 02:02:10.846 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:10.848 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 23.5798ms
2025-02-25 02:02:10.827 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:10.838 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:10.850 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:10.850 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:02:10.851 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.852 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:10.858 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.857 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 70.1396ms
2025-02-25 02:02:10.853 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:10.859 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:10.867 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:10.881 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:10.863 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:10.864 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 76.5472ms
2025-02-25 02:02:10.892 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:02:10.884 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:10.901 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.879 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 46.8273ms
2025-02-25 02:02:10.897 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
2025-02-25 02:02:10.900 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:10.879 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:02:10.903 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:10.904 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:10.905 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:10.906 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 20.9985ms
2025-02-25 02:02:10.912 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:10.917 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
2025-02-25 02:02:10.918 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:10.920 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:02:10.922 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 48.8633ms
2025-02-25 02:02:10.918 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 137.7966ms
2025-02-25 02:02:10.924 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:02:10.926 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:10.930 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 79.6720ms
2025-02-25 02:02:10.931 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:10.931 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:10.933 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.934 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:10.941 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 13.0719ms
2025-02-25 02:02:10.942 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:10.939 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 152.4750ms
2025-02-25 02:02:10.946 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:10.942 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:10.947 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.948 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:10.950 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 104.2021ms
2025-02-25 02:02:10.959 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
2025-02-25 02:02:10.960 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:10.964 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:10.965 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:10.973 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
2025-02-25 02:02:10.974 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:10.976 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 30.88ms
2025-02-25 02:02:10.977 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:10.977 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:10.980 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:10.981 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:10.986 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:02:10.982 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:10.987 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 103.2991ms
2025-02-25 02:02:10.988 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:10.993 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:10.998 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:11.006 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:10'.
2025-02-25 02:02:11.011 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:02:11.008 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 29.0316ms
2025-02-25 02:02:11.010 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.275ms
2025-02-25 02:02:11.011 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:11.011 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:11.015 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:02:11.017 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:11.016 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:11.018 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:11.025 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:11.019 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 95.0145ms
2025-02-25 02:02:11.023 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 80.7213ms
2025-02-25 02:02:11.030 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:11'.
2025-02-25 02:02:11.036 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:11.037 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:11.038 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 16.3971ms
2025-02-25 02:02:11.039 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:02:11.039 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:11.040 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:11.041 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:11.046 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 68.8717ms
2025-02-25 02:02:11.047 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:02:11.047 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:11.055 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:02:11'.
2025-02-25 02:02:11.057 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.2208ms
2025-02-25 02:02:11.060 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:11.061 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:02:11.062 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:02:11.063 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 52.3780ms
2025-02-25 02:02:11.068 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:02:11.074 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:11.077 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.5293ms
2025-02-25 02:02:11.078 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:02:11.079 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 39.7531ms
2025-02-25 02:02:14.244 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/30 - -
2025-02-25 02:02:14.245 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/30 - -
2025-02-25 02:02:14.245 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:14.246 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:14.247 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/30 - - - 204 - - 2.2383ms
2025-02-25 02:02:14.247 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/30 - - - 204 - - 2.5884ms
2025-02-25 02:02:14.247 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/30 application/json 8
2025-02-25 02:02:14.248 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/30 application/json 103
2025-02-25 02:02:14.250 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:14.251 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:14.252 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 02:02:14.252 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 02:02:14.253 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:14.254 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:02:14.260 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:02:14.265 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:02:14.269 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 02:02:14.273 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 02:02:14.276 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 02:02:14.277 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 02:02:14.280 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 02:02:14.280 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:14.283 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 02:02:14.285 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 27.3563ms
2025-02-25 02:02:14.287 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 02:02:14.288 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/30 application/json 103 - 200 - application/json;+charset=utf-8 40.4928ms
2025-02-25 02:02:14.295 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 02:02:14.296 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:02:14.297 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 41.5937ms
2025-02-25 02:02:14.300 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 02:02:14.300 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/30 application/json 8 - 200 - application/json;+charset=utf-8 52.9063ms
2025-02-25 02:02:21.873 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - -
2025-02-25 02:02:21.874 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:21.874 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/place/saveplaceinfo - - - 204 - - 1.5707ms
2025-02-25 02:02:21.875 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundarybum21AV7SdUDwKEr 102282
2025-02-25 02:02:21.876 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:02:21.877 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 02:02:21.878 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto, System.String) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 02:02:21.889 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-25 02:02:21.917 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 38.1623ms
2025-02-25 02:02:21.918 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 02:02:21.923 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundarybum21AV7SdUDwKEr 102282 - 400 - application/problem+json;+charset=utf-8 47.5669ms
2025-02-25 02:03:30.831 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:03:30.832 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.833 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 1.8266ms
2025-02-25 02:03:30.836 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:03:30.837 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.839 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:03:30.842 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:03:30.842 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
2025-02-25 02:03:30.843 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.844 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:03:30.844 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 2.0920ms
2025-02-25 02:03:30.847 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:03:30.849 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - -
2025-02-25 02:03:30.854 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - -
2025-02-25 02:03:30.845 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:03:30.856 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.857 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.857 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.860 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:03:30.860 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/30 - - - 204 - - 10.7559ms
2025-02-25 02:03:30.863 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/30 - - - 204 - - 8.9798ms
2025-02-25 02:03:30.862 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:03:30.862 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:30.869 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:03:30.880 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
2025-02-25 02:03:30.884 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:03:30.881 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.883 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 24.0464ms
2025-02-25 02:03:30.885 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:03:30.885 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:03:30.883 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.886 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:03:30.887 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:03:30.889 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.890 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:03:30.894 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:03:30.896 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
2025-02-25 02:03:30.897 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 60.7824ms
2025-02-25 02:03:30.898 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:03:30.899 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:03:30.902 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:03:30.905 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:30.906 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
2025-02-25 02:03:30.910 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:03:30.912 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 23.1057ms
2025-02-25 02:03:30.912 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:03:30.914 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:03:30.915 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:03:30.916 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:03:30.917 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:03:30.922 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 74.7203ms
2025-02-25 02:03:30.918 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.920 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:03:30.921 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:30.959 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:03:30.960 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:30.963 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:30.964 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 54.524ms
2025-02-25 02:03:30.967 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
2025-02-25 02:03:30.968 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 41.779ms
2025-02-25 02:03:30.982 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:03:30.969 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 54.8711ms
2025-02-25 02:03:30.984 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:03:30.982 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json -
2025-02-25 02:03:30.982 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:03:30.983 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 98.3522ms
2025-02-25 02:03:30.969 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:03:30.985 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 122.6075ms
2025-02-25 02:03:30.989 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.989 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.990 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json -
2025-02-25 02:03:30.993 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:30.991 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 121.1619ms
2025-02-25 02:03:30.993 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:03:30.991 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:03:30.994 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:03:30.981 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:03:30.997 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
2025-02-25 02:03:30.997 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:03:31.003 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:30'.
2025-02-25 02:03:31.004 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:03:31.005 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:03:31.007 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:03:31.010 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:03:31.011 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:03:31.011 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:03:31.014 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:03:31.018 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:31.021 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:31.023 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9.8135ms
2025-02-25 02:03:31.027 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:03:31.026 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:03:31.024 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 18.1805ms
2025-02-25 02:03:31.027 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:31.034 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:03:31.037 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:31.041 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 58.4683ms
2025-02-25 02:03:31.038 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:31.039 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:03:31.042 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:03:31.042 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 23.179ms
2025-02-25 02:03:31.040 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 31.1188ms
2025-02-25 02:03:31.044 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:03:31.045 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/30 application/json - - 200 - application/json;+charset=utf-8 62.7603ms
2025-02-25 02:03:31.045 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:31.049 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:03:31.052 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:31'.
2025-02-25 02:03:31.050 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:03:31.054 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:03:31.054 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/30 application/json - - 200 - application/json;+charset=utf-8 64.3995ms
2025-02-25 02:03:31.055 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:03:31.056 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 142.2848ms
2025-02-25 02:03:31.059 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:31'.
2025-02-25 02:03:31.063 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:03:31.065 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:03:31.067 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:03:31.069 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:31.071 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.8591ms
2025-02-25 02:03:31.073 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:03:31.073 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:03:31.080 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 53.5180ms
2025-02-25 02:03:31.080 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:31.082 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.6786ms
2025-02-25 02:03:31.083 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:03:31.084 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:03:31.085 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 43.0032ms
2025-02-25 02:03:31.085 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:03:31.087 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:03:31.090 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:03:31'.
2025-02-25 02:03:31.090 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:03:31.092 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:03:31.102 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:03:31.110 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:03:31.112 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 15.6599ms
2025-02-25 02:03:31.113 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:03:31.114 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 30.7014ms
2025-02-25 02:04:12.079 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 02:04:12.246 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 02:04:12.247 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 02:04:12.249 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 02:04:12.250 +01:00 [INF] Hosting environment: Development
2025-02-25 02:04:12.251 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 02:04:12.843 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 02:04:17.002 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 02:04:17.104 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 02:04:17.109 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4269.8269ms
2025-02-25 02:04:17.175 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 02:04:17.310 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 134.5097ms
2025-02-25 02:04:20.176 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 02:04:25.252 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 02:04:25.266 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 02:04:25.273 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 5097.5345ms
2025-02-25 02:04:26.052 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:04:26.052 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:04:26.053 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:04:26.052 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:04:26.052 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:04:26.053 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:04:26.052 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:04:26.059 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:04:26.066 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:26.066 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:26.066 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:26.067 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:26.070 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 17.8162ms
2025-02-25 02:04:26.067 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:26.067 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:26.067 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:26.070 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 17.7171ms
2025-02-25 02:04:26.070 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 17.8205ms
2025-02-25 02:04:26.067 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:26.070 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 17.8831ms
2025-02-25 02:04:26.072 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 19.1584ms
2025-02-25 02:04:26.079 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 26.7852ms
2025-02-25 02:04:26.073 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 20.6695ms
2025-02-25 02:04:26.076 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 16.6792ms
2025-02-25 02:04:26.083 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:04:26.083 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:04:26.094 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:26.094 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:26.166 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:26.166 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:26.196 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:26'.
2025-02-25 02:04:26.201 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:26'.
2025-02-25 02:04:26.204 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:26.204 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:26.236 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:26.236 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:34.641 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:34.699 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:04:34.700 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:34.701 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8458.3478ms
2025-02-25 02:04:34.703 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:34.704 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:34.708 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:34'.
2025-02-25 02:04:34.710 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:34.710 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8626.8020ms
2025-02-25 02:04:34.711 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:34.726 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:34.729 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.8597ms
2025-02-25 02:04:34.730 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:34.730 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:04:34.731 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 31.7670ms
2025-02-25 02:04:34.733 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:34.735 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:34.745 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:34'.
2025-02-25 02:04:34.749 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:34.750 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:34.757 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:34.760 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.1559ms
2025-02-25 02:04:34.763 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:04:34.766 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:34.768 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:34.769 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 39.2949ms
2025-02-25 02:04:34.771 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:34.781 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:34'.
2025-02-25 02:04:34.782 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:34.783 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:34.787 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:34.788 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.5897ms
2025-02-25 02:04:34.790 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:34.791 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 27.5150ms
2025-02-25 02:04:36.127 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 02:04:36.131 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:36.132 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 5.0149ms
2025-02-25 02:04:36.134 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 02:04:36.138 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:36.143 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:36.153 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:36'.
2025-02-25 02:04:36.156 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 02:04:36.161 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:04:36.260 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:04:36.260 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:04:36.366 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:36.370 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10131.8986ms
2025-02-25 02:04:36.371 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:04:36.373 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:36.372 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:36.375 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:36.385 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10301.5180ms
2025-02-25 02:04:36.385 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:36'.
2025-02-25 02:04:36.391 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:36.393 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:36.461 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:04:36.469 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:36.472 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 76.8133ms
2025-02-25 02:04:36.473 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:36.474 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:04:36.475 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 104.4238ms
2025-02-25 02:04:36.476 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:36.479 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:36.492 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:36'.
2025-02-25 02:04:36.494 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:36.496 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:36.508 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:04:36.515 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:36.517 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 02:04:36.519 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:04:36.517 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 17.6172ms
2025-02-25 02:04:36.521 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:36.522 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:36.524 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:36.524 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 50.3492ms
2025-02-25 02:04:36.533 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:36'.
2025-02-25 02:04:36.536 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:36.536 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:36.544 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:04:36.546 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:36.551 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 388.0732ms
2025-02-25 02:04:36.551 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:36.552 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 02:04:36.554 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 15.6244ms
2025-02-25 02:04:36.556 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 422.2195ms
2025-02-25 02:04:36.558 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:36.563 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 44.1734ms
2025-02-25 02:04:39.419 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/31 - -
2025-02-25 02:04:39.420 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/31 - -
2025-02-25 02:04:39.420 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/31 - -
2025-02-25 02:04:39.420 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/31 - -
2025-02-25 02:04:39.423 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:39.424 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:39.425 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:39.426 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:39.427 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/31 - - - 204 - - 7.6749ms
2025-02-25 02:04:39.431 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/31 application/json -
2025-02-25 02:04:39.429 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/31 - - - 204 - - 8.6554ms
2025-02-25 02:04:39.430 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/31 - - - 204 - - 9.8695ms
2025-02-25 02:04:39.431 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/31 - - - 204 - - 10.9958ms
2025-02-25 02:04:39.431 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/31 application/json -
2025-02-25 02:04:39.433 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:39.437 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:39.438 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:39'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:39.439 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:04:39.448 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:39'.
2025-02-25 02:04:39.451 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:04:39.454 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:04:39.457 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:04:39.610 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:04:39.613 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:04:39.626 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:39.626 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:39.627 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 165.9325ms
2025-02-25 02:04:39.635 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:04:39.638 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/31 application/json - - 200 - application/json;+charset=utf-8 207.0166ms
2025-02-25 02:04:39.634 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/31 application/json -
2025-02-25 02:04:39.655 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 195.9145ms
2025-02-25 02:04:39.656 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:39.661 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/31 application/json -
2025-02-25 02:04:39.665 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:04:39.667 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:39'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:39.668 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:39.669 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/31 application/json - - 200 - application/json;+charset=utf-8 237.9616ms
2025-02-25 02:04:39.683 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:39'.
2025-02-25 02:04:39.684 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:04:39.686 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:04:39.687 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:04:39.688 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:04:39.699 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:04:39.703 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:04:39.706 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:39.712 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:39.714 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 22.9869ms
2025-02-25 02:04:39.720 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 24.4962ms
2025-02-25 02:04:39.721 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:04:39.745 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:04:39.749 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/31 application/json - - 200 - application/json;+charset=utf-8 88.0027ms
2025-02-25 02:04:39.750 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/31 application/json - - 200 - application/json;+charset=utf-8 115.7971ms
2025-02-25 02:04:43.182 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/31 - -
2025-02-25 02:04:43.183 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/31 - -
2025-02-25 02:04:43.183 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:43.185 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:43.186 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/31 - - - 204 - - 3.9058ms
2025-02-25 02:04:43.187 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/31 - - - 204 - - 4.2873ms
2025-02-25 02:04:43.188 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/31 application/json 8
2025-02-25 02:04:43.188 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/31 application/json 100
2025-02-25 02:04:43.190 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:43.192 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:43.193 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 02:04:43.194 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 02:04:43.199 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:04:43.201 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:04:43.229 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:04:43.252 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 02:04:43.253 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:04:43.292 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 02:04:43.324 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 02:04:43.356 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 02:04:43.363 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 02:04:43.371 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:43.372 +01:00 [INF] Executed DbCommand (44ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 02:04:43.373 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 170.5998ms
2025-02-25 02:04:43.377 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 02:04:43.378 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/31 application/json 8 - 200 - application/json;+charset=utf-8 190.5047ms
2025-02-25 02:04:43.405 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 02:04:43.409 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:43.411 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 205.9642ms
2025-02-25 02:04:43.413 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 02:04:43.414 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/31 application/json 100 - 200 - application/json;+charset=utf-8 225.8785ms
2025-02-25 02:04:51.646 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary0hTBXx0y3SIGd5bA 103932
2025-02-25 02:04:51.649 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:51.650 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 02:04:51.661 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 02:04:51.714 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__placeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM "Places" AS p
WHERE p."PlaceId" = @__placeId_0
LIMIT 1
2025-02-25 02:04:52.498 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Places" SET "MapId" = @p0, "PlaceColor" = @p1, "PlaceCountry" = @p2, "PlaceDescription" = @p3, "PlaceName" = @p4, "PlacePhoto1" = @p5, "PlacePhoto2" = @p6, "PlacePhoto3" = @p7, "PlacePosition" = @p8, "PlaceType" = @p9
WHERE "PlaceId" = @p10;
2025-02-25 02:04:52.502 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:52.510 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 845.1111ms
2025-02-25 02:04:52.511 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 02:04:52.515 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary0hTBXx0y3SIGd5bA 103932 - 200 - application/json;+charset=utf-8 869.5983ms
2025-02-25 02:04:55.081 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:04:55.082 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/31 - -
2025-02-25 02:04:55.083 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/31 - -
2025-02-25 02:04:55.087 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.088 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:04:55.106 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/31 - - - 204 - - 23.4317ms
2025-02-25 02:04:55.114 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.130 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/31 application/json -
2025-02-25 02:04:55.084 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.141 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.139 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 51.6359ms
2025-02-25 02:04:55.152 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 71.2340ms
2025-02-25 02:04:55.093 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.084 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:04:55.082 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:04:55.159 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:55.162 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/31 - - - 204 - - 78.4801ms
2025-02-25 02:04:55.162 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.084 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:04:55.088 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:04:55.093 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/31 - -
2025-02-25 02:04:55.100 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/31 - -
2025-02-25 02:04:55.106 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:04:55.115 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:04:55.145 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:04:55.163 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/31 application/json -
2025-02-25 02:04:55.164 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.171 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
2025-02-25 02:04:55.172 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 88.4006ms
2025-02-25 02:04:55.181 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 99.4727ms
2025-02-25 02:04:55.173 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.175 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.176 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.177 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.178 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.179 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.180 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.180 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.183 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:04:55.183 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:04:55.186 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 101.9946ms
2025-02-25 02:04:55.187 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 98.8439ms
2025-02-25 02:04:55.187 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/31 - - - 204 - - 93.7469ms
2025-02-25 02:04:55.188 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/31 - - - 204 - - 91.8862ms
2025-02-25 02:04:55.191 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 84.4995ms
2025-02-25 02:04:55.192 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 76.4441ms
2025-02-25 02:04:55.193 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:55.194 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:04:55.194 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:04:55.195 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.212 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
2025-02-25 02:04:55.219 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:55.223 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:04:55.223 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:55.215 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:04:55.232 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
2025-02-25 02:04:55.238 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.238 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:55.243 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 26.2077ms
2025-02-25 02:04:55.242 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:55.246 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/31 application/json -
2025-02-25 02:04:55.245 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:04:55.249 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:04:55.250 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:55.250 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.251 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.257 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/31 application/json - - 200 - application/json;+charset=utf-8 126.8144ms
2025-02-25 02:04:55.263 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.0848ms
2025-02-25 02:04:55.265 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:55.265 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.265 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:04:55.270 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:04:55.271 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:55.282 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
2025-02-25 02:04:55.287 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.293 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 148.0521ms
2025-02-25 02:04:55.298 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.294 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:04:55.296 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 55.4256ms
2025-02-25 02:04:55.302 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 40.8692ms
2025-02-25 02:04:55.300 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/31 application/json -
2025-02-25 02:04:55.303 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:04:55.298 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:55.306 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:55.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:04:55.307 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.305 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:04:55.331 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:04:55.338 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
2025-02-25 02:04:55.339 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 156.1481ms
2025-02-25 02:04:55.340 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.341 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:04:55.342 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/31 application/json - - 200 - application/json;+charset=utf-8 178.6253ms
2025-02-25 02:04:55.351 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:55.349 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.354 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:55.355 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:04:55.357 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:55.373 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
2025-02-25 02:04:55.360 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 49.7926ms
2025-02-25 02:04:55.386 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:04:55.390 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:55.393 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.393 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:04:55.399 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:55.402 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:04:55.401 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 13.8937ms
2025-02-25 02:04:55.409 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:04:55.405 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.410 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:55.402 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/31 application/json - - 200 - application/json;+charset=utf-8 156.1920ms
2025-02-25 02:04:55.401 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.416 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:55.417 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 152.0772ms
2025-02-25 02:04:55.418 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.422 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 44.6339ms
2025-02-25 02:04:55.433 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
2025-02-25 02:04:55.436 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 32.0028ms
2025-02-25 02:04:55.437 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:04:55.442 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:55.443 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:55.444 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/31 application/json - - 200 - application/json;+charset=utf-8 144.5979ms
2025-02-25 02:04:55.445 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:55.448 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 143.3828ms
2025-02-25 02:04:55.450 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:04:55.453 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.454 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.457 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:55.458 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.5311ms
2025-02-25 02:04:55.463 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:04:55.466 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
2025-02-25 02:04:55.467 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:55.472 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.474 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:55.475 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 72.7789ms
2025-02-25 02:04:55.477 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:55.477 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:55.492 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
2025-02-25 02:04:55.495 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:55.497 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:55.499 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:04:55.505 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.508 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.7887ms
2025-02-25 02:04:55.511 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.512 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:04:55.514 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 19.7153ms
2025-02-25 02:04:55.516 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:04:55.516 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 52.8755ms
2025-02-25 02:04:55.518 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:55.520 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:04:55.522 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 71.7153ms
2025-02-25 02:04:55.523 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:04:55.535 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:04:55'.
2025-02-25 02:04:55.536 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:55.537 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:04:55.544 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:04:55.551 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:04:55.553 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.4926ms
2025-02-25 02:04:55.554 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:04:55.555 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 39.5266ms
2025-02-25 02:09:29.971 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 02:09:29.972 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 02:09:29.971 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 02:09:29.979 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:29.981 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 02:09:29.981 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:29.981 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:29.983 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 02:09:29.984 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 02:09:29.987 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 02:09:29.988 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 02:09:29.990 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 02:09:30.006 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 02:09:30.006 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 02:09:30.012 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:30.014 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 20.5655ms
2025-02-25 02:09:30.015 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 02:09:30.017 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - -
2025-02-25 02:09:30.017 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 45.0962ms
2025-02-25 02:09:30.020 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:30.021 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 02:09:30.021 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 02:09:30.022 +01:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2025-02-25 02:09:30.024 +01:00 [INF] Route matched with {action = "GetCountryNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetCountryNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 02:09:30.025 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:30.028 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 36.4959ms
2025-02-25 02:09:30.030 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 02:09:30.031 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryName"
FROM "Countries" AS c
2025-02-25 02:09:30.030 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - -
2025-02-25 02:09:30.032 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 61.0153ms
2025-02-25 02:09:30.039 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 02:09:30.041 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:30.042 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:30.047 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetCountryNames (JurMaps) in 20.6166ms
2025-02-25 02:09:30.048 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 02:09:30.052 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetCountryNames (JurMaps)'
2025-02-25 02:09:30.053 +01:00 [INF] Route matched with {action = "GetPopularTagsNames", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[System.String]]] GetPopularTagsNames() on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 02:09:30.054 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getcountrynames - - - 200 - application/json;+charset=utf-8 37.7442ms
2025-02-25 02:09:30.060 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."TagId", t."TagName", t."TagQuantity"
FROM "Tags" AS t
ORDER BY t."TagQuantity" DESC
LIMIT @__p_0
2025-02-25 02:09:30.064 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:30.067 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps) in 11.5297ms
2025-02-25 02:09:30.068 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetPopularTagsNames (JurMaps)'
2025-02-25 02:09:30.069 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getpopulartagsnames - - - 200 - application/json;+charset=utf-8 39.1630ms
2025-02-25 02:09:30.070 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:30.083 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - -
2025-02-25 02:09:30.084 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:30.084 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 93.5329ms
2025-02-25 02:09:30.084 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 02:09:30.086 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 02:09:30.087 +01:00 [INF] Route matched with {action = "GetFilteredMaps", controller = "Maps"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MapDto]]] GetFilteredMaps(System.String, System.Collections.Generic.List`1[System.String], System.String, System.String) on controller JurMaps.Controllers.MapsController (JurMaps).
2025-02-25 02:09:30.087 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 116.4079ms
2025-02-25 02:09:30.097 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_1='?' (DbType = Int32), @__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapName", t."MapDescription", t."MapLikes", u."UserName" AS "MapCreatorName", t."MapCreatorId", u."UserProfilePicture" AS "MapCreatorPicture", t."MapThumbnail"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapThumbnail"
    FROM "Maps" AS m
    WHERE m."MapUploaded"
    LIMIT @__p_1 OFFSET @__p_0
) AS t
INNER JOIN "Users" AS u ON t."MapCreatorId" = u."UserId"
2025-02-25 02:09:30.125 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:30.132 +01:00 [INF] Executed action JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps) in 41.8478ms
2025-02-25 02:09:30.133 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.MapsController.GetFilteredMaps (JurMaps)'
2025-02-25 02:09:30.134 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/maps/getfilteredmaps?Page=1 - - - 200 - application/json;+charset=utf-8 51.2022ms
2025-02-25 02:09:32.318 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 02:09:32.319 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:32.320 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 1.7845ms
2025-02-25 02:09:32.321 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 02:09:32.322 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:32.323 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:32.331 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:32'.
2025-02-25 02:09:32.332 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 02:09:32.333 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:09:32.339 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:09:32.371 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 02:09:32.373 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:32.375 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 40.1787ms
2025-02-25 02:09:32.375 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 02:09:32.376 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 55.6762ms
2025-02-25 02:09:32.474 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - -
2025-02-25 02:09:32.474 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - -
2025-02-25 02:09:32.475 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - -
2025-02-25 02:09:32.475 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - -
2025-02-25 02:09:32.476 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:32.477 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:32.481 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - - - 204 - - 7.4061ms
2025-02-25 02:09:32.483 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json -
2025-02-25 02:09:32.480 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - - - 204 - - 6.8838ms
2025-02-25 02:09:32.478 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:32.480 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:32.483 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json -
2025-02-25 02:09:32.485 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:32.487 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - - - 204 - - 12.1832ms
2025-02-25 02:09:32.487 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - - - 204 - - 12.5458ms
2025-02-25 02:09:32.489 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:32.490 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:09:32.493 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:32.494 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:09:32.505 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:32'.
2025-02-25 02:09:32.509 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:09:32.511 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:09:32.512 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:09:32.519 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:09:32.521 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:32.525 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:32.526 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 18.8818ms
2025-02-25 02:09:32.527 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 13.3915ms
2025-02-25 02:09:32.527 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json -
2025-02-25 02:09:32.528 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json -
2025-02-25 02:09:32.529 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:09:32.532 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:09:32.535 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:32.536 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:32.537 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json - - 200 - application/json;+charset=utf-8 53.9849ms
2025-02-25 02:09:32.539 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json - - 200 - application/json;+charset=utf-8 55.6519ms
2025-02-25 02:09:32.540 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:09:32.541 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:32.546 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:09:32.560 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:32'.
2025-02-25 02:09:32.570 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:09:32.575 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:09:32.590 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:32.576 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:09:32.593 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 30.0839ms
2025-02-25 02:09:32.602 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:09:32.607 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json - - 200 - application/json;+charset=utf-8 79.7288ms
2025-02-25 02:09:32.606 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:09:32.619 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:32.621 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 22.011ms
2025-02-25 02:09:32.624 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:09:32.625 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json - - 200 - application/json;+charset=utf-8 96.9437ms
2025-02-25 02:09:36.496 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/32 - -
2025-02-25 02:09:36.496 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/32 - -
2025-02-25 02:09:36.497 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:36.497 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:36.498 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/32 - - - 204 - - 2.6651ms
2025-02-25 02:09:36.499 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/32 - - - 204 - - 2.9725ms
2025-02-25 02:09:36.499 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/32 application/json 8
2025-02-25 02:09:36.500 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/32 application/json 102
2025-02-25 02:09:36.502 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:36.503 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:36.503 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 02:09:36.504 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 02:09:36.505 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:09:36.505 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:09:36.560 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:09:36.567 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 02:09:36.573 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 02:09:36.576 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:36.577 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 66.8303ms
2025-02-25 02:09:36.579 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 02:09:36.580 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/32 application/json 102 - 200 - application/json;+charset=utf-8 80.2059ms
2025-02-25 02:09:36.660 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:09:36.665 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 02:09:36.670 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 02:09:36.674 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 02:09:36.679 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 02:09:36.682 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 02:09:36.685 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:36.686 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 177.6723ms
2025-02-25 02:09:36.687 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 02:09:36.687 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/32 application/json 8 - 200 - application/json;+charset=utf-8 188.2645ms
2025-02-25 02:09:45.854 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary6wL1lYtRLYAh5yhd 33445
2025-02-25 02:09:45.856 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:45.857 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 02:09:45.858 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 02:09:45.888 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__placeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM "Places" AS p
WHERE p."PlaceId" = @__placeId_0
LIMIT 1
2025-02-25 02:09:46.314 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Places" SET "MapId" = @p0, "PlaceColor" = @p1, "PlaceCountry" = @p2, "PlaceDescription" = @p3, "PlaceName" = @p4, "PlacePhoto1" = @p5, "PlacePhoto2" = @p6, "PlacePhoto3" = @p7, "PlacePosition" = @p8, "PlaceType" = @p9
WHERE "PlaceId" = @p10;
2025-02-25 02:09:46.318 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:46.320 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 460.0858ms
2025-02-25 02:09:46.321 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 02:09:46.323 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary6wL1lYtRLYAh5yhd 33445 - 200 - application/json;+charset=utf-8 469.3215ms
2025-02-25 02:09:50.068 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:09:50.070 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - -
2025-02-25 02:09:50.069 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - -
2025-02-25 02:09:50.069 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:09:50.076 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.086 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.098 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - - - 204 - - 29.0395ms
2025-02-25 02:09:50.104 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 35.6564ms
2025-02-25 02:09:50.073 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.133 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:09:50.132 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json -
2025-02-25 02:09:50.134 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - - - 204 - - 64.1033ms
2025-02-25 02:09:50.072 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.071 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:09:50.071 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:09:50.139 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.140 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.143 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 75.1407ms
2025-02-25 02:09:50.146 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:50.144 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.145 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.076 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:09:50.075 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:09:50.086 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - -
2025-02-25 02:09:50.099 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - -
2025-02-25 02:09:50.103 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:09:50.110 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:09:50.136 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json -
2025-02-25 02:09:50.144 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:09:50.148 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:50.158 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
2025-02-25 02:09:50.159 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 87.8790ms
2025-02-25 02:09:50.160 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 88.7191ms
2025-02-25 02:09:50.161 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.162 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.163 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.163 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.164 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.165 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.165 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.166 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.172 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
2025-02-25 02:09:50.174 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:09:50.177 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 101.1388ms
2025-02-25 02:09:50.177 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 102.5152ms
2025-02-25 02:09:50.178 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - - - 204 - - 92.1711ms
2025-02-25 02:09:50.179 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - - - 204 - - 80.1838ms
2025-02-25 02:09:50.180 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 76.7369ms
2025-02-25 02:09:50.180 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 70.8683ms
2025-02-25 02:09:50.181 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:09:50.183 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:50.183 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:09:50.184 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:09:50.192 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:09:50.198 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
2025-02-25 02:09:50.199 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:09:50.208 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:09:50.207 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:09:50.208 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:09:50.218 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:09:50.219 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.219 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:09:50.225 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 22.8846ms
2025-02-25 02:09:50.224 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.221 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.228 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:09:50.229 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 17.9621ms
2025-02-25 02:09:50.232 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json - - 200 - application/json;+charset=utf-8 96.9138ms
2025-02-25 02:09:50.231 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 30.7669ms
2025-02-25 02:09:50.231 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json -
2025-02-25 02:09:50.226 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json -
2025-02-25 02:09:50.229 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.233 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:09:50.234 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:09:50.243 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:09:50.243 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.239 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:09:50.246 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.244 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json - - 200 - application/json;+charset=utf-8 112.2087ms
2025-02-25 02:09:50.248 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:50.248 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 116.1072ms
2025-02-25 02:09:50.240 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.240 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.250 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:50.261 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
2025-02-25 02:09:50.242 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.661ms
2025-02-25 02:09:50.263 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:50.264 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:09:50.275 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
2025-02-25 02:09:50.276 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:09:50.277 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:09:50.288 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
2025-02-25 02:09:50.289 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:09:50.291 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:09:50.292 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:09:50.304 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:09:50.296 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:09:50.309 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:09:50.294 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 150.2205ms
2025-02-25 02:09:50.316 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:09:50.316 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:09:50.318 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.323 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.327 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.0115ms
2025-02-25 02:09:50.330 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:09:50.326 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.329 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 27.3666ms
2025-02-25 02:09:50.333 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:09:50.337 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.338 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 27.9728ms
2025-02-25 02:09:50.329 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:09:50.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:09:50.340 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:09:50.341 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 97.8924ms
2025-02-25 02:09:50.343 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 17.6328ms
2025-02-25 02:09:50.344 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:09:50.345 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.345 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.352 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:09:50.353 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 120.2975ms
2025-02-25 02:09:50.349 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json - - 200 - application/json;+charset=utf-8 123.1343ms
2025-02-25 02:09:50.355 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:50.357 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:50.358 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json - - 200 - application/json;+charset=utf-8 127.1621ms
2025-02-25 02:09:50.371 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
2025-02-25 02:09:50.384 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:09:50.381 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
2025-02-25 02:09:50.386 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:09:50.387 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:09:50.390 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:09:50.392 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.398 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.4731ms
2025-02-25 02:09:50.399 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:09:50.401 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:09:50.402 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.400 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:09:50.416 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:50.416 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 87.7670ms
2025-02-25 02:09:50.417 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.428 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
2025-02-25 02:09:50.430 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 34.4362ms
2025-02-25 02:09:50.431 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:09:50.431 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:09:50.433 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:09:50.433 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:09:50.434 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:09:50.435 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 95.7994ms
2025-02-25 02:09:50.436 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:09:50.442 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.447 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:09:50'.
2025-02-25 02:09:50.448 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.9779ms
2025-02-25 02:09:50.449 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:09:50.450 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:09:50.450 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:09:50.451 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 51.7609ms
2025-02-25 02:09:50.458 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:09:50.465 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:09:50.466 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.5891ms
2025-02-25 02:09:50.467 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:09:50.468 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 37.2101ms
2025-02-25 02:11:21.118 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundarynl920vGNm6ASrq1o 132937
2025-02-25 02:11:21.119 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:21.120 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 02:11:21.122 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 02:11:21.132 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__placeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM "Places" AS p
WHERE p."PlaceId" = @__placeId_0
LIMIT 1
2025-02-25 02:11:21.595 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Places" SET "MapId" = @p0, "PlaceColor" = @p1, "PlaceCountry" = @p2, "PlaceDescription" = @p3, "PlaceName" = @p4, "PlacePhoto1" = @p5, "PlacePhoto2" = @p6, "PlacePhoto3" = @p7, "PlacePosition" = @p8, "PlaceType" = @p9
WHERE "PlaceId" = @p10;
2025-02-25 02:11:21.598 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:21.599 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 474.6523ms
2025-02-25 02:11:21.600 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 02:11:21.602 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundarynl920vGNm6ASrq1o 132937 - 200 - application/json;+charset=utf-8 483.6071ms
2025-02-25 02:11:24.824 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:11:24.825 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:11:24.826 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.835 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.844 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 19.7458ms
2025-02-25 02:11:24.826 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - -
2025-02-25 02:11:24.853 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 28.6354ms
2025-02-25 02:11:24.865 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - -
2025-02-25 02:11:24.881 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:11:24.884 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.890 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.892 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - - - 204 - - 26.3410ms
2025-02-25 02:11:24.872 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.827 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:11:24.826 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - -
2025-02-25 02:11:24.898 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:11:24.900 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json -
2025-02-25 02:11:24.899 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - - - 204 - - 73.4969ms
2025-02-25 02:11:24.900 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.835 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:11:24.850 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:11:24.854 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:11:24.861 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - -
2025-02-25 02:11:24.868 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 02:11:24.874 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 02:11:24.886 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:11:24.893 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json -
2025-02-25 02:11:24.901 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.905 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:24'.
2025-02-25 02:11:24.908 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.909 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 82.3067ms
2025-02-25 02:11:24.916 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:11:24.915 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/32 - - - 204 - - 88.5990ms
2025-02-25 02:11:24.910 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.910 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.911 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.912 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.912 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.913 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.914 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.914 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.918 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:11:24.917 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:11:24.920 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 84.7553ms
2025-02-25 02:11:24.921 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 70.2851ms
2025-02-25 02:11:24.921 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 67.4777ms
2025-02-25 02:11:24.924 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/32 - - - 204 - - 62.6691ms
2025-02-25 02:11:24.925 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 56.7860ms
2025-02-25 02:11:24.925 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 51.0684ms
2025-02-25 02:11:24.927 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:11:24.927 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:11:24.931 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:24.934 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:24'.
2025-02-25 02:11:24.947 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 17.8614ms
2025-02-25 02:11:24.945 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:24'.
2025-02-25 02:11:24.946 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:11:24.948 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:11:24.948 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:11:24.949 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:11:24.953 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:11:24.955 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:11:24.957 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 76.9550ms
2025-02-25 02:11:24.964 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:11:24.952 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.950 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:11:24.971 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:24.971 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:24.974 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 22.6419ms
2025-02-25 02:11:24.976 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 16.7729ms
2025-02-25 02:11:24.976 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json -
2025-02-25 02:11:24.972 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:11:24.973 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:11:24.977 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json -
2025-02-25 02:11:24.978 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:11:24.979 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:11:24.992 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.995 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json - - 200 - application/json;+charset=utf-8 101.2939ms
2025-02-25 02:11:25.000 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json - - 200 - application/json;+charset=utf-8 99.6123ms
2025-02-25 02:11:24.979 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:24.998 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:11:24.988 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:24'.
2025-02-25 02:11:25.001 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:11:25.006 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:11:25.011 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:11:25.012 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:25.017 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
2025-02-25 02:11:25.021 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:11:25.025 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:11:25.023 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 31.7786ms
2025-02-25 02:11:25.022 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:11:25.028 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 02:11:25.025 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:11:25.029 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:11:25.033 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 02:11:25.036 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:25.037 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 150.7174ms
2025-02-25 02:11:25.036 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:25.039 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 02:11:25.043 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:11:25.046 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.1577ms
2025-02-25 02:11:25.063 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:11:25.049 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:25.053 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:25.060 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
2025-02-25 02:11:25.072 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:11:25.067 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 119.2117ms
2025-02-25 02:11:25.069 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 42.3662ms
2025-02-25 02:11:25.071 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 35.4031ms
2025-02-25 02:11:25.048 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:11:25.073 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:11:25.076 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 02:11:25.077 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 02:11:25.078 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:25.085 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/32 application/json - - 200 - application/json;+charset=utf-8 109.3419ms
2025-02-25 02:11:25.088 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:11:25.088 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:11:25.086 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/32 application/json - - 200 - application/json;+charset=utf-8 108.8775ms
2025-02-25 02:11:25.095 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:25.100 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
2025-02-25 02:11:25.102 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 18.4266ms
2025-02-25 02:11:25.103 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:11:25.104 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:11:25.105 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:11:25.106 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:25.107 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:11:25.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 83.0536ms
2025-02-25 02:11:25.110 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:11:25.116 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:25.123 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
2025-02-25 02:11:25.125 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 11.7618ms
2025-02-25 02:11:25.126 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 02:11:25.129 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:11:25.130 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:11:25.131 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:25.132 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:11:25.132 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 84.7331ms
2025-02-25 02:11:25.134 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:11:25.142 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:11:25.151 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
2025-02-25 02:11:25.156 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:11:25.157 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:25.158 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:11:25.160 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 24.0406ms
2025-02-25 02:11:25.164 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:11:25.162 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 02:11:25.165 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 61.8580ms
2025-02-25 02:11:25.165 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:25.166 +01:00 [INF] CORS policy execution successful.
2025-02-25 02:11:25.169 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.543ms
2025-02-25 02:11:25.172 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 02:11:25.172 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 02:11:25.180 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 01:11:25'.
2025-02-25 02:11:25.181 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 54.4250ms
2025-02-25 02:11:25.182 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:11:25.184 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 02:11:25.189 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 02:11:25.195 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 02:11:25.197 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.0324ms
2025-02-25 02:11:25.198 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 02:11:25.200 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 37.7429ms
2025-02-25 12:32:29.032 +01:00 [INF] Executed DbCommand (2,063ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "JurMaps";
2025-02-25 12:32:32.733 +01:00 [INF] Executed DbCommand (3,426ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE EXTENSION IF NOT EXISTS postgis;
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-25 12:32:32.779 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-02-25 12:32:32.782 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-25 12:32:32.793 +01:00 [INF] Applying migration '20240821002032_init1'.
2025-02-25 12:32:32.828 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE EXTENSION IF NOT EXISTS postgis;
2025-02-25 12:32:32.886 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Roles" (
    "RoleId" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleName" text NOT NULL,
    CONSTRAINT "PK_Roles" PRIMARY KEY ("RoleId")
);
2025-02-25 12:32:32.936 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Tags" (
    "TagId" integer GENERATED BY DEFAULT AS IDENTITY,
    "TagName" text NOT NULL,
    CONSTRAINT "PK_Tags" PRIMARY KEY ("TagId")
);
2025-02-25 12:32:33.013 +01:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "UserId" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserName" text NOT NULL,
    "UserEmail" text NOT NULL,
    "UserPassword" text NOT NULL,
    "UserRoleRoleId" integer NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("UserId"),
    CONSTRAINT "FK_Users_Roles_UserRoleRoleId" FOREIGN KEY ("UserRoleRoleId") REFERENCES "Roles" ("RoleId") ON DELETE CASCADE
);
2025-02-25 12:32:33.053 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Maps" (
    "MapId" integer GENERATED BY DEFAULT AS IDENTITY,
    "MapName" text NULL,
    "MapDescription" text NULL,
    "MapCreatorId" integer NOT NULL,
    "UserId" integer NULL,
    CONSTRAINT "PK_Maps" PRIMARY KEY ("MapId"),
    CONSTRAINT "FK_Maps_Users_MapCreatorId" FOREIGN KEY ("MapCreatorId") REFERENCES "Users" ("UserId") ON DELETE CASCADE,
    CONSTRAINT "FK_Maps_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("UserId")
);
2025-02-25 12:32:33.075 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Comments" (
    "CommentId" integer NOT NULL,
    "CommentIsAnAnswer" boolean NOT NULL,
    "CommentLikesCount" integer NOT NULL,
    "CommentId1" integer NULL,
    "UserId" integer NULL,
    CONSTRAINT "PK_Comments" PRIMARY KEY ("CommentId"),
    CONSTRAINT "FK_Comments_Comments_CommentId1" FOREIGN KEY ("CommentId1") REFERENCES "Comments" ("CommentId"),
    CONSTRAINT "FK_Comments_Maps_CommentId" FOREIGN KEY ("CommentId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE,
    CONSTRAINT "FK_Comments_Users_CommentId" FOREIGN KEY ("CommentId") REFERENCES "Users" ("UserId") ON DELETE CASCADE,
    CONSTRAINT "FK_Comments_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("UserId")
);
2025-02-25 12:32:33.103 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "MapTag" (
    "MapTagsTagId" integer NOT NULL,
    "MapsWithThisTagMapId" integer NOT NULL,
    CONSTRAINT "PK_MapTag" PRIMARY KEY ("MapTagsTagId", "MapsWithThisTagMapId"),
    CONSTRAINT "FK_MapTag_Maps_MapsWithThisTagMapId" FOREIGN KEY ("MapsWithThisTagMapId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE,
    CONSTRAINT "FK_MapTag_Tags_MapTagsTagId" FOREIGN KEY ("MapTagsTagId") REFERENCES "Tags" ("TagId") ON DELETE CASCADE
);
2025-02-25 12:32:33.153 +01:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Photos" (
    "PhotoId" integer GENERATED BY DEFAULT AS IDENTITY,
    "PhotoSource" text NOT NULL,
    "PhotoWhenTaken" timestamp with time zone NULL,
    "PhotoMapThumbnailMapId" integer NOT NULL,
    CONSTRAINT "PK_Photos" PRIMARY KEY ("PhotoId"),
    CONSTRAINT "FK_Photos_Maps_PhotoMapThumbnailMapId" FOREIGN KEY ("PhotoMapThumbnailMapId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE
);
2025-02-25 12:32:33.211 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Places" (
    "PlaceId" integer GENERATED BY DEFAULT AS IDENTITY,
    "PlaceName" text NULL,
    "PlaceType" text NULL,
    "PlacePosition" geometry NULL,
    "PlaceRadius" double precision NULL,
    "Bounds" geometry NULL,
    "MapId" integer NOT NULL,
    "PlaceDescription" text NULL,
    CONSTRAINT "PK_Places" PRIMARY KEY ("PlaceId"),
    CONSTRAINT "FK_Places_Maps_MapId" FOREIGN KEY ("MapId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE
);
2025-02-25 12:32:33.213 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Roles" ("RoleId", "RoleName")
VALUES (1, 'user');
INSERT INTO "Roles" ("RoleId", "RoleName")
VALUES (2, 'admin');
2025-02-25 12:32:33.956 +01:00 [INF] Executed DbCommand (421ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Comments_CommentId1" ON "Comments" ("CommentId1");
2025-02-25 12:32:34.006 +01:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Comments_UserId" ON "Comments" ("UserId");
2025-02-25 12:32:34.036 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Maps_MapCreatorId" ON "Maps" ("MapCreatorId");
2025-02-25 12:32:34.061 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Maps_UserId" ON "Maps" ("UserId");
2025-02-25 12:32:34.086 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MapTag_MapsWithThisTagMapId" ON "MapTag" ("MapsWithThisTagMapId");
2025-02-25 12:32:34.112 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Photos_PhotoMapThumbnailMapId" ON "Photos" ("PhotoMapThumbnailMapId");
2025-02-25 12:32:34.136 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Places_MapId" ON "Places" ("MapId");
2025-02-25 12:32:34.157 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Users_UserRoleRoleId" ON "Users" ("UserRoleRoleId");
2025-02-25 12:32:34.168 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Roles"', 'RoleId'),
    GREATEST(
        (SELECT MAX("RoleId") FROM "Roles") + 1,
        nextval(pg_get_serial_sequence('"Roles"', 'RoleId'))),
    false);
2025-02-25 12:32:34.169 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240821002032_init1', '7.0.20');
2025-02-25 12:32:34.173 +01:00 [INF] Applying migration '20240823005128_init18'.
2025-02-25 12:32:34.186 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapUploaded" boolean NOT NULL DEFAULT FALSE;
2025-02-25 12:32:34.187 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240823005128_init18', '7.0.20');
2025-02-25 12:32:34.187 +01:00 [INF] Applying migration '20240826102600_init00'.
2025-02-25 12:32:34.193 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240826102600_init00', '7.0.20');
2025-02-25 12:32:34.203 +01:00 [INF] Applying migration '20240911210131_init41'.
2025-02-25 12:32:34.209 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" ADD "PlacePhoto1" text NULL;
2025-02-25 12:32:34.210 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" ADD "PlacePhoto2" text NULL;
2025-02-25 12:32:34.210 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" ADD "PlacePhoto3" text NULL;
2025-02-25 12:32:34.210 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240911210131_init41', '7.0.20');
2025-02-25 12:32:34.211 +01:00 [INF] Applying migration '20240922214121_dodanieLicznikaDoTagow'.
2025-02-25 12:32:34.217 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Tags" ADD "TagQuantity" integer NOT NULL DEFAULT 0;
2025-02-25 12:32:34.217 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240922214121_dodanieLicznikaDoTagow', '7.0.20');
2025-02-25 12:32:34.219 +01:00 [INF] Applying migration '20241005193621_init111'.
2025-02-25 12:32:34.225 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241005193621_init111', '7.0.20');
2025-02-25 12:32:36.382 +01:00 [INF] Applying migration '20241006134310_ALTER_TABLE_MAP_ADD_COLUMNS'.
2025-02-25 12:32:36.390 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Photos";
2025-02-25 12:32:36.390 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapLikes" integer NULL;
2025-02-25 12:32:36.390 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapPlacesQuantity" integer NULL;
2025-02-25 12:32:36.391 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapPublicationDate" timestamp with time zone NULL;
2025-02-25 12:32:36.391 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapThumbnail" text NULL;
2025-02-25 12:32:36.391 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241006134310_ALTER_TABLE_MAP_ADD_COLUMNS', '7.0.20');
2025-02-25 12:32:36.395 +01:00 [INF] Applying migration '20241007222608_ALTER_TABLE_MAP_ADD_COLUMN'.
2025-02-25 12:32:36.403 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapCountries" text[] NULL;
2025-02-25 12:32:36.403 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241007222608_ALTER_TABLE_MAP_ADD_COLUMN', '7.0.20');
2025-02-25 12:32:36.403 +01:00 [INF] Applying migration '20241007231356_poprawka'.
2025-02-25 12:32:36.409 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241007231356_poprawka', '7.0.20');
2025-02-25 12:32:36.409 +01:00 [INF] Applying migration '20241008165932_initttt'.
2025-02-25 12:32:36.414 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Comments";
2025-02-25 12:32:36.414 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "UserProfilePicture" text NULL;
2025-02-25 12:32:36.414 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241008165932_initttt', '7.0.20');
2025-02-25 12:32:36.417 +01:00 [INF] Applying migration '20241009155854_initqq'.
2025-02-25 12:32:36.424 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" DROP COLUMN "MapCountries";
2025-02-25 12:32:36.614 +01:00 [INF] Executed DbCommand (190ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Countries" (
    "CountryId" integer GENERATED BY DEFAULT AS IDENTITY,
    "CountryName" text NOT NULL,
    CONSTRAINT "PK_Countries" PRIMARY KEY ("CountryId")
);
2025-02-25 12:32:36.635 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "MapCountries" (
    "MapId" integer NOT NULL,
    "CountryId" integer NOT NULL,
    "ConnectionCount" integer NOT NULL,
    CONSTRAINT "PK_MapCountries" PRIMARY KEY ("MapId", "CountryId"),
    CONSTRAINT "FK_MapCountries_Countries_CountryId" FOREIGN KEY ("CountryId") REFERENCES "Countries" ("CountryId") ON DELETE CASCADE,
    CONSTRAINT "FK_MapCountries_Maps_MapId" FOREIGN KEY ("MapId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE
);
2025-02-25 12:32:36.652 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MapCountries_CountryId" ON "MapCountries" ("CountryId");
2025-02-25 12:32:36.652 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241009155854_initqq', '7.0.20');
2025-02-25 12:32:36.653 +01:00 [INF] Applying migration '20241009181316_initasda'.
2025-02-25 12:32:36.658 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "UserCreated" timestamp with time zone NULL;
2025-02-25 12:32:38.079 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241009181316_initasda', '7.0.20');
2025-02-25 12:32:38.079 +01:00 [INF] Applying migration '20241010210603_initll'.
2025-02-25 12:32:38.084 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" RENAME COLUMN "UserCreated" TO "UserCreatedDate";
2025-02-25 12:32:38.085 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241010210603_initll', '7.0.20');
2025-02-25 12:32:38.085 +01:00 [INF] Applying migration '20241010232511_initlll'.
2025-02-25 12:32:38.096 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "UserCreatedDate" = TIMESTAMPTZ '-infinity' WHERE "UserCreatedDate" IS NULL;
ALTER TABLE "Users" ALTER COLUMN "UserCreatedDate" SET NOT NULL;
ALTER TABLE "Users" ALTER COLUMN "UserCreatedDate" SET DEFAULT TIMESTAMPTZ '-infinity';
2025-02-25 12:32:38.096 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241010232511_initlll', '7.0.20');
2025-02-25 12:32:38.103 +01:00 [INF] Applying migration '20241011130359_paosda'.
2025-02-25 12:32:38.195 +01:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ALTER COLUMN "UserCreatedDate" TYPE text;
ALTER TABLE "Users" ALTER COLUMN "UserCreatedDate" DROP NOT NULL;
2025-02-25 12:32:38.195 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241011130359_paosda', '7.0.20');
2025-02-25 12:32:38.198 +01:00 [INF] Applying migration '20241012120425_adkasda'.
2025-02-25 12:32:38.202 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241012120425_adkasda', '7.0.20');
2025-02-25 12:32:38.203 +01:00 [INF] Applying migration '20241019194027_CREATE_TABLE_USERMAPLIKE'.
2025-02-25 12:32:38.210 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" DROP CONSTRAINT "FK_Maps_Users_UserId";
2025-02-25 12:32:38.210 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Maps_UserId";
2025-02-25 12:32:38.211 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" DROP COLUMN "UserId";
2025-02-25 12:32:38.336 +01:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ALTER COLUMN "MapPublicationDate" TYPE text;
2025-02-25 12:32:38.358 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserMapLikes" (
    "UserId" integer NOT NULL,
    "MapId" integer NOT NULL,
    CONSTRAINT "PK_UserMapLikes" PRIMARY KEY ("UserId", "MapId"),
    CONSTRAINT "FK_UserMapLikes_Maps_MapId" FOREIGN KEY ("MapId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE,
    CONSTRAINT "FK_UserMapLikes_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("UserId") ON DELETE CASCADE
);
2025-02-25 12:32:38.385 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserMapLikes_MapId" ON "UserMapLikes" ("MapId");
2025-02-25 12:32:38.385 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241019194027_CREATE_TABLE_USERMAPLIKE', '7.0.20');
2025-02-25 12:32:38.389 +01:00 [INF] Applying migration '20241026193343_INSERT_INTO_PLACE_ADD_COLUMN_PLACECOLOR'.
2025-02-25 12:32:38.394 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" ADD "PlaceColor" text NULL;
2025-02-25 12:32:38.394 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241026193343_INSERT_INTO_PLACE_ADD_COLUMN_PLACECOLOR', '7.0.20');
2025-02-25 12:32:40.066 +01:00 [INF] Applying migration '20241026225059_INSERT_INTO_PLACE_ADD_COLUMN_PLACECOUNTRY'.
2025-02-25 12:32:40.071 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" ADD "PlaceCountry" text NULL;
2025-02-25 12:32:40.071 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241026225059_INSERT_INTO_PLACE_ADD_COLUMN_PLACECOUNTRY', '7.0.20');
2025-02-25 12:32:40.071 +01:00 [INF] Applying migration '20241029161203_INSERT_INTO_USER_ADD_COLUMN_RESETPASSWORDTOKEN_AND_RESETPASSWORDTOKENEXPIRED'.
2025-02-25 12:32:40.076 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "ResetPasswordToken" text NULL;
2025-02-25 12:32:40.076 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "ResetPasswordTokenExpiration" timestamp with time zone NULL;
2025-02-25 12:32:40.077 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241029161203_INSERT_INTO_USER_ADD_COLUMN_RESETPASSWORDTOKEN_AND_RESETPASSWORDTOKENEXPIRED', '7.0.20');
2025-02-25 12:32:40.077 +01:00 [INF] Applying migration '20241029230127_INSERT_INTO_USER_ADD_COLUMN_USERROLEID'.
2025-02-25 12:32:40.083 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" DROP CONSTRAINT "FK_Users_Roles_UserRoleRoleId";
2025-02-25 12:32:40.083 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" RENAME COLUMN "UserRoleRoleId" TO "UserRoleId";
2025-02-25 12:32:40.083 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Users_UserRoleRoleId" RENAME TO "IX_Users_UserRoleId";
2025-02-25 12:32:40.085 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("UserId", "ResetPasswordToken", "ResetPasswordTokenExpiration", "UserCreatedDate", "UserEmail", "UserName", "UserPassword", "UserProfilePicture", "UserRoleId")
VALUES (1, NULL, NULL, NULL, 'admin@admin.pl', 'admin', '$2a$13$n7CWz1yTGsLnIBWaoCLrDuRENYG37WWCslR.2IZwRFJvoMU9o/fA2', NULL, 2);
2025-02-25 12:32:40.086 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD CONSTRAINT "FK_Users_Roles_UserRoleId" FOREIGN KEY ("UserRoleId") REFERENCES "Roles" ("RoleId") ON DELETE CASCADE;
2025-02-25 12:32:40.087 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Users"', 'UserId'),
    GREATEST(
        (SELECT MAX("UserId") FROM "Users") + 1,
        nextval(pg_get_serial_sequence('"Users"', 'UserId'))),
    false);
2025-02-25 12:32:40.087 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241029230127_INSERT_INTO_USER_ADD_COLUMN_USERROLEID', '7.0.20');
2025-02-25 12:32:40.095 +01:00 [INF] Applying migration '20241122185432_update'.
2025-02-25 12:32:40.103 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" DROP CONSTRAINT "FK_Users_Roles_UserRoleId";
2025-02-25 12:32:40.103 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ALTER COLUMN "UserRoleId" DROP NOT NULL;
2025-02-25 12:32:40.104 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "UserPassword" = '$2a$13$0vEP3cinvuNf/K4uJOoZIufW0z9ZOjwK5hoUvPwFormi1kZx0gPf6'
WHERE "UserId" = 1;
2025-02-25 12:32:40.105 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD CONSTRAINT "FK_Users_Roles_UserRoleId" FOREIGN KEY ("UserRoleId") REFERENCES "Roles" ("RoleId");
2025-02-25 12:32:40.105 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241122185432_update', '7.0.20');
2025-02-25 12:32:41.885 +01:00 [INF] Applying migration '20241122190053_update2'.
2025-02-25 12:32:41.891 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "UserPassword" = '$2a$13$ImefbTv9EPQnXNXsdd0rfeEryeAW5W5p2.Vlg/5qjdtZZ2OA7e1bS'
WHERE "UserId" = 1;
2025-02-25 12:32:41.891 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241122190053_update2', '7.0.20');
2025-02-25 12:32:41.903 +01:00 [INF] Applying migration '20250224183134_fresh'.
2025-02-25 12:32:41.907 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" DROP COLUMN "Bounds";
2025-02-25 12:32:41.908 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" DROP COLUMN "PlaceRadius";
2025-02-25 12:32:41.908 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "UserPassword" = '$2a$13$rmLFn8kDYKQHa6N4KxWTf.2q0/e9BWySKmZHhpewXMQeSgPU0LULy'
WHERE "UserId" = 1;
2025-02-25 12:32:41.908 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250224183134_fresh', '7.0.20');
2025-02-25 12:32:41.911 +01:00 [INF] Applying migration '20250225113207_INSERT_INTO_USER_VERIFICATIONTOKEN'.
2025-02-25 12:32:41.917 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "IsVerified" boolean NOT NULL DEFAULT FALSE;
2025-02-25 12:32:41.917 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "LastVerificationEmailSent" timestamp with time zone NULL;
2025-02-25 12:32:41.917 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "VerificationToken" text NULL;
2025-02-25 12:32:41.917 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "VerificationTokenExpiration" timestamp with time zone NULL;
2025-02-25 12:32:41.918 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsVerified" = FALSE, "LastVerificationEmailSent" = NULL, "UserPassword" = '$2a$13$k79UR2Chenjhjv5L4z5AEuJjtfNglRCSdSu7v.eR5Jc87UIypmxkK', "VerificationToken" = NULL, "VerificationTokenExpiration" = NULL
WHERE "UserId" = 1;
2025-02-25 12:32:41.919 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("UserId", "IsVerified", "LastVerificationEmailSent", "ResetPasswordToken", "ResetPasswordTokenExpiration", "UserCreatedDate", "UserEmail", "UserName", "UserPassword", "UserProfilePicture", "UserRoleId", "VerificationToken", "VerificationTokenExpiration")
VALUES (2, FALSE, NULL, NULL, NULL, NULL, 'qwerty@qwerty.pl', 'qwerty', '$2a$13$1bfLdwKld.6cyqxMC6RPiOiEAoP1ZyX/GlNaAiR5uWFeKwH2gqD7e', NULL, 1, NULL, NULL);
2025-02-25 12:32:41.920 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Users"', 'UserId'),
    GREATEST(
        (SELECT MAX("UserId") FROM "Users") + 1,
        nextval(pg_get_serial_sequence('"Users"', 'UserId'))),
    false);
2025-02-25 12:32:41.920 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250225113207_INSERT_INTO_USER_VERIFICATIONTOKEN', '7.0.20');
2025-02-25 12:33:08.918 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 12:33:09.456 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 12:33:09.467 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 12:33:09.470 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 12:33:09.471 +01:00 [INF] Hosting environment: Development
2025-02-25 12:33:09.472 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 12:33:13.002 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 12:33:17.155 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 12:33:17.283 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 12:33:17.289 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4290.7053ms
2025-02-25 12:33:17.391 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 12:33:18.395 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 1003.9212ms
2025-02-25 12:33:20.353 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 12:33:24.439 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 12:33:24.440 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4087.5169ms
2025-02-25 12:33:27.470 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 12:33:37.473 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 12:33:37.474 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10004.3684ms
2025-02-25 12:33:40.499 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 12:33:50.635 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 12:33:50.641 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10142.7601ms
2025-02-25 12:33:53.675 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 12:33:55.059 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 12:33:55.062 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 1387.4746ms
2025-02-25 12:33:55.650 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 12:33:57.711 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:33:57.718 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:33:57.720 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:33:57.722 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:33:57.725 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:33:57.735 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:33:57.729 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 10.9725ms
2025-02-25 12:33:57.729 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 18.1110ms
2025-02-25 12:33:57.739 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:33:57.743 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:33:57.743 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:33:57.739 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:33:57.744 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:33:57.745 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 10.5007ms
2025-02-25 12:33:57.746 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 21.0804ms
2025-02-25 12:33:57.747 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:33:58.038 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:33:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:33:58.038 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:33:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:33:58.108 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:33:58'.
2025-02-25 12:33:58.111 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:33:58'.
2025-02-25 12:33:58.115 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:33:58.116 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:33:58.169 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:33:58.169 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:34:08.016 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:34:08.114 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:34:08.115 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:34:08.116 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9915.5654ms
2025-02-25 12:34:08.119 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:34:08.120 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:34:08.123 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:08'.
2025-02-25 12:34:08.125 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:34:08.125 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 10386.1639ms
2025-02-25 12:34:08.126 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:34:08.140 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:34:08.142 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.2195ms
2025-02-25 12:34:08.144 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:34:08.144 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:34:08.145 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:34:08.146 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 31.7193ms
2025-02-25 12:34:08.147 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:34:08.152 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:08'.
2025-02-25 12:34:08.154 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:34:08.155 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:34:08.160 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:34:08.161 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.7202ms
2025-02-25 12:34:08.162 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:34:08.162 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:34:08.163 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 19.2619ms
2025-02-25 12:34:08.164 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:34:08.166 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:34:08.170 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:08'.
2025-02-25 12:34:08.171 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:34:08.172 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:34:08.177 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:34:08.178 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.2603ms
2025-02-25 12:34:08.179 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:34:08.179 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 17.0297ms
2025-02-25 12:34:10.487 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:34:10.581 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:34:10.584 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12389.2095ms
2025-02-25 12:34:10.585 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:34:10.586 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:34:10.586 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:34:10.588 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:34:10.593 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:10'.
2025-02-25 12:34:10.595 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:34:10.595 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 12856.3037ms
2025-02-25 12:34:10.596 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:34:10.621 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:34:10.628 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:34:10.630 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 31.1632ms
2025-02-25 12:34:10.631 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:34:10.631 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:34:10.632 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 47.4542ms
2025-02-25 12:34:10.633 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:34:10.634 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:34:10.638 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:10'.
2025-02-25 12:34:10.639 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:34:10.640 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:34:10.700 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:34:10.706 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:34:10.707 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 66.1991ms
2025-02-25 12:34:10.709 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:34:10.709 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:34:10.710 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 78.3872ms
2025-02-25 12:34:10.710 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:34:10.712 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:34:10.715 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.02.2025 20:58:43', Current time (UTC): '25.02.2025 11:34:10'.
2025-02-25 12:34:10.716 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:34:10.717 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:34:10.723 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:34:10.728 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:34:10.730 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.5767ms
2025-02-25 12:34:10.731 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:34:10.732 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 23.0245ms
2025-02-25 12:36:46.626 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - -
2025-02-25 12:36:46.627 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:36:46.632 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - - - 204 - - 5.2964ms
2025-02-25 12:36:46.633 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 48
2025-02-25 12:36:46.634 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:36:46.635 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:36:46.640 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Object]] LoginUser(JurMaps.Model.DTO.LoginDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:36:52.215 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration", r."RoleId", r."RoleName"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."UserRoleId" = r."RoleId"
WHERE u."UserEmail" = @__email_0
LIMIT 1
2025-02-25 12:36:52.377 +01:00 [WRN] Błąd w AuthController.LoginUser
System.InvalidOperationException: Konto nie zostało zweryfikowane. Sprawdź swoją skrzynkę e-mail i kliknij link aktywacyjny.
   at JurMaps.Services.UserService.LoginUserAsync(LoginDto model, String ipAddress) in E:\jurmaps2\Services\UserService.cs:line 130
   at JurMaps.Controllers.AuthController.LoginUser(LoginDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 63
2025-02-25 12:36:52.387 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:36:52.389 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.LoginUser (JurMaps) in 5747.0508ms
2025-02-25 12:36:52.390 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:36:52.391 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 48 - 200 - application/json;+charset=utf-8 5758.1234ms
2025-02-25 12:38:29.853 +01:00 [INF] Executed DbCommand (876ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE "JurMaps";
2025-02-25 12:38:33.358 +01:00 [INF] Executed DbCommand (3,244ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE EXTENSION IF NOT EXISTS postgis;
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-02-25 12:38:33.407 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-02-25 12:38:33.411 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-02-25 12:38:33.443 +01:00 [INF] Applying migration '20240821002032_init1'.
2025-02-25 12:38:33.498 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE EXTENSION IF NOT EXISTS postgis;
2025-02-25 12:38:34.198 +01:00 [INF] Executed DbCommand (700ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Roles" (
    "RoleId" integer GENERATED BY DEFAULT AS IDENTITY,
    "RoleName" text NOT NULL,
    CONSTRAINT "PK_Roles" PRIMARY KEY ("RoleId")
);
2025-02-25 12:38:34.256 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Tags" (
    "TagId" integer GENERATED BY DEFAULT AS IDENTITY,
    "TagName" text NOT NULL,
    CONSTRAINT "PK_Tags" PRIMARY KEY ("TagId")
);
2025-02-25 12:38:34.336 +01:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Users" (
    "UserId" integer GENERATED BY DEFAULT AS IDENTITY,
    "UserName" text NOT NULL,
    "UserEmail" text NOT NULL,
    "UserPassword" text NOT NULL,
    "UserRoleRoleId" integer NOT NULL,
    CONSTRAINT "PK_Users" PRIMARY KEY ("UserId"),
    CONSTRAINT "FK_Users_Roles_UserRoleRoleId" FOREIGN KEY ("UserRoleRoleId") REFERENCES "Roles" ("RoleId") ON DELETE CASCADE
);
2025-02-25 12:38:34.396 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Maps" (
    "MapId" integer GENERATED BY DEFAULT AS IDENTITY,
    "MapName" text NULL,
    "MapDescription" text NULL,
    "MapCreatorId" integer NOT NULL,
    "UserId" integer NULL,
    CONSTRAINT "PK_Maps" PRIMARY KEY ("MapId"),
    CONSTRAINT "FK_Maps_Users_MapCreatorId" FOREIGN KEY ("MapCreatorId") REFERENCES "Users" ("UserId") ON DELETE CASCADE,
    CONSTRAINT "FK_Maps_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("UserId")
);
2025-02-25 12:38:34.425 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Comments" (
    "CommentId" integer NOT NULL,
    "CommentIsAnAnswer" boolean NOT NULL,
    "CommentLikesCount" integer NOT NULL,
    "CommentId1" integer NULL,
    "UserId" integer NULL,
    CONSTRAINT "PK_Comments" PRIMARY KEY ("CommentId"),
    CONSTRAINT "FK_Comments_Comments_CommentId1" FOREIGN KEY ("CommentId1") REFERENCES "Comments" ("CommentId"),
    CONSTRAINT "FK_Comments_Maps_CommentId" FOREIGN KEY ("CommentId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE,
    CONSTRAINT "FK_Comments_Users_CommentId" FOREIGN KEY ("CommentId") REFERENCES "Users" ("UserId") ON DELETE CASCADE,
    CONSTRAINT "FK_Comments_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("UserId")
);
2025-02-25 12:38:34.450 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "MapTag" (
    "MapTagsTagId" integer NOT NULL,
    "MapsWithThisTagMapId" integer NOT NULL,
    CONSTRAINT "PK_MapTag" PRIMARY KEY ("MapTagsTagId", "MapsWithThisTagMapId"),
    CONSTRAINT "FK_MapTag_Maps_MapsWithThisTagMapId" FOREIGN KEY ("MapsWithThisTagMapId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE,
    CONSTRAINT "FK_MapTag_Tags_MapTagsTagId" FOREIGN KEY ("MapTagsTagId") REFERENCES "Tags" ("TagId") ON DELETE CASCADE
);
2025-02-25 12:38:34.502 +01:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Photos" (
    "PhotoId" integer GENERATED BY DEFAULT AS IDENTITY,
    "PhotoSource" text NOT NULL,
    "PhotoWhenTaken" timestamp with time zone NULL,
    "PhotoMapThumbnailMapId" integer NOT NULL,
    CONSTRAINT "PK_Photos" PRIMARY KEY ("PhotoId"),
    CONSTRAINT "FK_Photos_Maps_PhotoMapThumbnailMapId" FOREIGN KEY ("PhotoMapThumbnailMapId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE
);
2025-02-25 12:38:34.556 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Places" (
    "PlaceId" integer GENERATED BY DEFAULT AS IDENTITY,
    "PlaceName" text NULL,
    "PlaceType" text NULL,
    "PlacePosition" geometry NULL,
    "PlaceRadius" double precision NULL,
    "Bounds" geometry NULL,
    "MapId" integer NOT NULL,
    "PlaceDescription" text NULL,
    CONSTRAINT "PK_Places" PRIMARY KEY ("PlaceId"),
    CONSTRAINT "FK_Places_Maps_MapId" FOREIGN KEY ("MapId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE
);
2025-02-25 12:38:34.558 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Roles" ("RoleId", "RoleName")
VALUES (1, 'user');
INSERT INTO "Roles" ("RoleId", "RoleName")
VALUES (2, 'admin');
2025-02-25 12:38:34.582 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Comments_CommentId1" ON "Comments" ("CommentId1");
2025-02-25 12:38:34.621 +01:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Comments_UserId" ON "Comments" ("UserId");
2025-02-25 12:38:34.641 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Maps_MapCreatorId" ON "Maps" ("MapCreatorId");
2025-02-25 12:38:34.660 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Maps_UserId" ON "Maps" ("UserId");
2025-02-25 12:38:34.682 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MapTag_MapsWithThisTagMapId" ON "MapTag" ("MapsWithThisTagMapId");
2025-02-25 12:38:34.707 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Photos_PhotoMapThumbnailMapId" ON "Photos" ("PhotoMapThumbnailMapId");
2025-02-25 12:38:34.732 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Places_MapId" ON "Places" ("MapId");
2025-02-25 12:38:34.821 +01:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Users_UserRoleRoleId" ON "Users" ("UserRoleRoleId");
2025-02-25 12:38:34.823 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Roles"', 'RoleId'),
    GREATEST(
        (SELECT MAX("RoleId") FROM "Roles") + 1,
        nextval(pg_get_serial_sequence('"Roles"', 'RoleId'))),
    false);
2025-02-25 12:38:34.823 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240821002032_init1', '7.0.20');
2025-02-25 12:38:34.827 +01:00 [INF] Applying migration '20240823005128_init18'.
2025-02-25 12:38:34.866 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapUploaded" boolean NOT NULL DEFAULT FALSE;
2025-02-25 12:38:34.866 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240823005128_init18', '7.0.20');
2025-02-25 12:38:34.867 +01:00 [INF] Applying migration '20240826102600_init00'.
2025-02-25 12:38:34.871 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240826102600_init00', '7.0.20');
2025-02-25 12:38:34.872 +01:00 [INF] Applying migration '20240911210131_init41'.
2025-02-25 12:38:34.878 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" ADD "PlacePhoto1" text NULL;
2025-02-25 12:38:34.878 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" ADD "PlacePhoto2" text NULL;
2025-02-25 12:38:34.878 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" ADD "PlacePhoto3" text NULL;
2025-02-25 12:38:34.878 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240911210131_init41', '7.0.20');
2025-02-25 12:38:34.879 +01:00 [INF] Applying migration '20240922214121_dodanieLicznikaDoTagow'.
2025-02-25 12:38:34.885 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Tags" ADD "TagQuantity" integer NOT NULL DEFAULT 0;
2025-02-25 12:38:34.885 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20240922214121_dodanieLicznikaDoTagow', '7.0.20');
2025-02-25 12:38:34.885 +01:00 [INF] Applying migration '20241005193621_init111'.
2025-02-25 12:38:34.891 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241005193621_init111', '7.0.20');
2025-02-25 12:38:34.891 +01:00 [INF] Applying migration '20241006134310_ALTER_TABLE_MAP_ADD_COLUMNS'.
2025-02-25 12:38:36.923 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Photos";
2025-02-25 12:38:36.923 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapLikes" integer NULL;
2025-02-25 12:38:36.923 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapPlacesQuantity" integer NULL;
2025-02-25 12:38:36.924 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapPublicationDate" timestamp with time zone NULL;
2025-02-25 12:38:36.924 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapThumbnail" text NULL;
2025-02-25 12:38:36.924 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241006134310_ALTER_TABLE_MAP_ADD_COLUMNS', '7.0.20');
2025-02-25 12:38:36.927 +01:00 [INF] Applying migration '20241007222608_ALTER_TABLE_MAP_ADD_COLUMN'.
2025-02-25 12:38:36.936 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ADD "MapCountries" text[] NULL;
2025-02-25 12:38:36.936 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241007222608_ALTER_TABLE_MAP_ADD_COLUMN', '7.0.20');
2025-02-25 12:38:36.940 +01:00 [INF] Applying migration '20241007231356_poprawka'.
2025-02-25 12:38:36.944 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241007231356_poprawka', '7.0.20');
2025-02-25 12:38:36.945 +01:00 [INF] Applying migration '20241008165932_initttt'.
2025-02-25 12:38:36.949 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Comments";
2025-02-25 12:38:36.950 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "UserProfilePicture" text NULL;
2025-02-25 12:38:36.950 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241008165932_initttt', '7.0.20');
2025-02-25 12:38:36.959 +01:00 [INF] Applying migration '20241009155854_initqq'.
2025-02-25 12:38:36.967 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" DROP COLUMN "MapCountries";
2025-02-25 12:38:37.015 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Countries" (
    "CountryId" integer GENERATED BY DEFAULT AS IDENTITY,
    "CountryName" text NOT NULL,
    CONSTRAINT "PK_Countries" PRIMARY KEY ("CountryId")
);
2025-02-25 12:38:37.040 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "MapCountries" (
    "MapId" integer NOT NULL,
    "CountryId" integer NOT NULL,
    "ConnectionCount" integer NOT NULL,
    CONSTRAINT "PK_MapCountries" PRIMARY KEY ("MapId", "CountryId"),
    CONSTRAINT "FK_MapCountries_Countries_CountryId" FOREIGN KEY ("CountryId") REFERENCES "Countries" ("CountryId") ON DELETE CASCADE,
    CONSTRAINT "FK_MapCountries_Maps_MapId" FOREIGN KEY ("MapId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE
);
2025-02-25 12:38:37.063 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_MapCountries_CountryId" ON "MapCountries" ("CountryId");
2025-02-25 12:38:37.063 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241009155854_initqq', '7.0.20');
2025-02-25 12:38:37.064 +01:00 [INF] Applying migration '20241009181316_initasda'.
2025-02-25 12:38:37.069 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "UserCreated" timestamp with time zone NULL;
2025-02-25 12:38:37.069 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241009181316_initasda', '7.0.20');
2025-02-25 12:38:39.181 +01:00 [INF] Applying migration '20241010210603_initll'.
2025-02-25 12:38:39.187 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" RENAME COLUMN "UserCreated" TO "UserCreatedDate";
2025-02-25 12:38:39.187 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241010210603_initll', '7.0.20');
2025-02-25 12:38:39.188 +01:00 [INF] Applying migration '20241010232511_initlll'.
2025-02-25 12:38:39.198 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "UserCreatedDate" = TIMESTAMPTZ '-infinity' WHERE "UserCreatedDate" IS NULL;
ALTER TABLE "Users" ALTER COLUMN "UserCreatedDate" SET NOT NULL;
ALTER TABLE "Users" ALTER COLUMN "UserCreatedDate" SET DEFAULT TIMESTAMPTZ '-infinity';
2025-02-25 12:38:39.198 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241010232511_initlll', '7.0.20');
2025-02-25 12:38:39.198 +01:00 [INF] Applying migration '20241011130359_paosda'.
2025-02-25 12:38:39.295 +01:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ALTER COLUMN "UserCreatedDate" TYPE text;
ALTER TABLE "Users" ALTER COLUMN "UserCreatedDate" DROP NOT NULL;
2025-02-25 12:38:39.295 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241011130359_paosda', '7.0.20');
2025-02-25 12:38:39.298 +01:00 [INF] Applying migration '20241012120425_adkasda'.
2025-02-25 12:38:39.302 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241012120425_adkasda', '7.0.20');
2025-02-25 12:38:39.303 +01:00 [INF] Applying migration '20241019194027_CREATE_TABLE_USERMAPLIKE'.
2025-02-25 12:38:39.309 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" DROP CONSTRAINT "FK_Maps_Users_UserId";
2025-02-25 12:38:39.309 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Maps_UserId";
2025-02-25 12:38:39.310 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" DROP COLUMN "UserId";
2025-02-25 12:38:39.403 +01:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Maps" ALTER COLUMN "MapPublicationDate" TYPE text;
2025-02-25 12:38:39.432 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "UserMapLikes" (
    "UserId" integer NOT NULL,
    "MapId" integer NOT NULL,
    CONSTRAINT "PK_UserMapLikes" PRIMARY KEY ("UserId", "MapId"),
    CONSTRAINT "FK_UserMapLikes_Maps_MapId" FOREIGN KEY ("MapId") REFERENCES "Maps" ("MapId") ON DELETE CASCADE,
    CONSTRAINT "FK_UserMapLikes_Users_UserId" FOREIGN KEY ("UserId") REFERENCES "Users" ("UserId") ON DELETE CASCADE
);
2025-02-25 12:38:39.458 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_UserMapLikes_MapId" ON "UserMapLikes" ("MapId");
2025-02-25 12:38:39.458 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241019194027_CREATE_TABLE_USERMAPLIKE', '7.0.20');
2025-02-25 12:38:39.462 +01:00 [INF] Applying migration '20241026193343_INSERT_INTO_PLACE_ADD_COLUMN_PLACECOLOR'.
2025-02-25 12:38:39.467 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" ADD "PlaceColor" text NULL;
2025-02-25 12:38:39.467 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241026193343_INSERT_INTO_PLACE_ADD_COLUMN_PLACECOLOR', '7.0.20');
2025-02-25 12:38:39.482 +01:00 [INF] Applying migration '20241026225059_INSERT_INTO_PLACE_ADD_COLUMN_PLACECOUNTRY'.
2025-02-25 12:38:39.487 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" ADD "PlaceCountry" text NULL;
2025-02-25 12:38:41.095 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241026225059_INSERT_INTO_PLACE_ADD_COLUMN_PLACECOUNTRY', '7.0.20');
2025-02-25 12:38:41.096 +01:00 [INF] Applying migration '20241029161203_INSERT_INTO_USER_ADD_COLUMN_RESETPASSWORDTOKEN_AND_RESETPASSWORDTOKENEXPIRED'.
2025-02-25 12:38:41.100 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "ResetPasswordToken" text NULL;
2025-02-25 12:38:41.101 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "ResetPasswordTokenExpiration" timestamp with time zone NULL;
2025-02-25 12:38:41.101 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241029161203_INSERT_INTO_USER_ADD_COLUMN_RESETPASSWORDTOKEN_AND_RESETPASSWORDTOKENEXPIRED', '7.0.20');
2025-02-25 12:38:41.101 +01:00 [INF] Applying migration '20241029230127_INSERT_INTO_USER_ADD_COLUMN_USERROLEID'.
2025-02-25 12:38:41.107 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" DROP CONSTRAINT "FK_Users_Roles_UserRoleRoleId";
2025-02-25 12:38:41.107 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" RENAME COLUMN "UserRoleRoleId" TO "UserRoleId";
2025-02-25 12:38:41.107 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER INDEX "IX_Users_UserRoleRoleId" RENAME TO "IX_Users_UserRoleId";
2025-02-25 12:38:41.109 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("UserId", "ResetPasswordToken", "ResetPasswordTokenExpiration", "UserCreatedDate", "UserEmail", "UserName", "UserPassword", "UserProfilePicture", "UserRoleId")
VALUES (1, NULL, NULL, NULL, 'admin@admin.pl', 'admin', '$2a$13$n7CWz1yTGsLnIBWaoCLrDuRENYG37WWCslR.2IZwRFJvoMU9o/fA2', NULL, 2);
2025-02-25 12:38:41.110 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD CONSTRAINT "FK_Users_Roles_UserRoleId" FOREIGN KEY ("UserRoleId") REFERENCES "Roles" ("RoleId") ON DELETE CASCADE;
2025-02-25 12:38:41.111 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Users"', 'UserId'),
    GREATEST(
        (SELECT MAX("UserId") FROM "Users") + 1,
        nextval(pg_get_serial_sequence('"Users"', 'UserId'))),
    false);
2025-02-25 12:38:41.111 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241029230127_INSERT_INTO_USER_ADD_COLUMN_USERROLEID', '7.0.20');
2025-02-25 12:38:41.115 +01:00 [INF] Applying migration '20241122185432_update'.
2025-02-25 12:38:41.123 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" DROP CONSTRAINT "FK_Users_Roles_UserRoleId";
2025-02-25 12:38:41.123 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ALTER COLUMN "UserRoleId" DROP NOT NULL;
2025-02-25 12:38:41.124 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "UserPassword" = '$2a$13$0vEP3cinvuNf/K4uJOoZIufW0z9ZOjwK5hoUvPwFormi1kZx0gPf6'
WHERE "UserId" = 1;
2025-02-25 12:38:41.125 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD CONSTRAINT "FK_Users_Roles_UserRoleId" FOREIGN KEY ("UserRoleId") REFERENCES "Roles" ("RoleId");
2025-02-25 12:38:41.125 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241122185432_update', '7.0.20');
2025-02-25 12:38:41.126 +01:00 [INF] Applying migration '20241122190053_update2'.
2025-02-25 12:38:41.131 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "UserPassword" = '$2a$13$ImefbTv9EPQnXNXsdd0rfeEryeAW5W5p2.Vlg/5qjdtZZ2OA7e1bS'
WHERE "UserId" = 1;
2025-02-25 12:38:42.985 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20241122190053_update2', '7.0.20');
2025-02-25 12:38:42.985 +01:00 [INF] Applying migration '20250224183134_fresh'.
2025-02-25 12:38:42.990 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" DROP COLUMN "Bounds";
2025-02-25 12:38:42.990 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Places" DROP COLUMN "PlaceRadius";
2025-02-25 12:38:42.990 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "UserPassword" = '$2a$13$rmLFn8kDYKQHa6N4KxWTf.2q0/e9BWySKmZHhpewXMQeSgPU0LULy'
WHERE "UserId" = 1;
2025-02-25 12:38:42.991 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250224183134_fresh', '7.0.20');
2025-02-25 12:38:42.991 +01:00 [INF] Applying migration '20250225113207_INSERT_INTO_USER_VERIFICATIONTOKEN'.
2025-02-25 12:38:42.996 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "IsVerified" boolean NOT NULL DEFAULT FALSE;
2025-02-25 12:38:42.996 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "LastVerificationEmailSent" timestamp with time zone NULL;
2025-02-25 12:38:42.996 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "VerificationToken" text NULL;
2025-02-25 12:38:42.996 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Users" ADD "VerificationTokenExpiration" timestamp with time zone NULL;
2025-02-25 12:38:42.997 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsVerified" = FALSE, "LastVerificationEmailSent" = NULL, "UserPassword" = '$2a$13$k79UR2Chenjhjv5L4z5AEuJjtfNglRCSdSu7v.eR5Jc87UIypmxkK', "VerificationToken" = NULL, "VerificationTokenExpiration" = NULL
WHERE "UserId" = 1;
2025-02-25 12:38:42.998 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("UserId", "IsVerified", "LastVerificationEmailSent", "ResetPasswordToken", "ResetPasswordTokenExpiration", "UserCreatedDate", "UserEmail", "UserName", "UserPassword", "UserProfilePicture", "UserRoleId", "VerificationToken", "VerificationTokenExpiration")
VALUES (2, FALSE, NULL, NULL, NULL, NULL, 'qwerty@qwerty.pl', 'qwerty', '$2a$13$1bfLdwKld.6cyqxMC6RPiOiEAoP1ZyX/GlNaAiR5uWFeKwH2gqD7e', NULL, 1, NULL, NULL);
2025-02-25 12:38:42.998 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Users"', 'UserId'),
    GREATEST(
        (SELECT MAX("UserId") FROM "Users") + 1,
        nextval(pg_get_serial_sequence('"Users"', 'UserId'))),
    false);
2025-02-25 12:38:42.999 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250225113207_INSERT_INTO_USER_VERIFICATIONTOKEN', '7.0.20');
2025-02-25 12:38:42.999 +01:00 [INF] Applying migration '20250225113819_INSERT_INTO_USER_VERIFICATIONTOKENv2'.
2025-02-25 12:38:43.005 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "UserPassword" = '$2a$13$5JyJOBIkaKUNYuv42VJ7VuNrEVXzCUbtOYEQ5rqSbD7X/fO7AYbLm'
WHERE "UserId" = 1;
2025-02-25 12:38:43.005 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
UPDATE "Users" SET "IsVerified" = TRUE, "UserPassword" = '$2a$13$8vH0gXb.nRBgayxP64OE4eZy9HZsMgdSsq1JEfNnt/R1IWsEFsEuW'
WHERE "UserId" = 2;
2025-02-25 12:38:43.005 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250225113819_INSERT_INTO_USER_VERIFICATIONTOKENv2', '7.0.20');
2025-02-25 12:39:52.193 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 12:39:52.373 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 12:39:52.374 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 12:39:52.376 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 12:39:52.377 +01:00 [INF] Hosting environment: Development
2025-02-25 12:39:52.377 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 12:39:53.097 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 12:39:57.252 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 12:39:57.368 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 12:39:57.374 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4280.1787ms
2025-02-25 12:39:57.448 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 12:39:57.653 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 205.7122ms
2025-02-25 12:40:00.448 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 12:40:10.462 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 12:40:10.464 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10016.1783ms
2025-02-25 12:40:13.488 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 12:40:21.267 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 12:40:21.270 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 12:40:21.271 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 7783.1835ms
2025-02-25 12:40:39.737 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - -
2025-02-25 12:40:39.744 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:40:39.747 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - - - 204 - - 9.8751ms
2025-02-25 12:40:39.749 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 48
2025-02-25 12:40:39.753 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:40:39.756 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:40:39.781 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Object]] LoginUser(JurMaps.Model.DTO.LoginDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:40:56.558 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration", r."RoleId", r."RoleName"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."UserRoleId" = r."RoleId"
WHERE u."UserEmail" = @__email_0
LIMIT 1
2025-02-25 12:41:08.323 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:41:08.353 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.LoginUser (JurMaps) in 28566.6309ms
2025-02-25 12:41:08.357 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:41:08.366 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:41:08.366 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:41:08.369 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:41:08.370 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:41:08.371 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 4.7833ms
2025-02-25 12:41:08.372 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 6.1662ms
2025-02-25 12:41:08.374 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:41:08.375 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:41:08.377 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 48 - 200 - application/json;+charset=utf-8 28627.8044ms
2025-02-25 12:41:08.378 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:41:08.379 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:41:08.437 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:41:08.437 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:41:08.444 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:41:08.444 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:41:08.458 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:41:08.462 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.8524ms
2025-02-25 12:41:08.464 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:41:08.465 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 89.9394ms
2025-02-25 12:41:08.487 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:41:08.519 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:41:08.521 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 74.1587ms
2025-02-25 12:41:08.522 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:41:08.523 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 149.2386ms
2025-02-25 12:41:59.831 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - -
2025-02-25 12:41:59.832 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:41:59.833 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/registeruser - - - 204 - - 1.9082ms
2025-02-25 12:41:59.834 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 78
2025-02-25 12:41:59.835 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:41:59.836 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-25 12:41:59.839 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] RegisterUser(JurMaps.Model.DTO.RegisterDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:42:05.323 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration", r."RoleId", r."RoleName"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."UserRoleId" = r."RoleId"
WHERE u."UserEmail" = @__email_0
LIMIT 1
2025-02-25 12:42:05.331 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserName" = @__userName_0
LIMIT 1
2025-02-25 12:42:05.909 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__roleId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT r."RoleId", r."RoleName"
FROM "Roles" AS r
WHERE r."RoleId" = @__roleId_0
LIMIT 1
2025-02-25 12:42:07.670 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime), @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?' (DbType = Int32), @p10='?', @p11='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("IsVerified", "LastVerificationEmailSent", "ResetPasswordToken", "ResetPasswordTokenExpiration", "UserCreatedDate", "UserEmail", "UserName", "UserPassword", "UserProfilePicture", "UserRoleId", "VerificationToken", "VerificationTokenExpiration")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "UserId";
2025-02-25 12:42:13.275 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:42:13.278 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.RegisterUser (JurMaps) in 13436.9216ms
2025-02-25 12:42:13.293 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.RegisterUser (JurMaps)'
2025-02-25 12:42:13.295 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/registeruser application/json 78 - 200 - application/json;+charset=utf-8 13460.4884ms
2025-02-25 12:42:47.019 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - -
2025-02-25 12:42:47.020 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:42:47.021 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - - - 204 - - 1.8985ms
2025-02-25 12:42:47.022 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 55
2025-02-25 12:42:47.023 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:42:47.024 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:42:47.025 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Object]] LoginUser(JurMaps.Model.DTO.LoginDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:42:52.259 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration", r."RoleId", r."RoleName"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."UserRoleId" = r."RoleId"
WHERE u."UserEmail" = @__email_0
LIMIT 1
2025-02-25 12:42:52.383 +01:00 [WRN] Błąd w AuthController.LoginUser
System.InvalidOperationException: Konto nie zostało zweryfikowane. Sprawdź swoją skrzynkę e-mail i kliknij link aktywacyjny.
   at JurMaps.Services.UserService.LoginUserAsync(LoginDto model, String ipAddress) in E:\jurmaps2\Services\UserService.cs:line 130
   at JurMaps.Controllers.AuthController.LoginUser(LoginDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 63
2025-02-25 12:42:52.430 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:42:52.432 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.LoginUser (JurMaps) in 5405.3153ms
2025-02-25 12:42:52.433 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:42:52.434 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 55 - 200 - application/json;+charset=utf-8 5411.4922ms
2025-02-25 12:43:04.656 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - -
2025-02-25 12:43:04.658 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:43:04.659 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - - - 204 - - 2.2246ms
2025-02-25 12:43:04.661 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 55
2025-02-25 12:43:04.662 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:43:04.663 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:43:04.664 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Object]] LoginUser(JurMaps.Model.DTO.LoginDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:43:10.260 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration", r."RoleId", r."RoleName"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."UserRoleId" = r."RoleId"
WHERE u."UserEmail" = @__email_0
LIMIT 1
2025-02-25 12:43:10.300 +01:00 [WRN] Błąd w AuthController.LoginUser
System.InvalidOperationException: Konto nie zostało zweryfikowane. Sprawdź swoją skrzynkę e-mail i kliknij link aktywacyjny.
   at JurMaps.Services.UserService.LoginUserAsync(LoginDto model, String ipAddress) in E:\jurmaps2\Services\UserService.cs:line 130
   at JurMaps.Controllers.AuthController.LoginUser(LoginDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 63
2025-02-25 12:43:10.303 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:43:10.304 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.LoginUser (JurMaps) in 5637.4237ms
2025-02-25 12:43:10.305 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:43:10.307 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 55 - 200 - application/json;+charset=utf-8 5645.6461ms
2025-02-25 12:46:15.749 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - -
2025-02-25 12:46:15.751 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:46:15.752 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - - - 204 - - 2.1332ms
2025-02-25 12:46:15.753 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 55
2025-02-25 12:46:15.755 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:46:15.756 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:46:15.757 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Object]] LoginUser(JurMaps.Model.DTO.LoginDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:46:21.312 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration", r."RoleId", r."RoleName"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."UserRoleId" = r."RoleId"
WHERE u."UserEmail" = @__email_0
LIMIT 1
2025-02-25 12:46:50.225 +01:00 [WRN] Błąd w AuthController.LoginUser
System.InvalidOperationException: Konto nie zostało zweryfikowane. Sprawdź swoją skrzynkę e-mail i kliknij link aktywacyjny.
   at JurMaps.Services.UserService.LoginUserAsync(LoginDto model, String ipAddress) in E:\jurmaps2\Services\UserService.cs:line 130
   at JurMaps.Controllers.AuthController.LoginUser(LoginDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 63
2025-02-25 12:47:07.368 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:47:07.441 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.LoginUser (JurMaps) in 51681.2234ms
2025-02-25 12:47:07.442 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:47:07.443 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 55 - 200 - application/json;+charset=utf-8 51689.4887ms
2025-02-25 12:48:49.707 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - -
2025-02-25 12:48:49.708 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:48:49.709 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - - - 204 - - 1.9627ms
2025-02-25 12:48:49.711 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 55
2025-02-25 12:48:49.712 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:48:49.713 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:48:49.714 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Object]] LoginUser(JurMaps.Model.DTO.LoginDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:48:54.866 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration", r."RoleId", r."RoleName"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."UserRoleId" = r."RoleId"
WHERE u."UserEmail" = @__email_0
LIMIT 1
2025-02-25 12:48:57.805 +01:00 [WRN] Błąd w AuthController.LoginUser
System.InvalidOperationException: Konto nie zostało zweryfikowane. Sprawdź swoją skrzynkę e-mail i kliknij link aktywacyjny.
   at JurMaps.Services.UserService.LoginUserAsync(LoginDto model, String ipAddress) in E:\jurmaps2\Services\UserService.cs:line 130
   at JurMaps.Controllers.AuthController.LoginUser(LoginDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 63
2025-02-25 12:48:57.808 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:48:57.809 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.LoginUser (JurMaps) in 8090.6342ms
2025-02-25 12:48:57.810 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:48:57.811 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 55 - 200 - application/json;+charset=utf-8 8099.8616ms
2025-02-25 12:57:28.398 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:57:28.400 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:57:28.400 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:57:28.398 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:57:28.413 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:28.415 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:28.416 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:28.417 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:28.418 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 19.6496ms
2025-02-25 12:57:28.419 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 19.6083ms
2025-02-25 12:57:28.420 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 20.4641ms
2025-02-25 12:57:28.423 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:57:28.421 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 22.7209ms
2025-02-25 12:57:28.426 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:57:28.427 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:28.433 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:28.442 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:28'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:57:28.442 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:28'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:57:28.457 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:28'.
2025-02-25 12:57:44.318 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:57:44.343 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:57:47.186 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:28'.
2025-02-25 12:57:49.051 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:57:49.870 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:57:49.873 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:49.871 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:57:49.876 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:57:49.877 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:57:49.879 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 2693.1801ms
2025-02-25 12:57:52.302 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:49'.
2025-02-25 12:57:52.303 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:57:49.052 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:57:49.870 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:57:49.052 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:57:49.052 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:57:49.329 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:57:52.306 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:57:52.307 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 23881.1922ms
2025-02-25 12:57:52.308 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:52.309 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:52.313 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:57:52.315 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:57:52.310 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:52.311 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:52.320 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:57:52.328 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:52'.
2025-02-25 12:57:52.316 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:57:52.329 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:57:52.311 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:52.330 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:57:52.331 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 13.5821ms
2025-02-25 12:57:52.333 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:57:52.341 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:52'.
2025-02-25 12:57:52.348 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:52'.
2025-02-25 12:57:52.349 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:57:52.357 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:52'.
2025-02-25 12:57:52.358 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:57:52.359 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:57:52.361 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:57:52.362 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:57:52.367 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:57:52'.
2025-02-25 12:57:52.370 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:57:52.370 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 3319.2799ms
2025-02-25 12:57:52.373 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:57:52.374 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:57:52.377 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:57:52.375 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:57:52.385 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:57:52.390 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:57:52.394 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.3199ms
2025-02-25 12:57:52.393 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:57:52.397 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:57:52.404 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 15.7867ms
2025-02-25 12:57:52.406 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 2536.1157ms
2025-02-25 12:57:52.407 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:57:52.409 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 3358.0210ms
2025-02-25 12:57:52.509 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:57:52.509 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:57:52.509 +01:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:57:52.515 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:57:52.517 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:57:52.518 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 132.6284ms
2025-02-25 12:57:52.520 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 124.8187ms
2025-02-25 12:57:52.520 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:57:52.522 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:57:52.523 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:57:52.526 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 2642.0353ms
2025-02-25 12:57:52.526 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:57:52.527 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 3475.9908ms
2025-02-25 12:57:52.528 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 3199.1208ms
2025-02-25 12:57:52.529 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:57:52.535 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:57:52.535 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 24111.8176ms
2025-02-25 12:57:52.537 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 164.5431ms
2025-02-25 12:57:52.540 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:57:52.541 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 3489.0970ms
2025-02-25 12:57:59.954 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - -
2025-02-25 12:57:59.955 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:59.956 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - - - 204 - - 2.1109ms
2025-02-25 12:57:59.958 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 55
2025-02-25 12:57:59.959 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:57:59.960 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:57:59.961 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Object]] LoginUser(JurMaps.Model.DTO.LoginDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:58:05.344 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration", r."RoleId", r."RoleName"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."UserRoleId" = r."RoleId"
WHERE u."UserEmail" = @__email_0
LIMIT 1
2025-02-25 12:58:05.406 +01:00 [WRN] Błąd w AuthController.LoginUser
System.InvalidOperationException: Konto nie zostało zweryfikowane. Sprawdź swoją skrzynkę e-mail i kliknij link aktywacyjny.
   at JurMaps.Services.UserService.LoginUserAsync(LoginDto model, String ipAddress) in E:\jurmaps2\Services\UserService.cs:line 130
   at JurMaps.Controllers.AuthController.LoginUser(LoginDto model) in E:\jurmaps2\Controllers\AuthController.cs:line 63
2025-02-25 12:58:05.409 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:58:05.410 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.LoginUser (JurMaps) in 5446.714ms
2025-02-25 12:58:05.411 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 12:58:05.412 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 55 - 200 - application/json;+charset=utf-8 5454.6243ms
2025-02-25 12:58:16.411 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:58:16.411 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:58:16.411 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:58:16.411 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:58:16.413 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.414 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.417 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.434 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 23.6244ms
2025-02-25 12:58:16.436 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 25.0810ms
2025-02-25 12:58:16.438 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 26.7730ms
2025-02-25 12:58:16.438 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:58:16.418 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:58:16.418 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:58:16.420 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.418 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:58:16.463 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.447 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:58:16.457 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.458 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.459 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.462 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 50.8633ms
2025-02-25 12:58:16.464 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 46.0178ms
2025-02-25 12:58:16.418 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:58:16.466 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.467 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:58:16.468 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 49.9714ms
2025-02-25 12:58:16.471 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 53.4964ms
2025-02-25 12:58:16.480 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.482 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:58:16.496 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
2025-02-25 12:58:16.500 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 81.7294ms
2025-02-25 12:58:16.511 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
2025-02-25 12:58:16.511 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:58:16.514 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:58:16.516 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:58:16.516 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:58:16.522 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:58:16.525 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.5537ms
2025-02-25 12:58:16.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:58:16.527 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:58:16.529 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.530 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:58:16.530 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 91.3880ms
2025-02-25 12:58:16.532 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:58:16.539 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:58:16.549 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
2025-02-25 12:58:16.551 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 27.8698ms
2025-02-25 12:58:16.552 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:58:16.555 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:58:16.556 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:58:16.557 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.558 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:58:16.560 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 113.1884ms
2025-02-25 12:58:16.562 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:58:16.568 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:58:16.577 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
2025-02-25 12:58:16.579 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.6431ms
2025-02-25 12:58:16.580 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:58:16.581 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:58:16.584 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:58:16.585 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.586 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:58:16.587 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 61.1028ms
2025-02-25 12:58:16.589 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:58:16.599 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:58:16.604 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
2025-02-25 12:58:16.607 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:58:16.608 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:58:16.609 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:58:16.612 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 20.7826ms
2025-02-25 12:58:16.613 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:58:16.613 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:58:16.613 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:58:16.615 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 62.9570ms
2025-02-25 12:58:16.617 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.9811ms
2025-02-25 12:58:16.618 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.618 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:58:16.620 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:58:16.621 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:58:16.621 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.622 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 42.2083ms
2025-02-25 12:58:16.630 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
2025-02-25 12:58:16.631 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:58:16.633 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:58:16.639 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
2025-02-25 12:58:16.640 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:58:16.641 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:58:16.646 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:58:16.647 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:58:16.652 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:58:16.654 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.4907ms
2025-02-25 12:58:16.655 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:58:16.655 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:58:16.655 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 37.2492ms
2025-02-25 12:58:16.657 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.3528ms
2025-02-25 12:58:16.659 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:58:16.661 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:58:16.662 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:58:16.663 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 50.2630ms
2025-02-25 12:58:16.664 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:58:16.672 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:58:16'.
2025-02-25 12:58:16.673 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:58:16.678 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:58:16.692 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:58:16.707 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:58:16.709 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 29.1275ms
2025-02-25 12:58:16.710 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:58:16.711 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 52.3561ms
2025-02-25 12:59:03.617 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:59:03.618 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:59:03.622 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.630 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.617 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:59:03.626 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:59:03.626 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 12:59:03.619 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:59:03.626 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:59:03.633 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 12:59:03.634 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 17.3699ms
2025-02-25 12:59:03.636 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 18.1693ms
2025-02-25 12:59:03.638 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.639 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.641 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.642 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.649 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:59:03.649 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 31.9022ms
2025-02-25 12:59:03.651 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 24.9724ms
2025-02-25 12:59:03.652 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 26.1087ms
2025-02-25 12:59:03.643 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.645 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.653 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:59:03.653 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 34.0294ms
2025-02-25 12:59:03.654 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.660 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 34.9754ms
2025-02-25 12:59:03.663 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.662 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 28.2444ms
2025-02-25 12:59:03.666 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:59:03.668 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:59:03.684 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
2025-02-25 12:59:03.698 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
2025-02-25 12:59:03.699 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:59:03.701 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:59:03.702 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:59:03.705 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:59:03.710 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:59:03.713 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.3013ms
2025-02-25 12:59:03.715 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:59:03.715 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:59:03.716 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:59:03.719 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.720 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 71.2513ms
2025-02-25 12:59:03.728 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:59:03.730 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:59:03.752 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
2025-02-25 12:59:03.755 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 44.5166ms
2025-02-25 12:59:03.759 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:59:03.762 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:59:03.765 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:59:03.766 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.769 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:59:03.770 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 117.7490ms
2025-02-25 12:59:03.772 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:59:03.781 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:59:03.797 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
2025-02-25 12:59:03.799 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 22.1941ms
2025-02-25 12:59:03.801 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:59:03.802 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:59:03.802 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:59:03.804 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:59:03.805 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.807 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 92.3286ms
2025-02-25 12:59:03.812 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:59:03.816 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:59:03.820 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
2025-02-25 12:59:03.823 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:59:03.826 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:59:03.827 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:59:03.828 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 17.2155ms
2025-02-25 12:59:03.830 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:59:03.831 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:59:03.832 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.833 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:59:03.833 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 74.3598ms
2025-02-25 12:59:03.834 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:59:03.835 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.6405ms
2025-02-25 12:59:03.837 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 12:59:03.843 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
2025-02-25 12:59:03.844 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:59:03.845 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.846 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:59:03.847 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 45.3463ms
2025-02-25 12:59:03.848 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:59:03.848 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:59:03.855 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
2025-02-25 12:59:03.859 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:59:03.860 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:59:03.862 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:59:03.865 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:59:03.867 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.8988ms
2025-02-25 12:59:03.868 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 12:59:03.869 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:59:03.869 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 32.8117ms
2025-02-25 12:59:03.873 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 15.2441ms
2025-02-25 12:59:03.874 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 12:59:03.875 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:59:03.876 +01:00 [INF] CORS policy execution successful.
2025-02-25 12:59:03.877 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 47.2622ms
2025-02-25 12:59:03.878 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 12:59:03.885 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 11:59:03'.
2025-02-25 12:59:03.888 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:59:03.889 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 12:59:03.895 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 12:59:03.901 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 12:59:03.902 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.472ms
2025-02-25 12:59:03.904 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 12:59:03.905 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 31.1149ms
2025-02-25 13:01:12.121 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:01:12.122 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:01:12.121 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:01:12.139 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.122 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:01:12.131 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.130 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:01:12.130 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:01:12.138 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:01:12.145 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:01:12.145 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.146 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 24.6332ms
2025-02-25 13:01:12.147 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.153 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 31.7229ms
2025-02-25 13:01:12.161 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:01:12.160 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 38.7951ms
2025-02-25 13:01:12.149 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 28.4211ms
2025-02-25 13:01:12.150 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.151 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.152 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.152 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.161 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:01:12.168 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.171 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 41.4991ms
2025-02-25 13:01:12.172 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 42.0501ms
2025-02-25 13:01:12.173 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 34.9795ms
2025-02-25 13:01:12.174 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 29.0239ms
2025-02-25 13:01:12.175 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.177 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:01:12.183 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:01:12.188 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
2025-02-25 13:01:12.198 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
2025-02-25 13:01:12.200 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:01:12.202 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:01:12.203 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:01:12.204 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:01:12.212 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:01:12.218 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 11.4205ms
2025-02-25 13:01:12.222 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:01:12.222 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:01:12.229 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:01:12.236 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.238 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 77.2989ms
2025-02-25 13:01:12.238 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:01:12.242 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:01:12.245 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 31.3252ms
2025-02-25 13:01:12.247 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:01:12.260 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
2025-02-25 13:01:12.262 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:01:12.263 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.264 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:01:12.266 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 104.9401ms
2025-02-25 13:01:12.267 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:01:12.268 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:01:12.283 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
2025-02-25 13:01:12.293 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:01:12.294 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:01:12.298 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:01:12.305 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:01:12.300 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9.8501ms
2025-02-25 13:01:12.321 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:01:12.321 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 99.1108ms
2025-02-25 13:01:12.314 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.331 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:01:12.331 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:01:12.342 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
2025-02-25 13:01:12.346 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:01:12.347 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:01:12.348 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:01:12.353 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 41.7901ms
2025-02-25 13:01:12.354 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:01:12.354 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:01:12.354 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:01:12.355 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.2393ms
2025-02-25 13:01:12.356 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 109.0414ms
2025-02-25 13:01:12.358 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:01:12.358 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.359 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:01:12.361 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.362 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:01:12.364 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 59.2535ms
2025-02-25 13:01:12.365 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:01:12.371 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
2025-02-25 13:01:12.380 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
2025-02-25 13:01:12.381 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:01:12.382 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:01:12.383 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:01:12.383 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:01:12.389 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:01:12.390 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:01:12.396 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.7217ms
2025-02-25 13:01:12.397 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:01:12.398 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:01:12.398 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 40.2547ms
2025-02-25 13:01:12.400 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.7091ms
2025-02-25 13:01:12.401 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:01:12.402 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:01:12.402 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:01:12.403 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 49.3178ms
2025-02-25 13:01:12.404 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:01:12.413 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:01:12'.
2025-02-25 13:01:12.415 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:01:12.415 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:01:12.421 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:01:12.430 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:01:12.432 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.7208ms
2025-02-25 13:01:12.433 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:01:12.434 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 33.1728ms
2025-02-25 13:03:52.723 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:03:52.723 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:03:52.726 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.727 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 4.1820ms
2025-02-25 13:03:52.725 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.728 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:03:52.732 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:03:52.743 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:03:52.741 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.732 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:03:52.753 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.752 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.754 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 26.1207ms
2025-02-25 13:03:52.732 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 9.1073ms
2025-02-25 13:03:52.756 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 15.6418ms
2025-02-25 13:03:52.758 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 26.7569ms
2025-02-25 13:03:52.755 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.745 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:03:52.747 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:03:52.755 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:03:52.760 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:03:52.763 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 31.2705ms
2025-02-25 13:03:52.764 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.765 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.766 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.766 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.768 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 22.7232ms
2025-02-25 13:03:52.769 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 21.3149ms
2025-02-25 13:03:52.770 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:03:52.771 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:03:52.780 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
2025-02-25 13:03:52.786 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
2025-02-25 13:03:52.787 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:03:52.788 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:03:52.790 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:03:52.791 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:03:52.796 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:03:52.797 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.8708ms
2025-02-25 13:03:52.798 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:03:52.798 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:03:52.800 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 44.8259ms
2025-02-25 13:03:52.801 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.804 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:03:52.813 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
2025-02-25 13:03:52.815 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:03:52.816 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:03:52.821 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:03:52.824 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.5924ms
2025-02-25 13:03:52.826 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:03:52.827 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:03:52.828 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.829 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 31.4637ms
2025-02-25 13:03:52.832 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:03:52.845 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
2025-02-25 13:03:52.847 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:03:52.849 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:03:52.861 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:03:52.863 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.2132ms
2025-02-25 13:03:52.865 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:03:52.866 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:03:52.867 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 41.1831ms
2025-02-25 13:03:52.869 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.884 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:03:52.897 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
2025-02-25 13:03:52.899 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:03:52.902 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:03:52.905 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:03:52.907 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:03:52.909 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.3754ms
2025-02-25 13:03:52.912 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:03:52.912 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:03:52.913 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 47.3075ms
2025-02-25 13:03:52.916 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 121.4276ms
2025-02-25 13:03:52.918 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:03:52.920 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:03:52.921 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.922 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 161.9908ms
2025-02-25 13:03:52.923 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:03:52.935 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
2025-02-25 13:03:52.936 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:03:52.937 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:03:52.944 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:03:52.953 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:03:52.954 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.7654ms
2025-02-25 13:03:52.955 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:03:52.956 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:03:52.956 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 38.2072ms
2025-02-25 13:03:52.958 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.963 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:03:52.969 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
2025-02-25 13:03:52.970 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:03:52.971 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:03:52.976 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:03:52.983 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:03:52.984 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.4894ms
2025-02-25 13:03:52.985 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:03:52.986 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:03:52.987 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 31.5041ms
2025-02-25 13:03:52.988 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:03:52.990 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:03:52.996 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:03:52'.
2025-02-25 13:03:52.998 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:03:52.999 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:03:53.005 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:03:53.012 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:03:53.014 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.7425ms
2025-02-25 13:03:53.015 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:03:53.016 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 30.1849ms
2025-02-25 13:09:29.008 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 13:09:29.176 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 13:09:29.178 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 13:09:29.180 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 13:09:29.180 +01:00 [INF] Hosting environment: Development
2025-02-25 13:09:29.181 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 13:09:29.620 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 13:09:33.780 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 13:09:33.896 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 13:09:33.901 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4285.3209ms
2025-02-25 13:09:33.968 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 13:09:34.608 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 639.7645ms
2025-02-25 13:09:36.959 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 13:09:41.039 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 13:09:41.040 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4081.5819ms
2025-02-25 13:09:44.058 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 13:09:48.150 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 13:09:48.151 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4093.2835ms
2025-02-25 13:09:51.172 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 13:10:01.178 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 13:10:01.179 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10007.0541ms
2025-02-25 13:10:04.202 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 13:10:06.979 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 13:10:06.981 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 2778.3486ms
2025-02-25 13:10:06.986 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 13:17:22.001 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:17:22.003 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:17:22.010 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:22.010 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:22.012 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 10.7308ms
2025-02-25 13:17:22.012 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 8.8595ms
2025-02-25 13:17:22.014 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:17:22.014 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:17:22.019 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:22.019 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:22.116 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:17:22.116 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:17:22.165 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:22'.
2025-02-25 13:17:22.174 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:22'.
2025-02-25 13:17:22.178 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:17:22.180 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:17:22.243 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:17:22.243 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:17:31.054 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:17:31.186 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8937.6424ms
2025-02-25 13:17:31.190 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:17:31.193 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9179.7167ms
2025-02-25 13:17:31.202 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:17:31.204 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:31.204 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 1.7354ms
2025-02-25 13:17:31.206 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:17:31.207 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:31.211 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:17:31.237 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:31'.
2025-02-25 13:17:31.239 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:17:31.240 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:17:31.257 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:17:31.260 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 16.908ms
2025-02-25 13:17:31.262 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:17:31.264 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 57.2587ms
2025-02-25 13:17:31.301 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:17:31.307 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:31.308 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:17:31.315 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:31'.
2025-02-25 13:17:31.317 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:17:31.317 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:17:31.329 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:17:31.331 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.9992ms
2025-02-25 13:17:31.333 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:17:31.335 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 34.1012ms
2025-02-25 13:17:31.342 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:17:31.343 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:31.345 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:17:31.353 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:31'.
2025-02-25 13:17:31.357 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:17:31.358 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:17:31.363 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:17:31.365 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.8075ms
2025-02-25 13:17:31.366 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:17:31.367 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 24.7341ms
2025-02-25 13:17:33.760 +01:00 [INF] Executed DbCommand (62ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:17:33.858 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:17:33.861 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11613.8591ms
2025-02-25 13:17:33.862 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:17:33.869 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:17:33.870 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:33.870 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 11856.7374ms
2025-02-25 13:17:33.871 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 1.6726ms
2025-02-25 13:17:33.873 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:17:33.875 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:33.876 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:17:33.884 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:33'.
2025-02-25 13:17:33.886 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:17:33.886 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:17:33.924 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:17:33.931 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:17:33.933 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 44.6553ms
2025-02-25 13:17:33.934 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:17:33.936 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 63.2763ms
2025-02-25 13:17:33.938 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:17:33.938 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:33.940 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:17:33.947 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:33'.
2025-02-25 13:17:33.948 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:17:33.949 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:17:34.008 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:17:34.015 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:17:34.016 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 65.3186ms
2025-02-25 13:17:34.017 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:17:34.018 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 80.4626ms
2025-02-25 13:17:34.020 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:17:34.022 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:17:34.023 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:17:34.029 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '21.02.2025 15:35:16', Current time (UTC): '25.02.2025 12:17:34'.
2025-02-25 13:17:34.030 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:17:34.031 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:17:34.038 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:17:34.044 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:17:34.045 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.1304ms
2025-02-25 13:17:34.046 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:17:34.048 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 28.1776ms
2025-02-25 13:39:40.994 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 13:39:41.175 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 13:39:41.176 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 13:39:41.178 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 13:39:41.179 +01:00 [INF] Hosting environment: Development
2025-02-25 13:39:41.179 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 13:39:41.875 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 13:39:46.023 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 13:39:46.146 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 13:39:46.152 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4280.5288ms
2025-02-25 13:39:46.220 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 13:39:48.868 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 2647.6619ms
2025-02-25 13:39:49.219 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 13:39:53.275 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 13:39:53.276 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4057.1068ms
2025-02-25 13:39:56.304 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 13:40:06.308 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 13:40:06.310 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10005.6454ms
2025-02-25 13:40:09.048 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 13:40:09.337 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 13:40:09.375 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 13:40:09.377 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 39.9826ms
2025-02-25 13:40:21.920 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:40:21.931 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:40:21.920 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:40:21.920 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:40:21.920 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:40:21.920 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:40:21.944 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:40:21.948 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:40:21.973 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:21.973 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:21.973 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:21.973 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:21.973 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:21.977 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 46.0600ms
2025-02-25 13:40:21.977 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 57.1653ms
2025-02-25 13:40:21.978 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 58.3205ms
2025-02-25 13:40:21.973 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:21.973 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:21.983 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 62.4343ms
2025-02-25 13:40:21.974 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:21.984 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:40:21.984 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:40:21.985 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 49.4426ms
2025-02-25 13:40:21.989 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 68.6233ms
2025-02-25 13:40:21.989 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 69.2174ms
2025-02-25 13:40:21.991 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 43.4536ms
2025-02-25 13:40:21.996 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:21.996 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:22.082 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:40:22.082 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:22'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:40:22.115 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:22'.
2025-02-25 13:40:22.120 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:22'.
2025-02-25 13:40:22.123 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:40:22.123 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:40:22.160 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:40:22.160 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:40:30.642 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:40:30.703 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:40:30.704 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:30.705 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8540.3013ms
2025-02-25 13:40:30.707 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:40:30.709 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:40:30.716 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:30'.
2025-02-25 13:40:30.719 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:40:30.719 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8735.0886ms
2025-02-25 13:40:30.720 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:40:30.737 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:40:30.740 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 15.5416ms
2025-02-25 13:40:30.741 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:40:30.741 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:40:30.742 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:30.744 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 40.4362ms
2025-02-25 13:40:30.745 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:40:30.754 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:30'.
2025-02-25 13:40:30.755 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:40:30.756 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:40:30.763 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:40:30.765 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.7505ms
2025-02-25 13:40:30.766 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:40:30.766 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:40:30.767 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 26.0936ms
2025-02-25 13:40:30.768 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:30.770 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:30'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:40:30.780 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:30'.
2025-02-25 13:40:30.782 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:40:30.783 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:40:30.789 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:40:30.791 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.7307ms
2025-02-25 13:40:30.792 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:40:30.793 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 27.0078ms
2025-02-25 13:40:33.096 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:40:33.202 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:40:33.206 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11041.7509ms
2025-02-25 13:40:33.207 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:40:33.207 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:40:33.208 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:33.211 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:40:33.217 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 11233.2962ms
2025-02-25 13:40:33.218 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:33'.
2025-02-25 13:40:33.220 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:40:33.221 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:40:33.243 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:40:33.249 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:40:33.251 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 26.6129ms
2025-02-25 13:40:33.252 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:40:33.253 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:40:33.255 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:33.257 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 50.0291ms
2025-02-25 13:40:33.258 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:40:33.266 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:33'.
2025-02-25 13:40:33.267 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:40:33.268 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:40:33.329 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:40:33.337 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:40:33.338 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 66.4149ms
2025-02-25 13:40:33.339 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:40:33.339 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:40:33.341 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:40:33.341 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 88.8774ms
2025-02-25 13:40:33.343 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:40:33.356 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:40:33'.
2025-02-25 13:40:33.358 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:40:33.359 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:40:33.367 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:40:33.377 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:40:33.379 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 16.5539ms
2025-02-25 13:40:33.381 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:40:33.382 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 42.5953ms
2025-02-25 13:42:24.212 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:42:24.212 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:42:24.219 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.228 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.212 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:42:24.213 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:42:24.212 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:42:24.219 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:42:24.224 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 13:42:24.230 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 13:42:24.230 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 18.0533ms
2025-02-25 13:42:24.231 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 18.6447ms
2025-02-25 13:42:24.232 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.232 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.240 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 27.5584ms
2025-02-25 13:42:24.233 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.241 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:42:24.241 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:42:24.241 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 27.5531ms
2025-02-25 13:42:24.247 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 35.1980ms
2025-02-25 13:42:24.234 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.234 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.236 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.256 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.257 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.261 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 41.8119ms
2025-02-25 13:42:24.265 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:42:24.262 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 37.2888ms
2025-02-25 13:42:24.263 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 33.3814ms
2025-02-25 13:42:24.266 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:42:24.280 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
2025-02-25 13:42:24.289 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
2025-02-25 13:42:24.290 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:42:24.291 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:42:24.292 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:42:24.293 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:42:24.298 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:42:24.301 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.0071ms
2025-02-25 13:42:24.302 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:42:24.302 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:42:24.303 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 62.3492ms
2025-02-25 13:42:24.304 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:42:24.305 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.311 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:42:24.315 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:42:24.322 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
2025-02-25 13:42:24.323 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 24.0233ms
2025-02-25 13:42:24.324 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:42:24.325 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:42:24.326 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:42:24.327 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:42:24.329 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.330 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 90.0711ms
2025-02-25 13:42:24.334 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:42:24.336 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:42:24.342 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
2025-02-25 13:42:24.346 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 13.522ms
2025-02-25 13:42:24.349 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:42:24.349 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:42:24.350 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:42:24.352 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:42:24.353 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.353 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 51.0032ms
2025-02-25 13:42:24.359 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:42:24.363 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:42:24.371 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
2025-02-25 13:42:24.376 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:42:24.377 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:42:24.377 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:42:24.379 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 21.8374ms
2025-02-25 13:42:24.382 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:42:24.383 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:42:24.384 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.385 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:42:24.385 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 60.1975ms
2025-02-25 13:42:24.386 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:42:24.387 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.2436ms
2025-02-25 13:42:24.389 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 13:42:24.395 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
2025-02-25 13:42:24.396 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:42:24.397 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.398 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:42:24.399 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 49.7897ms
2025-02-25 13:42:24.400 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:42:24.400 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:42:24.409 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
2025-02-25 13:42:24.412 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:42:24.413 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:42:24.415 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:42:24.419 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:42:24.421 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.6144ms
2025-02-25 13:42:24.422 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:42:24.422 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 13:42:24.423 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.4622ms
2025-02-25 13:42:24.424 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 35.3152ms
2025-02-25 13:42:24.425 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 13:42:24.426 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:42:24.427 +01:00 [INF] CORS policy execution successful.
2025-02-25 13:42:24.428 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 46.0057ms
2025-02-25 13:42:24.429 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 13:42:24.437 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '20.02.2025 14:41:27', Current time (UTC): '25.02.2025 12:42:24'.
2025-02-25 13:42:24.438 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:42:24.439 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 13:42:24.444 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 13:42:24.452 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 13:42:24.453 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.6862ms
2025-02-25 13:42:24.455 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 13:42:24.456 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 30.5428ms
2025-02-25 19:27:48.199 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 19:27:48.621 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 19:27:48.622 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 19:27:48.624 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 19:27:48.625 +01:00 [INF] Hosting environment: Development
2025-02-25 19:27:48.625 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 19:27:49.347 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:27:53.518 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 19:27:53.677 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:27:53.682 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4339.7214ms
2025-02-25 19:27:53.729 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 19:27:55.461 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 1732.6973ms
2025-02-25 19:27:56.740 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:28:00.810 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:28:00.811 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4070.7289ms
2025-02-25 19:28:03.834 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:28:07.913 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:28:07.914 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4080.1737ms
2025-02-25 19:28:10.936 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:28:20.952 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:28:20.953 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10016.9985ms
2025-02-25 19:28:23.978 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:28:33.994 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:28:33.994 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10015.9593ms
2025-02-25 19:28:37.022 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:28:44.555 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 19:28:44.556 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 7533.8718ms
2025-02-25 19:28:44.559 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 19:33:42.369 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - -
2025-02-25 19:33:42.377 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:33:42.379 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/loginuser - - - 204 - - 10.2576ms
2025-02-25 19:33:42.385 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 48
2025-02-25 19:33:42.388 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:33:42.392 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 19:33:42.438 +01:00 [INF] Route matched with {action = "LoginUser", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Object]] LoginUser(JurMaps.Model.DTO.LoginDto) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:34:00.142 +01:00 [INF] Executed DbCommand (79ms) [Parameters=[@__email_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", r."RoleId", r."RoleName"
FROM "Users" AS u
LEFT JOIN "Roles" AS r ON u."UserRoleId" = r."RoleId"
WHERE u."UserEmail" = @__email_0
LIMIT 1
2025-02-25 19:34:12.244 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Object, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:34:12.269 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.LoginUser (JurMaps) in 29827.025ms
2025-02-25 19:34:12.271 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.LoginUser (JurMaps)'
2025-02-25 19:34:12.276 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 19:34:12.276 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 19:34:12.278 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:12.279 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:12.281 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 4.4908ms
2025-02-25 19:34:12.283 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 6.7992ms
2025-02-25 19:34:12.284 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/auth/loginuser application/json 48 - 200 - application/json;+charset=utf-8 29898.9437ms
2025-02-25 19:34:12.286 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 19:34:12.286 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 19:34:12.289 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:12.290 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:12.340 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:34:12.340 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:34:12.344 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:34:12.344 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:34:12.359 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:34:12.362 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 15.8912ms
2025-02-25 19:34:12.363 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:34:12.364 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 77.3015ms
2025-02-25 19:34:12.376 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:34:12.408 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:34:12.409 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 62.0477ms
2025-02-25 19:34:12.410 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:34:12.412 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 125.5194ms
2025-02-25 19:34:14.832 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 19:34:14.833 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:14.834 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 1.8640ms
2025-02-25 19:34:14.835 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 19:34:14.837 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:14.839 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 19:34:14.843 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:34:14.905 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:34:15.137 +01:00 [INF] Executed DbCommand (106ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 19:34:15.153 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:34:15.155 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 308.999ms
2025-02-25 19:34:15.156 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 19:34:15.157 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 322.0854ms
2025-02-25 19:34:20.107 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/1 - -
2025-02-25 19:34:20.108 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/1 - -
2025-02-25 19:34:20.108 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/1 - -
2025-02-25 19:34:20.108 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/1 - -
2025-02-25 19:34:20.109 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:20.110 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:20.111 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:20.112 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:20.121 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/1 - - - 204 - - 13.3971ms
2025-02-25 19:34:20.124 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/1 - - - 204 - - 15.6765ms
2025-02-25 19:34:20.127 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/1 application/json -
2025-02-25 19:34:20.116 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/1 - - - 204 - - 7.7130ms
2025-02-25 19:34:20.115 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/1 - - - 204 - - 7.8904ms
2025-02-25 19:34:20.123 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/1 application/json -
2025-02-25 19:34:20.130 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:20.132 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:20.133 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:34:20.134 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:34:20.137 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:34:20.137 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:34:20.441 +01:00 [INF] Executed DbCommand (167ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 19:34:20.447 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:34:20.450 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 309.8885ms
2025-02-25 19:34:20.451 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:34:20.451 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/1 application/json -
2025-02-25 19:34:20.452 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/1 application/json - - 200 - application/json;+charset=utf-8 329.4469ms
2025-02-25 19:34:20.453 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:20.457 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:34:20.458 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:34:20.491 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 19:34:20.494 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:34:20.495 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 35.5297ms
2025-02-25 19:34:20.497 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:34:20.498 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/1 application/json - - 200 - application/json;+charset=utf-8 46.4189ms
2025-02-25 19:34:20.792 +01:00 [INF] Executed DbCommand (569ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 19:34:20.794 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:34:20.824 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 684.9223ms
2025-02-25 19:34:20.825 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:34:20.825 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/1 application/json -
2025-02-25 19:34:20.826 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/1 application/json - - 200 - application/json;+charset=utf-8 698.9493ms
2025-02-25 19:34:20.826 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:20.828 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:34:20.829 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:34:20.840 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 19:34:20.842 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:34:20.843 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 12.9118ms
2025-02-25 19:34:20.844 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:34:20.845 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/1 application/json - - 200 - application/json;+charset=utf-8 19.9157ms
2025-02-25 19:34:24.671 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/1 - -
2025-02-25 19:34:24.671 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/1 - -
2025-02-25 19:34:24.672 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:24.674 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:24.674 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/1 - - - 204 - - 3.0551ms
2025-02-25 19:34:24.675 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/1 - - - 204 - - 4.0418ms
2025-02-25 19:34:24.675 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/1 application/json 103
2025-02-25 19:34:24.676 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/1 application/json 8
2025-02-25 19:34:24.678 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:24.678 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:24.679 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 19:34:24.680 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 19:34:24.685 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:34:24.687 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:34:24.697 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 19:34:24.703 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 19:34:24.738 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 19:34:24.754 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Countries" ("CountryName")
VALUES (@p0)
RETURNING "CountryId";
2025-02-25 19:34:24.836 +01:00 [INF] Executed DbCommand (67ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 19:34:24.854 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 19:34:24.887 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 19:34:24.893 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 19:34:24.895 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:34:24.896 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 19:34:24.896 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 207.0084ms
2025-02-25 19:34:24.899 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 19:34:24.900 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/1 application/json 8 - 200 - application/json;+charset=utf-8 223.3720ms
2025-02-25 19:34:24.914 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 19:34:24.916 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:34:24.917 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 230.1299ms
2025-02-25 19:34:24.918 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 19:34:24.919 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/1 application/json 103 - 200 - application/json;+charset=utf-8 243.6650ms
2025-02-25 19:34:37.699 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryBfad4ogpCZD4HUkq 1250
2025-02-25 19:34:37.700 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:37.701 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 19:34:37.707 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 19:34:37.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__placeId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM "Places" AS p
WHERE p."PlaceId" = @__placeId_0
LIMIT 1
2025-02-25 19:34:37.910 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Places" SET "MapId" = @p0, "PlaceColor" = @p1, "PlaceCountry" = @p2, "PlaceDescription" = @p3, "PlaceName" = @p4, "PlacePhoto1" = @p5, "PlacePhoto2" = @p6, "PlacePhoto3" = @p7, "PlacePosition" = @p8, "PlaceType" = @p9
WHERE "PlaceId" = @p10;
2025-02-25 19:34:37.914 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:34:37.917 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 207.8579ms
2025-02-25 19:34:37.918 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 19:34:37.919 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryBfad4ogpCZD4HUkq 1250 - 200 - application/json;+charset=utf-8 220.5520ms
2025-02-25 19:34:58.972 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundarybloAadC47gHnJTmB 1250
2025-02-25 19:34:58.974 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:34:58.975 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 19:34:58.976 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 19:37:44.330 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 19:37:44.519 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 19:37:44.520 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 19:37:44.522 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 19:37:44.523 +01:00 [INF] Hosting environment: Development
2025-02-25 19:37:44.524 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 19:37:45.056 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:37:49.195 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 19:37:49.322 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:37:49.328 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4275.4399ms
2025-02-25 19:37:49.398 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 19:37:49.645 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 246.7125ms
2025-02-25 19:37:52.402 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:37:56.483 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:37:56.484 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4082.0495ms
2025-02-25 19:37:59.507 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:38:03.591 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:38:03.592 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4085.0066ms
2025-02-25 19:38:06.625 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:38:16.655 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:38:16.660 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10034.1097ms
2025-02-25 19:38:19.704 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:38:29.771 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:38:29.786 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10079.6073ms
2025-02-25 19:38:33.010 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:38:43.026 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:38:43.027 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10016.4190ms
2025-02-25 19:38:46.140 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:38:46.231 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 19:38:47.162 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 19:38:47.222 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 1081.5465ms
2025-02-25 19:38:51.673 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 19:38:51.684 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:38:51.689 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 16.1692ms
2025-02-25 19:38:51.692 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 19:38:51.692 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 19:38:51.697 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:38:51.697 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:38:51.699 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 6.8419ms
2025-02-25 19:38:51.703 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 19:38:51.780 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:38:53.198 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:38:53.198 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:38:53.300 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:38:53.300 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:39:08.405 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:39:08.589 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 19:39:08.590 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 15283.2001ms
2025-02-25 19:39:08.594 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:39:08.603 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:39:08.608 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:39:08.610 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 16918.6014ms
2025-02-25 19:39:08.610 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:39:08.630 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:39:08.635 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 22.103ms
2025-02-25 19:39:08.637 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 19:39:08.639 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:39:08.642 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:39:08.643 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 53.3329ms
2025-02-25 19:39:08.645 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:39:08.646 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:39:08.652 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:39:08.655 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.8678ms
2025-02-25 19:39:08.657 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 19:39:08.661 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:39:08.664 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:39:08.665 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 27.1885ms
2025-02-25 19:39:08.667 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:39:08.671 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:39:08.679 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:39:08.681 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.3407ms
2025-02-25 19:39:08.683 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:39:08.685 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 28.0147ms
2025-02-25 19:39:11.455 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:39:11.720 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:39:11.722 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 19:39:11.722 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:39:11.724 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 18420.4364ms
2025-02-25 19:39:11.724 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:39:11.724 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 19:39:11.726 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:39:11.726 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:39:11.726 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:39:11.730 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:39:11.731 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:39:11.734 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 20031.5160ms
2025-02-25 19:39:11.756 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:39:11.759 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 19:39:11.761 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:39:11.763 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:39:11.763 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:39:11.765 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:39:11.768 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 39.7035ms
2025-02-25 19:39:11.770 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:39:11.771 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 49.3664ms
2025-02-25 19:39:11.798 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:39:11.804 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:39:11.805 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 71.853ms
2025-02-25 19:39:11.806 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:39:11.807 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:39:11.809 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 84.4632ms
2025-02-25 19:39:11.813 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:39:11.814 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 49.1076ms
2025-02-25 19:39:11.815 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:39:11.816 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 56.8445ms
2025-02-25 19:42:19.703 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 19:42:19.704 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:19.705 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.1380ms
2025-02-25 19:42:19.706 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 19:42:19.709 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:19.711 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 19:42:19.717 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:42:19.757 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:42:20.038 +01:00 [INF] Executed DbCommand (76ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 19:42:20.056 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:42:20.058 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 339.4217ms
2025-02-25 19:42:20.059 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 19:42:20.060 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 353.6524ms
2025-02-25 19:42:32.027 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/2 - -
2025-02-25 19:42:32.029 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/2 - -
2025-02-25 19:42:32.030 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/2 - -
2025-02-25 19:42:32.030 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/2 - -
2025-02-25 19:42:32.033 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:32.034 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:32.035 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:32.037 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/2 - - - 204 - - 9.3626ms
2025-02-25 19:42:32.048 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/2 - - - 204 - - 14.9222ms
2025-02-25 19:42:32.038 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/2 - - - 204 - - 9.5219ms
2025-02-25 19:42:32.044 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/2 application/json -
2025-02-25 19:42:32.036 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:32.044 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/2 application/json -
2025-02-25 19:42:32.053 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:32.054 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/2 - - - 204 - - 23.5654ms
2025-02-25 19:42:32.054 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:32.055 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:42:32.057 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:42:32.060 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:42:32.062 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:42:32.299 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 19:42:32.304 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:42:32.305 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 240.677ms
2025-02-25 19:42:32.306 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:42:32.307 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/2 application/json -
2025-02-25 19:42:32.307 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/2 application/json - - 200 - application/json;+charset=utf-8 263.2107ms
2025-02-25 19:42:32.308 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:32.311 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:42:32.312 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:42:32.320 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 19:42:32.325 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:42:32.326 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 12.5661ms
2025-02-25 19:42:32.328 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:42:32.329 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/2 application/json - - 200 - application/json;+charset=utf-8 22.4278ms
2025-02-25 19:42:32.877 +01:00 [INF] Executed DbCommand (632ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 19:42:32.880 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:42:32.915 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 852.9004ms
2025-02-25 19:42:32.917 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:42:32.917 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/2 application/json -
2025-02-25 19:42:32.918 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/2 application/json - - 200 - application/json;+charset=utf-8 873.2988ms
2025-02-25 19:42:32.918 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:32.920 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:42:32.920 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:42:32.935 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 19:42:32.937 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:42:32.939 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 16.8948ms
2025-02-25 19:42:32.940 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:42:32.940 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/2 application/json - - 200 - application/json;+charset=utf-8 23.1788ms
2025-02-25 19:42:48.292 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/2 - -
2025-02-25 19:42:48.292 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/2 - -
2025-02-25 19:42:48.293 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:48.294 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:48.294 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/2 - - - 204 - - 2.6153ms
2025-02-25 19:42:48.295 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapdata/2 - - - 204 - - 2.9668ms
2025-02-25 19:42:48.296 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/2 application/json -
2025-02-25 19:42:48.298 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:48.298 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 19:42:48.303 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:42:48.314 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 19:42:48.318 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:42:48.335 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 19:42:48.341 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 35.8916ms
2025-02-25 19:42:48.343 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/2 application/json -
2025-02-25 19:42:48.343 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 19:42:48.344 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:42:48.345 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/2 application/json - - 200 - application/json;+charset=utf-8 48.6069ms
2025-02-25 19:42:48.345 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 19:42:48.348 +01:00 [INF] Route matched with {action = "GetMapData", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.MapDto]] GetMapData(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:42:48.356 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 19:42:48.361 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:42:48.364 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.MapDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-25 19:42:48.366 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapData (JurMaps) in 16.2377ms
2025-02-25 19:42:48.367 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapData (JurMaps)'
2025-02-25 19:42:48.369 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapdata/2 application/json - - 200 - application/json;+charset=utf-8 26.4720ms
2025-02-25 19:43:14.075 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/2 - -
2025-02-25 19:43:14.075 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/2 - -
2025-02-25 19:43:14.076 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:43:14.076 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:43:14.077 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/2 - - - 204 - - 2.7051ms
2025-02-25 19:43:14.078 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/2 - - - 204 - - 3.2895ms
2025-02-25 19:43:14.079 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/2 application/json 8
2025-02-25 19:43:14.080 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/2 application/json 102
2025-02-25 19:43:14.082 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:43:14.083 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:43:14.083 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 19:43:14.084 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 19:43:14.088 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:43:14.089 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:43:14.125 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 19:43:14.143 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 19:43:14.156 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 19:43:14.214 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 19:43:14.236 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 19:43:14.299 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 19:43:14.323 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 19:43:14.325 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:43:14.326 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 235.9813ms
2025-02-25 19:43:14.327 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 19:43:14.328 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/2 application/json 8 - 200 - application/json;+charset=utf-8 249.1153ms
2025-02-25 19:43:14.328 +01:00 [INF] Executed DbCommand (92ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 19:43:14.343 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 19:43:14.346 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:43:14.347 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 253.7711ms
2025-02-25 19:43:14.348 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 19:43:14.349 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/2 application/json 102 - 200 - application/json;+charset=utf-8 269.0495ms
2025-02-25 19:43:26.359 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryKPENWCMTOq8ScyNT 1250
2025-02-25 19:43:26.393 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:43:26.394 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 19:43:26.402 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 19:57:44.487 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 19:57:44.662 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 19:57:44.663 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 19:57:44.665 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 19:57:44.665 +01:00 [INF] Hosting environment: Development
2025-02-25 19:57:44.666 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 19:57:45.297 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:57:49.468 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 19:57:49.612 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:57:49.618 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4324.2182ms
2025-02-25 19:57:49.700 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 19:57:49.902 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 201.2838ms
2025-02-25 19:57:52.687 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:58:02.708 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 19:58:02.709 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10022.5538ms
2025-02-25 19:58:05.736 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 19:58:09.398 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 19:58:09.406 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 19:58:09.410 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 3673.2896ms
2025-02-25 19:58:10.809 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 19:58:10.810 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 19:58:10.809 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 19:58:10.809 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 19:58:10.809 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 19:58:10.809 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 19:58:10.809 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 19:58:10.816 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 19:58:10.899 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:10.899 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:10.899 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:10.899 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:10.903 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 93.0477ms
2025-02-25 19:58:10.899 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:10.899 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:10.902 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 93.0082ms
2025-02-25 19:58:10.903 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 93.2235ms
2025-02-25 19:58:10.911 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 101.4572ms
2025-02-25 19:58:10.912 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 102.3592ms
2025-02-25 19:58:10.902 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 93.0401ms
2025-02-25 19:58:10.899 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:10.899 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:10.910 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 19:58:10.913 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 19:58:10.916 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 107.0622ms
2025-02-25 19:58:10.917 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 101.9065ms
2025-02-25 19:58:10.921 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:10.921 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:11.004 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:58:11.004 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:58:11.066 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:58:11.066 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:58:19.755 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:19.903 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8832.0465ms
2025-02-25 19:58:19.907 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:58:19.911 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 9000.8841ms
2025-02-25 19:58:19.916 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 19:58:19.917 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:19.927 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:58:19.929 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:58:19.948 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:19.953 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 23.0899ms
2025-02-25 19:58:19.954 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:58:19.955 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 39.2398ms
2025-02-25 19:58:19.977 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 19:58:19.978 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:19.980 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:58:20.001 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:58:20.019 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:20.020 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.6167ms
2025-02-25 19:58:20.021 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:58:20.022 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 45.5309ms
2025-02-25 19:58:20.025 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 19:58:20.026 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:20.027 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:58:20.028 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:58:20.034 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:20.038 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.7986ms
2025-02-25 19:58:20.042 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 19:58:20.052 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 26.4514ms
2025-02-25 19:58:21.727 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:58:21.829 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:21.832 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10762.5758ms
2025-02-25 19:58:21.832 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 19:58:21.834 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:58:21.834 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:21.836 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:58:21.837 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:58:21.841 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10927.8997ms
2025-02-25 19:58:21.861 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:58:21.867 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:21.868 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 29.9764ms
2025-02-25 19:58:21.869 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:58:21.869 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 19:58:21.871 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 38.1486ms
2025-02-25 19:58:21.871 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:21.874 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:58:21.875 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:58:21.929 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:58:21.935 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:21.936 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 59.5167ms
2025-02-25 19:58:21.937 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:58:21.938 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 19:58:21.939 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 69.6221ms
2025-02-25 19:58:21.940 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:21.942 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:58:21.943 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 19:58:21.949 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:58:21.955 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:21.956 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.0161ms
2025-02-25 19:58:21.957 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 19:58:21.958 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 19.3346ms
2025-02-25 19:58:37.256 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 19:58:37.258 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:37.259 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.9426ms
2025-02-25 19:58:37.260 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 19:58:37.263 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:37.266 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 19:58:37.294 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:58:37.304 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 19:58:37.443 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 19:58:37.466 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:37.468 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 172.8853ms
2025-02-25 19:58:37.469 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 19:58:37.470 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 209.9622ms
2025-02-25 19:58:40.526 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/3 - -
2025-02-25 19:58:40.530 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/3 - -
2025-02-25 19:58:40.530 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/3 - -
2025-02-25 19:58:40.531 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/3 - -
2025-02-25 19:58:40.533 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:40.534 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:40.535 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:40.540 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:40.541 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/3 - - - 204 - - 14.7854ms
2025-02-25 19:58:40.541 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/3 - - - 204 - - 11.8323ms
2025-02-25 19:58:40.548 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/3 - - - 204 - - 17.7960ms
2025-02-25 19:58:40.548 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/3 - - - 204 - - 17.1433ms
2025-02-25 19:58:40.557 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/3 application/json -
2025-02-25 19:58:40.557 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/3 application/json -
2025-02-25 19:58:40.559 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:40.560 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:40.562 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:58:40.562 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:58:40.568 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:58:40.568 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:58:40.783 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 19:58:40.797 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:40.799 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 229.1201ms
2025-02-25 19:58:40.801 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:58:40.803 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/3 application/json -
2025-02-25 19:58:40.805 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/3 application/json - - 200 - application/json;+charset=utf-8 248.0325ms
2025-02-25 19:58:40.814 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:40.816 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:58:40.817 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:58:40.831 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 19:58:40.839 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:40.842 +01:00 [INF] Executed DbCommand (152ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 19:58:40.845 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 25.2603ms
2025-02-25 19:58:40.847 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 19:58:40.848 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:40.850 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/3 application/json - - 200 - application/json;+charset=utf-8 46.9770ms
2025-02-25 19:58:40.873 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 300.106ms
2025-02-25 19:58:40.878 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:58:40.878 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/3 application/json -
2025-02-25 19:58:40.880 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/3 application/json - - 200 - application/json;+charset=utf-8 322.9927ms
2025-02-25 19:58:40.880 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:40.882 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:58:40.884 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:58:40.935 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 19:58:40.942 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:40.944 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 56.9031ms
2025-02-25 19:58:40.948 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 19:58:40.950 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/3 application/json - - 200 - application/json;+charset=utf-8 72.6179ms
2025-02-25 19:58:44.221 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/3 - -
2025-02-25 19:58:44.221 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/3 - -
2025-02-25 19:58:44.225 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:44.225 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:44.227 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/3 - - - 204 - - 5.4411ms
2025-02-25 19:58:44.227 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/3 - - - 204 - - 5.6605ms
2025-02-25 19:58:44.230 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/3 application/json 8
2025-02-25 19:58:44.230 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/3 application/json 102
2025-02-25 19:58:44.232 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:44.233 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:44.234 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 19:58:44.234 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 19:58:44.239 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:58:44.239 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 19:58:44.262 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 19:58:44.276 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 19:58:44.280 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 19:58:44.305 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 19:58:44.337 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 19:58:44.358 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 19:58:44.359 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 19:58:44.367 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 19:58:44.373 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:44.375 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 134.1808ms
2025-02-25 19:58:44.380 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 19:58:44.382 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/3 application/json 8 - 200 - application/json;+charset=utf-8 152.5575ms
2025-02-25 19:58:44.397 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 19:58:44.400 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 19:58:44.402 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 159.9693ms
2025-02-25 19:58:44.403 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 19:58:44.404 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/3 application/json 102 - 200 - application/json;+charset=utf-8 173.5547ms
2025-02-25 19:58:51.836 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary4aNSpUUR2awaMUAk 1250
2025-02-25 19:58:51.837 +01:00 [INF] CORS policy execution successful.
2025-02-25 19:58:51.838 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 19:58:51.847 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 19:59:03.597 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 19:59:03.600 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 19:59:03.803 +01:00 [INF] Received HTTP response headers after 198.9157ms - 403
2025-02-25 19:59:03.805 +01:00 [INF] End processing HTTP request after 209.6758ms - 403
2025-02-25 20:16:33.641 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 20:16:33.815 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 20:16:33.816 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 20:16:33.818 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 20:16:33.819 +01:00 [INF] Hosting environment: Development
2025-02-25 20:16:33.819 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 20:16:34.415 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 20:16:38.560 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 20:16:38.711 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 20:16:38.821 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4410.9520ms
2025-02-25 20:16:38.941 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 20:16:39.387 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 446.0059ms
2025-02-25 20:16:41.890 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 20:16:51.902 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 20:16:51.903 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10012.5132ms
2025-02-25 20:16:54.921 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 20:16:56.115 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 20:16:56.115 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 20:16:56.117 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 1196.1304ms
2025-02-25 20:16:56.933 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 20:16:56.936 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 20:16:56.933 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 20:16:56.934 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 20:16:56.933 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 20:16:56.933 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 20:16:56.943 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 20:16:56.950 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 20:16:56.971 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:16:56.971 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:16:56.971 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:16:56.971 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:16:56.976 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 41.2556ms
2025-02-25 20:16:56.976 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 42.2967ms
2025-02-25 20:16:56.976 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 41.6521ms
2025-02-25 20:16:56.977 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 43.2750ms
2025-02-25 20:16:56.971 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:16:56.971 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:16:56.971 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:16:56.972 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:16:56.986 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 20:16:56.986 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 20:16:56.994 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 60.4078ms
2025-02-25 20:16:56.995 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 61.2252ms
2025-02-25 20:16:56.995 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 53.1475ms
2025-02-25 20:16:56.996 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 45.8283ms
2025-02-25 20:16:56.999 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:16:56.999 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:16:57.094 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:16:57.094 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:16:57.123 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:16:57.123 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:17:05.678 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:05.743 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 20:17:05.743 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:05.745 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8616.5854ms
2025-02-25 20:17:05.747 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:17:05.748 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:17:05.748 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:17:05.751 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8765.4816ms
2025-02-25 20:17:05.764 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:05.766 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 14.805ms
2025-02-25 20:17:05.767 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:17:05.768 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 20:17:05.769 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 26.1381ms
2025-02-25 20:17:05.769 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:05.772 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:17:05.777 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:17:05.782 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:05.784 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.2984ms
2025-02-25 20:17:05.785 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:17:05.785 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 20:17:05.786 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 18.3517ms
2025-02-25 20:17:05.787 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:05.790 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:17:05.791 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:17:05.797 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:05.799 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.7593ms
2025-02-25 20:17:05.800 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:17:05.801 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 16.1737ms
2025-02-25 20:17:06.834 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 20:17:06.835 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:06.838 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 3.0996ms
2025-02-25 20:17:06.838 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 20:17:06.841 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:06.843 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 20:17:06.849 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:17:07.349 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 20:17:07.349 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 20:17:07.449 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:07.452 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10325.4728ms
2025-02-25 20:17:07.452 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 20:17:07.454 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:17:07.454 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:07.456 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:17:07.457 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:17:07.463 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 10477.0831ms
2025-02-25 20:17:07.537 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 20:17:07.544 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:07.547 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 87.2472ms
2025-02-25 20:17:07.548 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 20:17:07.548 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:17:07.549 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:07.550 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 97.5251ms
2025-02-25 20:17:07.552 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:17:07.553 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:17:07.560 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 20:17:07.567 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:07.568 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.025ms
2025-02-25 20:17:07.569 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:17:07.569 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 20:17:07.570 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 22.0552ms
2025-02-25 20:17:07.571 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:07.573 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:17:07.574 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:17:07.579 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 20:17:07.584 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:07.585 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 9.7828ms
2025-02-25 20:17:07.586 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:17:07.587 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 17.7565ms
2025-02-25 20:17:07.594 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 20:17:07.617 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:07.619 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 767.3847ms
2025-02-25 20:17:07.620 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 20:17:07.621 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 782.8926ms
2025-02-25 20:17:10.410 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/4 - -
2025-02-25 20:17:10.414 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/4 - -
2025-02-25 20:17:10.414 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/4 - -
2025-02-25 20:17:10.415 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/4 - -
2025-02-25 20:17:10.508 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:10.509 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:10.513 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/4 - - - 204 - - 99.7423ms
2025-02-25 20:17:10.511 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:10.513 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/4 - - - 204 - - 102.4191ms
2025-02-25 20:17:10.511 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:10.518 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/4 - - - 204 - - 100.6022ms
2025-02-25 20:17:10.538 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/4 application/json -
2025-02-25 20:17:10.539 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/4 application/json -
2025-02-25 20:17:10.539 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/4 - - - 204 - - 125.1919ms
2025-02-25 20:17:10.541 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:10.542 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:10.545 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 20:17:10.546 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 20:17:10.550 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:17:10.550 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:17:10.793 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 20:17:10.796 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 20:17:10.835 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:10.835 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:10.848 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 222.6971ms
2025-02-25 20:17:10.850 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 20:17:10.853 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/4 application/json - - 200 - application/json;+charset=utf-8 314.8694ms
2025-02-25 20:17:10.870 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 246.7619ms
2025-02-25 20:17:10.874 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 20:17:10.875 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/4 application/json - - 200 - application/json;+charset=utf-8 335.9316ms
2025-02-25 20:17:10.895 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/4 application/json -
2025-02-25 20:17:10.895 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/4 application/json -
2025-02-25 20:17:10.896 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:10.897 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:10.898 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 20:17:10.901 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 20:17:10.902 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:17:10.903 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:17:11.047 +01:00 [INF] Executed DbCommand (74ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 20:17:11.054 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:11.057 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 106.8349ms
2025-02-25 20:17:11.061 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 20:17:11.063 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 20:17:11.064 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/4 application/json - - 200 - application/json;+charset=utf-8 168.9676ms
2025-02-25 20:17:11.070 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:11.074 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 26.2329ms
2025-02-25 20:17:11.077 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 20:17:11.081 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/4 application/json - - 200 - application/json;+charset=utf-8 186.1026ms
2025-02-25 20:17:13.830 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/4 - -
2025-02-25 20:17:13.830 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/4 - -
2025-02-25 20:17:13.831 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:13.832 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:13.834 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/4 - - - 204 - - 3.2373ms
2025-02-25 20:17:13.834 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/4 - - - 204 - - 4.1749ms
2025-02-25 20:17:13.836 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/4 application/json 8
2025-02-25 20:17:13.836 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/4 application/json 103
2025-02-25 20:17:13.837 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:13.838 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:13.839 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 20:17:13.839 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 20:17:13.843 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:17:13.844 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:17:13.863 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 20:17:13.876 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 20:17:13.880 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 20:17:13.898 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 20:17:13.922 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 20:17:13.945 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 20:17:13.946 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 20:17:13.949 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 20:17:13.951 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:13.952 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 107.6285ms
2025-02-25 20:17:13.953 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 20:17:13.955 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/4 application/json 8 - 200 - application/json;+charset=utf-8 118.5038ms
2025-02-25 20:17:13.970 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 20:17:13.972 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:17:13.974 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 127.7924ms
2025-02-25 20:17:13.975 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 20:17:13.976 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/4 application/json 103 - 200 - application/json;+charset=utf-8 139.5988ms
2025-02-25 20:17:27.480 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryErHERtfYR5GZBNL1 1250
2025-02-25 20:17:27.483 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:17:27.484 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 20:17:27.491 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 20:17:37.045 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 20:17:37.048 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 20:17:37.402 +01:00 [INF] Received HTTP response headers after 350.9143ms - 200
2025-02-25 20:17:37.404 +01:00 [INF] End processing HTTP request after 360.9072ms - 200
2025-02-25 20:22:59.913 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 20:23:00.085 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 20:23:00.086 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 20:23:00.088 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 20:23:00.089 +01:00 [INF] Hosting environment: Development
2025-02-25 20:23:00.089 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 20:23:00.773 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 20:23:04.941 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 20:23:05.051 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 20:23:05.057 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4286.6311ms
2025-02-25 20:23:05.132 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 20:23:05.309 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 177.0662ms
2025-02-25 20:23:08.121 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 20:23:13.380 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 20:23:13.382 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 5260.8250ms
2025-02-25 20:23:13.404 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 20:23:14.360 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 20:23:14.363 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 20:23:14.390 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 20:23:14.363 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 20:23:14.363 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 20:23:14.381 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 20:23:14.363 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 20:23:14.394 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 20:23:14.427 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:14.430 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:14.430 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:14.436 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:14.436 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:14.436 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:14.436 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:14.437 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:14.440 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 76.8823ms
2025-02-25 20:23:14.440 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 52.2605ms
2025-02-25 20:23:14.440 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 76.9302ms
2025-02-25 20:23:14.444 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 80.4532ms
2025-02-25 20:23:14.443 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 73.1301ms
2025-02-25 20:23:14.444 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 81.2865ms
2025-02-25 20:23:14.440 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 79.7208ms
2025-02-25 20:23:14.449 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 54.6919ms
2025-02-25 20:23:14.450 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 20:23:14.456 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 20:23:14.474 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:14.475 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:14.574 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:23:14.574 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:23:14.628 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:23:14.628 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:23:23.299 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:23.371 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 20:23:23.372 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:23.373 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8724.7835ms
2025-02-25 20:23:23.376 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:23:23.377 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:23:23.378 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:23:23.380 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 8924.3046ms
2025-02-25 20:23:23.396 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:23.398 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 17.4616ms
2025-02-25 20:23:23.401 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 20:23:23.402 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:23:23.403 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:23.404 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 33.1108ms
2025-02-25 20:23:23.406 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:23:23.408 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:23:23.422 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:23.424 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.0878ms
2025-02-25 20:23:23.427 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 20:23:23.427 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:23:23.430 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:23.430 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 29.0783ms
2025-02-25 20:23:23.432 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:23:23.435 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:23:23.444 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:23.445 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.2952ms
2025-02-25 20:23:23.446 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 20:23:23.447 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 21.0319ms
2025-02-25 20:23:24.298 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 20:23:24.299 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:24.300 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 2.3326ms
2025-02-25 20:23:24.302 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 20:23:24.305 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:24.307 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 20:23:24.313 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:23:25.420 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 20:23:25.420 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 20:23:25.528 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:25.532 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10900.6861ms
2025-02-25 20:23:25.533 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 20:23:25.534 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:23:25.534 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:25.537 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:23:25.538 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:23:25.543 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 11092.9319ms
2025-02-25 20:23:25.613 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 20:23:25.620 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:25.623 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 82.0089ms
2025-02-25 20:23:25.624 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:23:25.624 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 20:23:25.625 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 92.1448ms
2025-02-25 20:23:25.626 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:25.628 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:23:25.629 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:23:25.637 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 20:23:25.642 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:25.644 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.0844ms
2025-02-25 20:23:25.645 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:23:25.645 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 20:23:25.646 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 21.7575ms
2025-02-25 20:23:25.646 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:25.648 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:23:25.649 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 20:23:25.656 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 20:23:25.663 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:25.664 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.3518ms
2025-02-25 20:23:25.665 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 20:23:25.666 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 21.1514ms
2025-02-25 20:23:25.680 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 20:23:25.702 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:25.703 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 1388.249ms
2025-02-25 20:23:25.704 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 20:23:25.705 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 1403.0886ms
2025-02-25 20:23:28.625 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/5 - -
2025-02-25 20:23:28.625 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/5 - -
2025-02-25 20:23:28.625 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/5 - -
2025-02-25 20:23:28.625 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/5 - -
2025-02-25 20:23:28.712 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:28.725 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:28.741 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/5 - - - 204 - - 115.9338ms
2025-02-25 20:23:28.740 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/5 application/json -
2025-02-25 20:23:28.730 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/5 - - - 204 - - 105.2729ms
2025-02-25 20:23:28.729 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:28.727 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:28.743 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/5 application/json -
2025-02-25 20:23:28.744 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:28.745 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/5 - - - 204 - - 119.8067ms
2025-02-25 20:23:28.746 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/5 - - - 204 - - 121.0595ms
2025-02-25 20:23:28.747 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:28.749 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 20:23:28.752 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 20:23:28.757 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:23:28.769 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:23:28.909 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 20:23:28.917 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:28.921 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 20:23:28.923 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 162.0653ms
2025-02-25 20:23:28.927 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:28.928 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 20:23:28.931 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/5 application/json - - 200 - application/json;+charset=utf-8 190.3983ms
2025-02-25 20:23:28.944 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/5 application/json -
2025-02-25 20:23:28.945 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:28.948 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 20:23:28.950 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:23:28.951 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 180.0384ms
2025-02-25 20:23:28.957 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 20:23:28.958 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/5 application/json - - 200 - application/json;+charset=utf-8 215.3581ms
2025-02-25 20:23:28.984 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/5 application/json -
2025-02-25 20:23:28.984 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 20:23:28.985 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:28.992 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:28.992 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 20:23:28.993 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 37.1269ms
2025-02-25 20:23:28.994 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:23:28.995 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 20:23:29.001 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/5 application/json - - 200 - application/json;+charset=utf-8 56.8791ms
2025-02-25 20:23:29.005 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 20:23:29.033 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:29.036 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 38.6902ms
2025-02-25 20:23:29.038 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 20:23:29.054 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/5 application/json - - 200 - application/json;+charset=utf-8 70.1689ms
2025-02-25 20:23:43.381 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/5 - -
2025-02-25 20:23:43.381 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/5 - -
2025-02-25 20:23:43.382 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:43.383 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:43.384 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/5 - - - 204 - - 3.1293ms
2025-02-25 20:23:43.386 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/5 application/json 8
2025-02-25 20:23:43.385 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/5 - - - 204 - - 4.0100ms
2025-02-25 20:23:43.387 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/5 application/json 102
2025-02-25 20:23:43.388 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:43.389 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:43.390 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 20:23:43.390 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 20:23:43.397 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:23:43.404 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 20:23:43.465 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 20:23:43.496 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 20:23:43.517 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 20:23:43.528 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 20:23:43.553 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 20:23:43.580 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 20:23:43.581 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 20:23:43.585 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 20:23:43.588 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:43.589 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 167.0664ms
2025-02-25 20:23:43.590 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 20:23:43.591 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/5 application/json 8 - 200 - application/json;+charset=utf-8 205.3252ms
2025-02-25 20:23:43.605 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 20:23:43.607 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 20:23:43.609 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 175.9325ms
2025-02-25 20:23:43.610 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 20:23:43.610 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/5 application/json 102 - 200 - application/json;+charset=utf-8 223.7829ms
2025-02-25 20:23:51.931 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryXDh4zoErgR4NZwbf 1250
2025-02-25 20:23:51.933 +01:00 [INF] CORS policy execution successful.
2025-02-25 20:23:51.934 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 20:23:51.942 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 20:23:52.006 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 20:23:52.011 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 20:23:52.376 +01:00 [INF] Received HTTP response headers after 361.1132ms - 200
2025-02-25 20:23:52.378 +01:00 [INF] End processing HTTP request after 373.3378ms - 200
2025-02-25 20:23:52.525 +01:00 [ERR] Błąd w PlaceController.SavePlaceInfo
System.InvalidOperationException: Nazwa miejsca jest zbyt toksyczna i nie może zostać zapisana.
   at JurMaps.Services.PlaceService.SavePlaceInfoAsync(Int32 placeId, String placeName, String placeDescription, IFormFile placePhoto1, IFormFile placePhoto2, IFormFile placePhoto3, String placeColor, Boolean changePlacePhoto1, Boolean changePlacePhoto2, Boolean changePlacePhoto3) in E:\jurmaps2\Services\PlaceService.cs:line 173
   at JurMaps.Controllers.PlaceController.SavePlaceInfo(PlaceDto placeDto) in E:\jurmaps2\Controllers\PlaceController.cs:line 34
2025-02-25 20:23:52.590 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-25 20:23:52.592 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 648.1036ms
2025-02-25 20:23:52.594 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 20:23:52.596 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryXDh4zoErgR4NZwbf 1250 - 500 - text/plain;+charset=utf-8 664.5498ms
2025-02-25 23:35:15.677 +01:00 [INF] User profile is available. Using 'C:\Users\ostat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-25 23:35:16.290 +01:00 [INF] Now listening on: https://localhost:7299
2025-02-25 23:35:16.292 +01:00 [INF] Now listening on: http://localhost:5111
2025-02-25 23:35:16.294 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-02-25 23:35:16.295 +01:00 [INF] Hosting environment: Development
2025-02-25 23:35:16.296 +01:00 [INF] Content root path: E:\jurmaps2
2025-02-25 23:35:18.517 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 23:35:22.655 +01:00 [INF] No SPA development server running at http://localhost:3000 found.
2025-02-25 23:35:22.770 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 23:35:22.774 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4259.5388ms
2025-02-25 23:35:22.859 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/favicon.ico - -
2025-02-25 23:35:23.800 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/favicon.ico - - - 404 0 - 941.0327ms
2025-02-25 23:35:25.843 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 23:35:29.920 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 23:35:29.921 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 4078.1591ms
2025-02-25 23:35:32.942 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 23:35:42.946 +01:00 [INF] SPA proxy is not ready. Returning temporary landing page.
2025-02-25 23:35:42.946 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 200 - text/html 10004.6584ms
2025-02-25 23:35:45.976 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/ - -
2025-02-25 23:35:49.623 +01:00 [INF] SPA proxy is ready. Redirecting to http://localhost:3000.
2025-02-25 23:35:49.625 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/ - - - 302 0 - 3648.5797ms
2025-02-25 23:35:50.330 +01:00 [INF] SPA development server running at 'http://localhost:3000'
2025-02-25 23:35:50.662 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 23:35:50.662 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 23:35:50.667 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 23:35:50.669 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 23:35:50.686 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:35:50.686 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:35:50.686 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:35:50.686 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:35:50.709 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 46.3999ms
2025-02-25 23:35:50.709 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 39.4015ms
2025-02-25 23:35:50.709 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 46.8574ms
2025-02-25 23:35:50.727 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 23:35:50.727 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 23:35:50.712 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 44.9355ms
2025-02-25 23:35:50.693 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 23:35:50.698 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 23:35:50.709 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-02-25 23:35:50.712 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-02-25 23:35:50.736 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:35:50.736 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:35:50.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:35:50.737 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:35:50.739 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:35:50.740 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:35:50.743 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 50.5785ms
2025-02-25 23:35:50.745 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 46.4526ms
2025-02-25 23:35:50.746 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 37.2501ms
2025-02-25 23:35:50.747 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 34.5481ms
2025-02-25 23:35:50.989 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:35:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 23:35:50.989 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:35:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 23:35:51.050 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:35:50'.
2025-02-25 23:35:51.059 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:35:50'.
2025-02-25 23:35:51.064 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 23:35:51.064 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 23:35:51.145 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 23:35:51.145 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 23:36:01.372 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:01.467 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 23:36:01.467 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:01.469 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 10259.0456ms
2025-02-25 23:36:01.471 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 23:36:01.473 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 23:36:01.477 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:01'.
2025-02-25 23:36:01.479 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 23:36:01.479 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 10752.2051ms
2025-02-25 23:36:01.480 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 23:36:01.502 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:01.505 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 22.5965ms
2025-02-25 23:36:01.506 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 23:36:01.506 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 23:36:01.508 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:01.509 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 42.1177ms
2025-02-25 23:36:01.510 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 23:36:01.516 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:01'.
2025-02-25 23:36:01.517 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 23:36:01.519 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 23:36:01.523 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:01.525 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.308ms
2025-02-25 23:36:01.526 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 23:36:01.526 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-02-25 23:36:01.527 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 20.8414ms
2025-02-25 23:36:01.528 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:01.530 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 23:36:01.536 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:01'.
2025-02-25 23:36:01.538 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 23:36:01.539 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 23:36:01.545 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:01.547 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.7659ms
2025-02-25 23:36:01.548 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-02-25 23:36:01.549 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 22.4671ms
2025-02-25 23:36:04.540 +01:00 [INF] Executed DbCommand (203ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 23:36:04.641 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:04.644 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13440.6316ms
2025-02-25 23:36:04.645 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 23:36:04.646 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 23:36:04.646 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:04.648 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 23:36:04.654 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:04'.
2025-02-25 23:36:04.654 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 13927.1520ms
2025-02-25 23:36:04.655 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 23:36:04.657 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 23:36:04.699 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 23:36:04.704 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:04.706 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 47.0943ms
2025-02-25 23:36:04.707 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 23:36:04.707 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 23:36:04.707 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:04.708 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 63.5055ms
2025-02-25 23:36:04.709 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 23:36:04.713 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:04'.
2025-02-25 23:36:04.714 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 23:36:04.714 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 23:36:04.768 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 23:36:04.773 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:04.775 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 59.3945ms
2025-02-25 23:36:04.776 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 23:36:04.776 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-02-25 23:36:04.777 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 70.1767ms
2025-02-25 23:36:04.777 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:04.779 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 23:36:04.782 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:04'.
2025-02-25 23:36:04.783 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 23:36:04.784 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-02-25 23:36:04.789 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 23:36:04.795 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:04.797 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.2754ms
2025-02-25 23:36:04.798 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-02-25 23:36:04.798 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 22.2217ms
2025-02-25 23:36:20.709 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - -
2025-02-25 23:36:20.710 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:20.711 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/createmap - - - 204 - - 1.9780ms
2025-02-25 23:36:20.712 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-02-25 23:36:20.714 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:20.715 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 23:36:20.721 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:20'.
2025-02-25 23:36:20.722 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 23:36:20.727 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 23:36:20.752 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT u."UserId", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId"
FROM "Users" AS u
WHERE u."UserId" = @__userId_0
LIMIT 1
2025-02-25 23:36:21.203 +01:00 [INF] Executed DbCommand (305ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7)
RETURNING "MapId";
2025-02-25 23:36:21.221 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:21.223 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 494.0728ms
2025-02-25 23:36:21.224 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-02-25 23:36:21.225 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 512.4293ms
2025-02-25 23:36:26.185 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/6 - -
2025-02-25 23:36:26.186 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/6 - -
2025-02-25 23:36:26.186 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/6 - -
2025-02-25 23:36:26.186 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/6 - -
2025-02-25 23:36:26.187 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:26.187 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:26.188 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:26.189 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:26.189 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/6 - - - 204 - - 3.8722ms
2025-02-25 23:36:26.193 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/6 - - - 204 - - 7.0027ms
2025-02-25 23:36:26.193 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/6 application/json -
2025-02-25 23:36:26.192 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/verifyuser/6 - - - 204 - - 5.8438ms
2025-02-25 23:36:26.194 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/6 application/json -
2025-02-25 23:36:26.191 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/6 - - - 204 - - 5.2882ms
2025-02-25 23:36:26.201 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:26.202 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:26.204 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 23:36:26.205 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 23:36:26.209 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 23:36:26.209 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:26'.
2025-02-25 23:36:26.212 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 23:36:26.216 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 23:36:26.635 +01:00 [INF] Executed DbCommand (211ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 23:36:26.646 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:26.647 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 428.7077ms
2025-02-25 23:36:26.649 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 23:36:26.650 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/6 application/json -
2025-02-25 23:36:26.651 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/6 application/json - - 200 - application/json;+charset=utf-8 457.0578ms
2025-02-25 23:36:26.652 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:26.656 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-02-25 23:36:26.666 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.02.2025 20:14:12', Current time (UTC): '25.02.2025 22:36:26'.
2025-02-25 23:36:26.668 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 23:36:26.669 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 23:36:26.677 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 23:36:26.682 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:26.685 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 13.7095ms
2025-02-25 23:36:26.687 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-02-25 23:36:26.688 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/verifyuser/6 application/json - - 200 - application/json;+charset=utf-8 37.3298ms
2025-02-25 23:36:27.038 +01:00 [INF] Executed DbCommand (659ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 23:36:27.041 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:27.069 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 857.797ms
2025-02-25 23:36:27.070 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 23:36:27.070 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/6 application/json -
2025-02-25 23:36:27.071 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/6 application/json - - 200 - application/json;+charset=utf-8 877.3440ms
2025-02-25 23:36:27.072 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:27.074 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 23:36:27.075 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 23:36:27.089 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 23:36:27.091 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:27.093 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 16.4267ms
2025-02-25 23:36:27.094 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-02-25 23:36:27.095 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/6 application/json - - 200 - application/json;+charset=utf-8 24.9079ms
2025-02-25 23:36:31.769 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/6 - -
2025-02-25 23:36:31.769 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/6 - -
2025-02-25 23:36:31.770 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:31.770 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:31.771 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmapcountry/6 - - - 204 - - 1.8966ms
2025-02-25 23:36:31.771 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/6 - - - 204 - - 2.0415ms
2025-02-25 23:36:31.772 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/6 application/json 8
2025-02-25 23:36:31.773 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/6 application/json 102
2025-02-25 23:36:31.774 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:31.774 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:31.775 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 23:36:31.775 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 23:36:31.778 +01:00 [INF] Route matched with {action = "AddMapCountry", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] AddMapCountry(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 23:36:31.778 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-02-25 23:36:31.798 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-02-25 23:36:31.825 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-02-25 23:36:31.880 +01:00 [INF] Executed DbCommand (74ms) [Parameters=[@__countryName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT c."CountryId", c."CountryName"
FROM "Countries" AS c
WHERE c."CountryName" = @__countryName_0
LIMIT 1
2025-02-25 23:36:31.964 +01:00 [INF] Executed DbCommand (65ms) [Parameters=[@__countryId_0='?' (DbType = Int32), @__mapId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT m."MapId", m."CountryId", m."ConnectionCount"
FROM "MapCountries" AS m
WHERE m."CountryId" = @__countryId_0 AND m."MapId" = @__mapId_1
LIMIT 1
2025-02-25 23:36:32.012 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "MapCountries" ("CountryId", "MapId", "ConnectionCount")
VALUES (@p0, @p1, @p2);
2025-02-25 23:36:32.122 +01:00 [INF] Executed DbCommand (105ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 23:36:32.138 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Countries" SET "CountryName" = @p0
WHERE "CountryId" = @p1;
2025-02-25 23:36:32.141 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:32.144 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps) in 364.5353ms
2025-02-25 23:36:32.146 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMapCountry (JurMaps)'
2025-02-25 23:36:32.147 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmapcountry/6 application/json 8 - 200 - application/json;+charset=utf-8 375.2806ms
2025-02-25 23:36:32.152 +01:00 [INF] Executed DbCommand (155ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?', @p9='?', @p10='?' (DbType = Object), @p11='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapPlacesQuantity" = @p0
WHERE "MapId" = @p1;
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11)
RETURNING "PlaceId";
2025-02-25 23:36:32.186 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?', @p2='?' (DbType = Int32), @p3='?', @p4='?' (DbType = Int32), @p5='?', @p6='?', @p7='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreatorId" = @p0, "MapDescription" = @p1, "MapLikes" = @p2, "MapName" = @p3, "MapPlacesQuantity" = @p4, "MapPublicationDate" = @p5, "MapThumbnail" = @p6, "MapUploaded" = @p7
WHERE "MapId" = @p8;
2025-02-25 23:36:32.191 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-02-25 23:36:32.194 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 412.3365ms
2025-02-25 23:36:32.195 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-02-25 23:36:32.196 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/6 application/json 102 - 200 - application/json;+charset=utf-8 423.9464ms
2025-02-25 23:36:40.547 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary2P8UztH5a5m0ZVSp 1250
2025-02-25 23:36:40.551 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:36:40.559 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 23:36:40.572 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 23:36:40.636 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 23:36:40.640 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 23:36:40.955 +01:00 [INF] Received HTTP response headers after 311.0588ms - 200
2025-02-25 23:36:40.957 +01:00 [INF] End processing HTTP request after 322.747ms - 200
2025-02-25 23:36:41.169 +01:00 [ERR] Błąd w PlaceController.SavePlaceInfo
System.InvalidOperationException: Nazwa miejsca jest zbyt toksyczna i nie może zostać zapisana.
   at JurMaps.Services.PlaceService.SavePlaceInfoAsync(Int32 placeId, String placeName, String placeDescription, IFormFile placePhoto1, IFormFile placePhoto2, IFormFile placePhoto3, String placeColor, Boolean changePlacePhoto1, Boolean changePlacePhoto2, Boolean changePlacePhoto3) in E:\jurmaps2\Services\PlaceService.cs:line 173
   at JurMaps.Controllers.PlaceController.SavePlaceInfo(PlaceDto placeDto) in E:\jurmaps2\Controllers\PlaceController.cs:line 34
2025-02-25 23:36:41.184 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-25 23:36:41.186 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 610.0487ms
2025-02-25 23:36:41.188 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 23:36:41.192 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundary2P8UztH5a5m0ZVSp 1250 - 500 - text/plain;+charset=utf-8 644.9499ms
2025-02-25 23:39:04.994 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundarymSc4gPm3jwN38RiC 1250
2025-02-25 23:39:04.998 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:39:05.004 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 23:39:05.005 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 23:39:05.013 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 23:39:05.014 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 23:39:05.310 +01:00 [INF] Received HTTP response headers after 293.5269ms - 200
2025-02-25 23:39:05.311 +01:00 [INF] End processing HTTP request after 297.771ms - 200
2025-02-25 23:39:05.359 +01:00 [ERR] Błąd w PlaceController.SavePlaceInfo
System.InvalidOperationException: Nazwa miejsca jest zbyt toksyczna i nie może zostać zapisana.
   at JurMaps.Services.PlaceService.SavePlaceInfoAsync(Int32 placeId, String placeName, String placeDescription, IFormFile placePhoto1, IFormFile placePhoto2, IFormFile placePhoto3, String placeColor, Boolean changePlacePhoto1, Boolean changePlacePhoto2, Boolean changePlacePhoto3) in E:\jurmaps2\Services\PlaceService.cs:line 173
   at JurMaps.Controllers.PlaceController.SavePlaceInfo(PlaceDto placeDto) in E:\jurmaps2\Controllers\PlaceController.cs:line 34
2025-02-25 23:39:05.360 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-25 23:39:05.361 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 354.5052ms
2025-02-25 23:39:05.362 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 23:39:05.364 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundarymSc4gPm3jwN38RiC 1250 - 500 - text/plain;+charset=utf-8 369.9788ms
2025-02-25 23:56:20.536 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryMiovqHV5J5LjYlGt 1250
2025-02-25 23:56:20.539 +01:00 [INF] CORS policy execution successful.
2025-02-25 23:56:20.540 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 23:56:20.542 +01:00 [INF] Route matched with {action = "SavePlaceInfo", controller = "Place"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePlaceInfo(JurMaps.Model.DTO.PlaceDto) on controller JurMaps.Controllers.PlaceController (JurMaps).
2025-02-25 23:56:20.549 +01:00 [INF] Start processing HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 23:56:20.551 +01:00 [INF] Sending HTTP request POST https://commentanalyzer.googleapis.com/v1alpha1/comments:analyze?key=AIzaSyANNrfkv56iGfDw3imGSIcgtPD1-iAcyH0
2025-02-25 23:56:20.870 +01:00 [INF] Received HTTP response headers after 315.7652ms - 200
2025-02-25 23:56:20.871 +01:00 [INF] End processing HTTP request after 322.1281ms - 200
2025-02-25 23:56:20.930 +01:00 [ERR] Błąd w PlaceController.SavePlaceInfo
System.InvalidOperationException: Nazwa miejsca jest zbyt toksyczna i nie może zostać zapisana.
   at JurMaps.Services.PlaceService.SavePlaceInfoAsync(Int32 placeId, String placeName, String placeDescription, IFormFile placePhoto1, IFormFile placePhoto2, IFormFile placePhoto3, String placeColor, Boolean changePlacePhoto1, Boolean changePlacePhoto2, Boolean changePlacePhoto3) in E:\jurmaps2\Services\PlaceService.cs:line 173
   at JurMaps.Controllers.PlaceController.SavePlaceInfo(PlaceDto placeDto) in E:\jurmaps2\Controllers\PlaceController.cs:line 34
2025-02-25 23:56:20.934 +01:00 [INF] Executing ObjectResult, writing value of type 'System.String'.
2025-02-25 23:56:20.935 +01:00 [INF] Executed action JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps) in 390.5962ms
2025-02-25 23:56:20.936 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.PlaceController.SavePlaceInfo (JurMaps)'
2025-02-25 23:56:20.937 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/place/saveplaceinfo multipart/form-data;+boundary=----WebKitFormBoundaryMiovqHV5J5LjYlGt 1250 - 500 - text/plain;+charset=utf-8 400.7247ms
