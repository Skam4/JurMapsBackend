2025-03-29 00:00:20.668 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:00:20.693 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:00:20.755 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:00:20.755 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:00:20.757 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 88.6003ms
2025-03-29 00:00:20.756 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 63.1391ms
2025-03-29 00:00:20.758 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:00:20.758 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:00:20.759 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:00:20.760 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:00:20.761 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:00:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:00:20.761 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:00:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:00:20.763 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:00:20'.
2025-03-29 00:00:20.765 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:00:20'.
2025-03-29 00:00:20.765 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:00:20.766 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:00:20.766 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:00:20.767 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:00:20.788 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:00:20.793 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 23.5908ms
2025-03-29 00:00:20.795 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:00:20.796 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 37.2839ms
2025-03-29 00:00:20.867 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:00:20.869 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:00:20.870 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 102.0668ms
2025-03-29 00:00:20.871 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:00:20.872 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 113.4118ms
2025-03-29 00:01:12.574 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:01:12.575 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:12.575 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 1.8415ms
2025-03-29 00:01:12.578 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:01:12.579 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:12.581 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:12.584 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
2025-03-29 00:01:12.585 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:12.587 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:12.591 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:12.592 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.4431ms
2025-03-29 00:01:12.594 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:12.595 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 16.6263ms
2025-03-29 00:01:12.606 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:01:12.607 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:12.608 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 1.2878ms
2025-03-29 00:01:12.610 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:01:12.610 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:12.611 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:12.615 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
2025-03-29 00:01:12.616 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:12.616 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:12.624 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:12.626 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:12.629 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 11.003ms
2025-03-29 00:01:12.630 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:12.631 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 21.2463ms
2025-03-29 00:01:12.722 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:01:12.723 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:12.725 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:12.727 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
2025-03-29 00:01:12.728 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:12.729 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:12.735 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:12.736 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.8857ms
2025-03-29 00:01:12.737 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:12.739 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 17.3399ms
2025-03-29 00:01:12.752 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:01:12.753 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:12.754 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:12.756 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
2025-03-29 00:01:12.756 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:12.757 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:12.763 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:12.766 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:12.767 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 8.6246ms
2025-03-29 00:01:12.768 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:12.769 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 17.3036ms
2025-03-29 00:01:12.815 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:01:12.817 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:12.819 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:12.823 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
2025-03-29 00:01:12.824 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:12.825 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:12.829 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:12.830 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.1181ms
2025-03-29 00:01:12.831 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:12.832 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 16.8193ms
2025-03-29 00:01:12.839 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:01:12.840 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:12.841 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:12.843 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:12'.
2025-03-29 00:01:12.844 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:12.845 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:12.850 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:12.853 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:12.854 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 7.9576ms
2025-03-29 00:01:12.855 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:12.856 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 17.0269ms
2025-03-29 00:01:34.775 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:01:34.776 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:34.776 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 1.4465ms
2025-03-29 00:01:34.779 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:01:34.782 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:34.785 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:34.797 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:34'.
2025-03-29 00:01:34.798 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:34.801 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:34.807 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:34.808 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.2318ms
2025-03-29 00:01:34.811 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:34.813 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 33.4022ms
2025-03-29 00:01:34.830 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:01:34.831 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:34.832 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 1.8453ms
2025-03-29 00:01:34.834 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:01:34.835 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:34.836 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:34.842 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:34'.
2025-03-29 00:01:34.843 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:34.844 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:34.849 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:34.852 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:34.853 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 8.0779ms
2025-03-29 00:01:34.854 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:34.855 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 21.0210ms
2025-03-29 00:01:36.310 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-03-29 00:01:36.311 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:36.316 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
2025-03-29 00:01:36.317 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-03-29 00:01:36.318 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:01:36.329 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:36.336 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreationDate", "MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "MapId";
2025-03-29 00:01:36.337 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:36.339 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 16.7852ms
2025-03-29 00:01:36.340 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-03-29 00:01:36.343 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 32.7925ms
2025-03-29 00:01:36.440 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json -
2025-03-29 00:01:36.455 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:36.482 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:01:36.484 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
2025-03-29 00:01:36.484 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:36.496 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:01:36.502 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:36.506 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:01:36.526 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json -
2025-03-29 00:01:36.531 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
2025-03-29 00:01:36.544 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:36.553 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:36.555 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:01:36.572 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
2025-03-29 00:01:36.573 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:36.574 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:36.575 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:01:36.585 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:36.587 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 48.0661ms
2025-03-29 00:01:36.587 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:01:36.588 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 10.3321ms
2025-03-29 00:01:36.602 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:01:36.589 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:01:36.636 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:01:36.642 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:36.637 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:36.637 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json -
2025-03-29 00:01:36.659 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 65.3116ms
2025-03-29 00:01:36.660 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 177.6285ms
2025-03-29 00:01:36.643 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json - - 200 - application/json;+charset=utf-8 202.5616ms
2025-03-29 00:01:36.644 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:36.677 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:01:36.677 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:36.683 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
2025-03-29 00:01:36.684 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json - - 200 - application/json;+charset=utf-8 158.1837ms
2025-03-29 00:01:36.689 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
2025-03-29 00:01:36.690 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:01:36.692 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:01:36.693 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:36.693 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:01:36.712 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:36.752 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:36.761 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:01:36.762 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 65.2757ms
2025-03-29 00:01:36.767 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:01:36.768 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 131.5064ms
2025-03-29 00:01:36.777 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:01:36.824 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:01:36.825 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:36.832 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:36.843 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:36'.
2025-03-29 00:01:36.853 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 154.6243ms
2025-03-29 00:01:36.858 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:01:36.859 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:01:36.860 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:36.864 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json - - 200 - application/json;+charset=utf-8 226.8533ms
2025-03-29 00:01:36.872 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:36.881 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:36.885 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:01:36.887 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 21.5957ms
2025-03-29 00:01:36.888 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:01:36.891 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 114.1740ms
2025-03-29 00:01:36.951 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - -
2025-03-29 00:01:36.953 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:36.954 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - - - 204 - - 3.1457ms
2025-03-29 00:01:36.955 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json -
2025-03-29 00:01:36.956 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:36.957 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:01:36.958 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:01:37.062 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:01:37.065 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:37.067 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:37.073 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:37'.
2025-03-29 00:01:37.074 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:37.075 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:37.089 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:01:37.089 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:37.092 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:37.093 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 12.1411ms
2025-03-29 00:01:37.094 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:37.095 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:37.100 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:37'.
2025-03-29 00:01:37.101 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 39.2073ms
2025-03-29 00:01:37.101 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:37.103 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:37.112 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:37.117 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:37.121 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:01:37.125 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:37.124 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 17.8874ms
2025-03-29 00:01:37.129 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:37.129 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:37.135 +01:00 [INF] Executed DbCommand (168ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:01:37.135 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:37'.
2025-03-29 00:01:37.136 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 47.5216ms
2025-03-29 00:01:37.144 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:37.144 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:37.149 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 186.9147ms
2025-03-29 00:01:37.151 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:37.152 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:01:37.151 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json -
2025-03-29 00:01:37.155 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:01:37.157 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json - - 200 - application/json;+charset=utf-8 201.3980ms
2025-03-29 00:01:37.157 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:37.158 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:37.159 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:37.160 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:01:37.162 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:37.163 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.7584ms
2025-03-29 00:01:37.167 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:37.167 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:37'.
2025-03-29 00:01:37.164 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:01:37.168 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 47.4199ms
2025-03-29 00:01:37.169 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:37.172 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:37.188 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:37.190 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:01:37.192 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:37.194 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:37.195 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 21.2659ms
2025-03-29 00:01:37.196 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 25.6969ms
2025-03-29 00:01:37.197 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:37.198 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:01:37.199 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 43.7074ms
2025-03-29 00:01:37.200 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json - - 200 - application/json;+charset=utf-8 48.4977ms
2025-03-29 00:01:46.678 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/161 - -
2025-03-29 00:01:46.679 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:46.679 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/161 - - - 204 - - 1.4173ms
2025-03-29 00:01:46.681 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/161 application/json 102
2025-03-29 00:01:46.681 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:46.682 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:01:46.683 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:01:46.688 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:01:46.723 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "PlaceId";
2025-03-29 00:01:46.726 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreationDate" = @p0, "MapCreatorId" = @p1, "MapDescription" = @p2, "MapLikes" = @p3, "MapName" = @p4, "MapPlacesQuantity" = @p5, "MapPublicationDate" = @p6, "MapThumbnail" = @p7, "MapUploaded" = @p8
WHERE "MapId" = @p9;
2025-03-29 00:01:46.728 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:46.729 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 44.5553ms
2025-03-29 00:01:46.729 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:01:46.730 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/161 application/json 102 - 200 - application/json;+charset=utf-8 49.8110ms
2025-03-29 00:01:51.205 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/161 application/json 102
2025-03-29 00:01:51.205 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:51.206 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:01:51.207 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:01:51.212 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:01:51.217 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "PlaceId";
2025-03-29 00:01:51.220 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreationDate" = @p0, "MapCreatorId" = @p1, "MapDescription" = @p2, "MapLikes" = @p3, "MapName" = @p4, "MapPlacesQuantity" = @p5, "MapPublicationDate" = @p6, "MapThumbnail" = @p7, "MapUploaded" = @p8
WHERE "MapId" = @p9;
2025-03-29 00:01:51.222 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:51.223 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 14.7843ms
2025-03-29 00:01:51.224 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:01:51.224 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/161 application/json 102 - 200 - application/json;+charset=utf-8 20.0485ms
2025-03-29 00:01:54.706 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json -
2025-03-29 00:01:54.707 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:01:54.707 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:54.708 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:54.710 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:54'.
2025-03-29 00:01:54.711 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:54'.
2025-03-29 00:01:54.712 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:01:54.713 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:01:54.713 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:01:54.714 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:54.719 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:01:54.722 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:54.723 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:54.726 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:54.726 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 11.1286ms
2025-03-29 00:01:54.728 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:01:54.729 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:01:54.730 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 12.986ms
2025-03-29 00:01:54.730 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json - - 200 - application/json;+charset=utf-8 24.6488ms
2025-03-29 00:01:54.731 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:01:54.733 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 26.3778ms
2025-03-29 00:01:54.738 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:01:54.740 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:54.742 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:54'.
2025-03-29 00:01:54.743 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:01:54.744 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:54.749 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:54.754 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:54.756 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:01:54.758 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 12.4999ms
2025-03-29 00:01:54.759 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:01:54.760 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 21.3561ms
2025-03-29 00:01:56.338 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - -
2025-03-29 00:01:56.340 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:56.343 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - - - 204 - - 5.1985ms
2025-03-29 00:01:56.345 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json -
2025-03-29 00:01:56.347 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:56.349 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:01:56.350 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:01:56.357 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:01:56.367 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:56.370 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 18.9089ms
2025-03-29 00:01:56.375 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:01:56.376 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json - - 200 - application/json;+charset=utf-8 30.9062ms
2025-03-29 00:01:56.691 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:01:56.703 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:56.704 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 12.7467ms
2025-03-29 00:01:56.710 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:01:56.710 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:56.711 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:56.717 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:56'.
2025-03-29 00:01:56.739 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:56.740 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:56.746 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:56.747 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.673ms
2025-03-29 00:01:56.748 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:56.749 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 39.4074ms
2025-03-29 00:01:56.758 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:01:56.776 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:56.783 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 25.1846ms
2025-03-29 00:01:56.786 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:01:56.787 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:56.788 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:56.791 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:56'.
2025-03-29 00:01:56.792 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:56.793 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:56.801 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:56.804 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:56.806 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.0847ms
2025-03-29 00:01:56.808 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:56.809 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 23.0113ms
2025-03-29 00:01:56.948 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:01:56.984 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:56.991 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:57.009 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:56'.
2025-03-29 00:01:57.010 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:57.012 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:57.019 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:57.021 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.4844ms
2025-03-29 00:01:57.023 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:01:57.024 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 76.4796ms
2025-03-29 00:01:57.090 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:01:57.091 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:01:57.093 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:57'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:01:57.095 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:01:57'.
2025-03-29 00:01:57.096 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:57.097 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:01:57.104 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:01:57.107 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:01:57.109 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 9.46ms
2025-03-29 00:01:57.110 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:01:57.111 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 20.4845ms
2025-03-29 00:02:00.923 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/161 - -
2025-03-29 00:02:00.923 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:00.924 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/161 - - - 204 - - 1.6327ms
2025-03-29 00:02:00.925 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/161 application/json 102
2025-03-29 00:02:00.926 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:00.926 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:02:00.927 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:02:00.932 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:02:00.937 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "PlaceId";
2025-03-29 00:02:00.940 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreationDate" = @p0, "MapCreatorId" = @p1, "MapDescription" = @p2, "MapLikes" = @p3, "MapName" = @p4, "MapPlacesQuantity" = @p5, "MapPublicationDate" = @p6, "MapThumbnail" = @p7, "MapUploaded" = @p8
WHERE "MapId" = @p9;
2025-03-29 00:02:00.942 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:02:00.943 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 14.2925ms
2025-03-29 00:02:00.944 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:02:00.945 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/161 application/json 102 - 200 - application/json;+charset=utf-8 19.4205ms
2025-03-29 00:02:31.508 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:02:31.509 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:31.510 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 1.8375ms
2025-03-29 00:02:31.511 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:02:31.513 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:31.514 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:02:31.517 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:31'.
2025-03-29 00:02:31.519 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:02:31.519 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:02:31.523 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:02:31.525 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.3123ms
2025-03-29 00:02:31.527 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:02:31.528 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 16.5631ms
2025-03-29 00:02:31.547 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:02:31.548 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:31.549 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 1.7509ms
2025-03-29 00:02:31.550 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:02:31.551 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:31.552 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:02:31.554 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:31'.
2025-03-29 00:02:31.555 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:02:31.556 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:02:31.561 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:02:31.564 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:02:31.565 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 8.506ms
2025-03-29 00:02:31.567 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:02:31.567 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 17.3671ms
2025-03-29 00:02:35.807 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json -
2025-03-29 00:02:35.807 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:02:35.808 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:02:35.809 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:02:35.811 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:35'.
2025-03-29 00:02:35.812 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:35'.
2025-03-29 00:02:35.813 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:02:35.813 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:02:35.814 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:02:35.815 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:02:35.820 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:02:35.823 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:02:35.824 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:02:35.827 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:02:35.827 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 11.6523ms
2025-03-29 00:02:35.829 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:02:35.830 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:02:35.831 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 13.7814ms
2025-03-29 00:02:35.831 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json - - 200 - application/json;+charset=utf-8 24.1519ms
2025-03-29 00:02:35.832 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:02:35.834 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 26.3658ms
2025-03-29 00:02:35.838 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:02:35.839 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:02:35.841 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:35'.
2025-03-29 00:02:35.842 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:02:35.843 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:02:35.848 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:02:35.852 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:02:35.854 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:02:35.855 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 11.1751ms
2025-03-29 00:02:35.856 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:02:35.857 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 19.4937ms
2025-03-29 00:02:37.310 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - -
2025-03-29 00:02:37.313 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:37.317 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - - - 204 - - 7.2085ms
2025-03-29 00:02:37.319 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json -
2025-03-29 00:02:37.320 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:37.321 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:02:37.322 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:02:37.328 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:02:37.333 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:02:37.335 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 10.7525ms
2025-03-29 00:02:37.337 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:02:37.338 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json - - 200 - application/json;+charset=utf-8 19.1960ms
2025-03-29 00:02:37.617 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:02:37.618 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:37.620 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 2.9420ms
2025-03-29 00:02:37.624 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:02:37.625 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:37.626 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:02:37.631 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:37'.
2025-03-29 00:02:37.632 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:02:37.632 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:02:37.638 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:02:37.639 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.5175ms
2025-03-29 00:02:37.640 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:02:37.640 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 15.8617ms
2025-03-29 00:02:37.689 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:02:37.694 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:37.696 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 6.6737ms
2025-03-29 00:02:37.699 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:02:37.702 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:37.704 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:02:37.711 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:37'.
2025-03-29 00:02:37.715 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:02:37.717 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:02:37.728 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:02:37.734 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:02:37.736 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.2527ms
2025-03-29 00:02:37.744 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:02:37.746 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 47.0058ms
2025-03-29 00:02:37.855 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:02:37.857 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:37.889 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:37'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:02:37.904 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:37'.
2025-03-29 00:02:37.908 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:02:37.910 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:02:37.920 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:02:37.922 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.0766ms
2025-03-29 00:02:37.923 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:02:37.925 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 70.1957ms
2025-03-29 00:02:38.179 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:02:38.180 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:02:38.181 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:38'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:02:38.186 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:02:38'.
2025-03-29 00:02:38.187 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:02:38.189 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:02:38.196 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:02:38.201 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:02:38.202 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.0771ms
2025-03-29 00:02:38.204 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:02:38.205 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 26.3502ms
2025-03-29 00:03:27.027 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:03:27.030 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:27.030 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 3.1842ms
2025-03-29 00:03:27.032 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:03:27.034 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:27.038 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:27'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:03:27.041 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:27'.
2025-03-29 00:03:27.042 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:03:27.043 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:03:27.048 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:03:27.049 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.7022ms
2025-03-29 00:03:27.051 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:03:27.051 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 19.2973ms
2025-03-29 00:03:27.075 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:03:27.076 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:27.076 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 1.4345ms
2025-03-29 00:03:27.078 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:03:27.079 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:27.080 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:27'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:03:27.082 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:27'.
2025-03-29 00:03:27.083 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:03:27.084 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:03:27.089 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:03:27.092 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:03:27.093 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 7.6629ms
2025-03-29 00:03:27.094 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:03:27.095 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 16.4174ms
2025-03-29 00:03:31.485 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json -
2025-03-29 00:03:31.485 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:03:31.486 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:03:31.487 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:03:31.488 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:31'.
2025-03-29 00:03:31.490 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:31'.
2025-03-29 00:03:31.490 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:03:31.491 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:03:31.491 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:03:31.492 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:03:31.498 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:03:31.498 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:03:31.502 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:03:31.505 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:03:31.505 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 12.3346ms
2025-03-29 00:03:31.507 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:03:31.508 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:03:31.508 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 14.3741ms
2025-03-29 00:03:31.509 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json - - 200 - application/json;+charset=utf-8 24.1634ms
2025-03-29 00:03:31.510 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:03:31.511 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 26.1648ms
2025-03-29 00:03:31.515 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:03:31.516 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:03:31.518 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:31'.
2025-03-29 00:03:31.519 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:03:31.519 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:03:31.524 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:03:31.528 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:03:31.531 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:03:31.532 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 11.4493ms
2025-03-29 00:03:31.533 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:03:31.533 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 18.7213ms
2025-03-29 00:03:32.908 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - -
2025-03-29 00:03:32.909 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:32.911 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - - - 204 - - 3.0794ms
2025-03-29 00:03:32.916 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json -
2025-03-29 00:03:32.918 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:32.919 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:03:32.920 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:03:32.926 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:03:32.930 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:03:32.932 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 10.839ms
2025-03-29 00:03:32.935 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:03:32.937 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json - - 200 - application/json;+charset=utf-8 20.6941ms
2025-03-29 00:03:33.273 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:03:33.275 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:33.276 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 2.8972ms
2025-03-29 00:03:33.279 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:03:33.283 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:33.289 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:03:33.294 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:33'.
2025-03-29 00:03:33.298 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:03:33.301 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:03:33.305 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:03:33.307 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.2175ms
2025-03-29 00:03:33.310 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:03:33.315 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 35.0719ms
2025-03-29 00:03:33.343 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:03:33.346 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:33.347 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 4.4605ms
2025-03-29 00:03:33.351 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:03:33.353 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:33.354 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:03:33.360 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:33'.
2025-03-29 00:03:33.362 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:03:33.363 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:03:33.371 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:03:33.374 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:03:33.377 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.9715ms
2025-03-29 00:03:33.378 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:03:33.380 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 28.1633ms
2025-03-29 00:03:33.586 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:03:33.707 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:33.710 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:03:33.753 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:03:33.754 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:33'.
2025-03-29 00:03:33.755 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:03:33.755 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:03:33.757 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:03:33.757 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:03:33.759 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:03:33'.
2025-03-29 00:03:33.761 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:03:33.762 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:03:33.763 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:03:33.765 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.168ms
2025-03-29 00:03:33.766 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:03:33.766 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 179.9863ms
2025-03-29 00:03:33.769 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:03:33.771 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:03:33.772 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 8.8639ms
2025-03-29 00:03:33.774 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:03:33.775 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 21.9985ms
2025-03-29 00:06:57.386 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:06:57.389 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:06:57.390 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 3.8451ms
2025-03-29 00:06:57.396 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:06:57.417 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:06:57.430 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:06:57'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:06:57.445 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:06:57'.
2025-03-29 00:06:57.446 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:06:57.449 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:06:57.461 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:06:57.463 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.8522ms
2025-03-29 00:06:57.465 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:06:57.467 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:06:57.469 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 72.4295ms
2025-03-29 00:06:57.469 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:06:57.471 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 3.4433ms
2025-03-29 00:06:57.472 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:06:57.473 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:06:57.475 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:06:57'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:06:57.478 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:06:57'.
2025-03-29 00:06:57.479 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:06:57.480 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:06:57.562 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:06:57.564 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:06:57.566 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 84.1511ms
2025-03-29 00:06:57.569 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:06:57.570 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 97.3589ms
2025-03-29 00:07:06.762 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json -
2025-03-29 00:07:06.763 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:07:06.763 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:06.764 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:06.766 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:06'.
2025-03-29 00:07:06.768 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:06'.
2025-03-29 00:07:06.768 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:07:06.769 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:07:06.769 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:07:06.770 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:06.780 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:07:06.784 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:07:06.785 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 13.0565ms
2025-03-29 00:07:06.786 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:07:06.787 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json - - 200 - application/json;+charset=utf-8 24.9347ms
2025-03-29 00:07:06.830 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:06.835 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:06.837 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:07:06.838 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 65.0654ms
2025-03-29 00:07:06.839 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:07:06.840 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 77.1378ms
2025-03-29 00:07:06.845 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:07:06.846 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:06.849 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:06'.
2025-03-29 00:07:06.850 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:07:06.851 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:06.859 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:06.863 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:06.867 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:07:06.868 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 14.73ms
2025-03-29 00:07:06.869 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:07:06.870 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 25.1739ms
2025-03-29 00:07:08.450 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - -
2025-03-29 00:07:08.451 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:08.452 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - - - 204 - - 2.3037ms
2025-03-29 00:07:08.459 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json -
2025-03-29 00:07:08.461 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:08.464 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:07:08.465 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:07:08.500 +01:00 [INF] Executed DbCommand (26ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:07:08.542 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:07:08.544 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 75.645ms
2025-03-29 00:07:08.550 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:07:08.553 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json - - 200 - application/json;+charset=utf-8 93.9582ms
2025-03-29 00:07:08.818 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:07:08.826 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:08.828 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 9.8623ms
2025-03-29 00:07:08.834 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:07:08.839 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:08.841 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:08.845 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:08'.
2025-03-29 00:07:08.846 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:07:08.847 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:08.855 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:07:08.861 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9.1194ms
2025-03-29 00:07:08.862 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:07:08.863 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 28.9145ms
2025-03-29 00:07:08.892 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:07:08.896 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:08.898 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 5.0002ms
2025-03-29 00:07:08.902 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:07:08.904 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:08.905 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:08.909 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:08'.
2025-03-29 00:07:08.910 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:07:08.911 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:08.920 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:08.923 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:07:08.924 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 9.0887ms
2025-03-29 00:07:08.925 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:07:08.927 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 25.5339ms
2025-03-29 00:07:09.123 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:07:09.126 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:09.133 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:09.139 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:09'.
2025-03-29 00:07:09.140 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:07:09.141 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:09.147 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:07:09.148 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.2342ms
2025-03-29 00:07:09.150 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:07:09.151 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 28.1190ms
2025-03-29 00:07:09.460 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:07:09.463 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:09.465 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:09.475 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:09'.
2025-03-29 00:07:09.476 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:07:09.478 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:09.492 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:09.497 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:07:09.499 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 16.5057ms
2025-03-29 00:07:09.500 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:07:09.501 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 41.6258ms
2025-03-29 00:07:33.547 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:07:33.548 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:33.549 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 1.8736ms
2025-03-29 00:07:33.550 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:07:33.552 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:33.553 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:33.556 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:33'.
2025-03-29 00:07:33.558 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:07:33.559 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:33.563 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:07:33.565 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.4049ms
2025-03-29 00:07:33.566 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:07:33.567 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 16.9448ms
2025-03-29 00:07:33.583 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:07:33.584 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:33.585 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 2.2067ms
2025-03-29 00:07:33.587 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:07:33.588 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:33.589 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:33'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:33.592 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:33'.
2025-03-29 00:07:33.594 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:07:33.595 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:33.600 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:33.603 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:07:33.604 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 7.8971ms
2025-03-29 00:07:33.605 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:07:33.607 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 19.6183ms
2025-03-29 00:07:53.400 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:07:53.401 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:53.402 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 1.9688ms
2025-03-29 00:07:53.405 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:07:53.407 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:53.408 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:53'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:53.414 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:53'.
2025-03-29 00:07:53.414 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:07:53.415 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:53.421 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:07:53.422 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.0415ms
2025-03-29 00:07:53.423 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:07:53.424 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 18.9122ms
2025-03-29 00:07:53.439 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:07:53.441 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:53.442 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 2.6190ms
2025-03-29 00:07:53.443 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:07:53.444 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:07:53.446 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:53'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:53.450 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:53'.
2025-03-29 00:07:53.451 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:07:53.453 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:53.463 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:53.470 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:07:53.471 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.6138ms
2025-03-29 00:07:53.474 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:07:53.475 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 32.2133ms
2025-03-29 00:07:58.847 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json -
2025-03-29 00:07:58.848 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:07:58.849 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:58.850 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:58.851 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:58'.
2025-03-29 00:07:58.853 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:58'.
2025-03-29 00:07:58.854 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:07:58.855 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:07:58.855 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:07:58.856 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:58.861 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:07:58.864 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:58.865 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:07:58.867 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:58.868 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 10.6349ms
2025-03-29 00:07:58.869 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:07:58.870 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:07:58.871 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 12.3931ms
2025-03-29 00:07:58.871 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json - - 200 - application/json;+charset=utf-8 23.8860ms
2025-03-29 00:07:58.872 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:07:58.873 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 24.8520ms
2025-03-29 00:07:58.877 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:07:58.878 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:07:58.881 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:07:58'.
2025-03-29 00:07:58.881 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:07:58.882 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:07:58.888 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:58.892 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:07:58.894 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:07:58.895 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 11.1161ms
2025-03-29 00:07:58.896 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:07:58.897 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 19.7749ms
2025-03-29 00:08:00.110 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - -
2025-03-29 00:08:00.114 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:08:00.115 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - - - 204 - - 5.2935ms
2025-03-29 00:08:00.121 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json -
2025-03-29 00:08:00.122 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:08:00.123 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:08:00.124 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:08:00.142 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:08:00.147 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:08:00.148 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 21.0675ms
2025-03-29 00:08:00.151 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:08:00.152 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json - - 200 - application/json;+charset=utf-8 31.1232ms
2025-03-29 00:08:00.354 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:08:00.355 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:08:00.356 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 1.8594ms
2025-03-29 00:08:00.358 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:08:00.358 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:08:00.361 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:08:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:08:00.365 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:08:00'.
2025-03-29 00:08:00.366 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:08:00.366 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:08:00.371 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:08:00.372 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.1262ms
2025-03-29 00:08:00.373 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:08:00.374 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 16.0546ms
2025-03-29 00:08:00.459 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:08:00.460 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:08:00.461 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 1.9560ms
2025-03-29 00:08:00.464 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:08:00.466 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:08:00.467 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:08:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:08:00.470 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:08:00'.
2025-03-29 00:08:00.471 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:08:00.472 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:08:00.483 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:08:00.485 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:08:00.488 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.6925ms
2025-03-29 00:08:00.489 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:08:00.490 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 26.0600ms
2025-03-29 00:08:00.595 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:08:00.596 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:08:00.597 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:08:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:08:00.612 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:08:00'.
2025-03-29 00:08:00.616 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:08:00.618 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:08:00.623 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:08:00.624 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.4076ms
2025-03-29 00:08:00.625 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:08:00.626 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 30.6275ms
2025-03-29 00:08:00.836 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:08:00.837 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:08:00.838 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:08:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:08:00.841 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:08:00'.
2025-03-29 00:08:00.842 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:08:00.843 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:08:00.850 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:08:00.853 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:08:00.855 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.3622ms
2025-03-29 00:08:00.862 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:08:00.864 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 27.9319ms
2025-03-29 00:08:05.422 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/161 - -
2025-03-29 00:08:05.422 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:08:05.423 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/161 - - - 204 - - 1.7309ms
2025-03-29 00:08:05.425 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/161 application/json 102
2025-03-29 00:08:05.425 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:08:05.426 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:08:05.427 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:08:05.440 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:08:05.445 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "PlaceId";
2025-03-29 00:08:05.448 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreationDate" = @p0, "MapCreatorId" = @p1, "MapDescription" = @p2, "MapLikes" = @p3, "MapName" = @p4, "MapPlacesQuantity" = @p5, "MapPublicationDate" = @p6, "MapThumbnail" = @p7, "MapUploaded" = @p8
WHERE "MapId" = @p9;
2025-03-29 00:08:05.450 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:08:05.451 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 22.7912ms
2025-03-29 00:08:05.452 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:08:05.453 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/161 application/json 102 - 200 - application/json;+charset=utf-8 28.6365ms
2025-03-29 00:10:42.024 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:10:42.025 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:42.026 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 2.3371ms
2025-03-29 00:10:42.028 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:10:42.030 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:42.032 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:42'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:10:42.035 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:42'.
2025-03-29 00:10:42.036 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:10:42.037 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:10:42.041 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:10:42.042 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.5024ms
2025-03-29 00:10:42.044 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:10:42.045 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 16.5701ms
2025-03-29 00:10:42.065 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:10:42.066 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:42.066 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 1.4828ms
2025-03-29 00:10:42.068 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:10:42.069 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:42.070 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:42'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:10:42.072 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:42'.
2025-03-29 00:10:42.073 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:10:42.074 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:10:42.080 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:10:42.084 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:10:42.086 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.7801ms
2025-03-29 00:10:42.087 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:10:42.089 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 21.1781ms
2025-03-29 00:10:47.948 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:10:47.949 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json -
2025-03-29 00:10:47.950 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:10:47.951 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:10:47.952 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:47'.
2025-03-29 00:10:47.954 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:47'.
2025-03-29 00:10:47.954 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:10:47.955 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:10:47.956 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:10:47.957 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:10:47.961 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:10:47.967 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:10:47.967 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:10:47.969 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:10:47.971 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:10:47.971 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 12.5017ms
2025-03-29 00:10:47.972 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 14.5171ms
2025-03-29 00:10:47.973 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:10:47.974 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:10:47.975 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/161 application/json - - 200 - application/json;+charset=utf-8 25.4236ms
2025-03-29 00:10:47.975 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 26.7730ms
2025-03-29 00:10:47.979 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:10:47.980 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:47'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:10:47.983 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:47'.
2025-03-29 00:10:47.983 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:10:47.984 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:10:47.989 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:10:47.994 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:10:47.996 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:10:47.997 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 11.7756ms
2025-03-29 00:10:47.998 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:10:47.999 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 20.1351ms
2025-03-29 00:10:49.285 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - -
2025-03-29 00:10:49.286 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:49.287 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/161 - - - 204 - - 2.0479ms
2025-03-29 00:10:49.292 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json -
2025-03-29 00:10:49.296 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:49.298 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:10:49.299 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:10:49.307 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:10:49.311 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:10:49.313 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 12.1082ms
2025-03-29 00:10:49.315 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:10:49.317 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/161 application/json - - 200 - application/json;+charset=utf-8 24.8607ms
2025-03-29 00:10:49.621 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:10:49.623 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:49.624 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 3.1776ms
2025-03-29 00:10:49.626 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:10:49.630 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:49.633 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:10:49.636 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:49'.
2025-03-29 00:10:49.638 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:10:49.639 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:10:49.644 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:10:49.646 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.4806ms
2025-03-29 00:10:49.647 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:10:49.648 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 21.4426ms
2025-03-29 00:10:49.683 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:10:49.685 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:49.689 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 6.3563ms
2025-03-29 00:10:49.691 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:10:49.694 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:49.696 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:10:49.698 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:49'.
2025-03-29 00:10:49.701 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:10:49.719 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:10:49.737 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:10:49.746 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:10:49.750 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 19.4638ms
2025-03-29 00:10:49.751 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:10:49.754 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 62.8658ms
2025-03-29 00:10:49.864 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:10:49.885 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:49.903 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:49'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:10:49.908 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:49'.
2025-03-29 00:10:49.910 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:10:49.911 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:10:49.916 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:10:49.918 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.5284ms
2025-03-29 00:10:49.920 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:10:49.923 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 58.7075ms
2025-03-29 00:10:50.208 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:10:50.209 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:10:50.211 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:50'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:10:50.219 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:10:50'.
2025-03-29 00:10:50.221 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:10:50.223 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:10:50.236 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:10:50.243 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:10:50.245 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 17.8782ms
2025-03-29 00:10:50.248 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:10:50.250 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 42.2027ms
2025-03-29 00:13:55.056 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:13:55.057 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:13:55.058 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 2.6390ms
2025-03-29 00:13:55.060 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:13:55.061 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:13:55.063 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:13:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:13:55.068 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:13:55'.
2025-03-29 00:13:55.072 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:13:55.073 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:13:55.079 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:13:55.080 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.2574ms
2025-03-29 00:13:55.082 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:13:55.083 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 22.5950ms
2025-03-29 00:13:55.107 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:13:55.109 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:13:55.110 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 2.2814ms
2025-03-29 00:13:55.111 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:13:55.112 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:13:55.113 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:13:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:13:55.116 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:13:55'.
2025-03-29 00:13:55.118 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:13:55.118 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:13:55.182 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:13:55.184 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:13:55.186 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 66.1794ms
2025-03-29 00:13:55.188 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:13:55.191 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 80.0088ms
2025-03-29 00:14:03.838 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:14:03.840 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:03.851 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 12.6196ms
2025-03-29 00:14:03.854 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:14:03.859 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:03.860 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:03.881 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:03'.
2025-03-29 00:14:03.884 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:03.886 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:03.893 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:14:03.894 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:03.895 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:03.896 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 8.1156ms
2025-03-29 00:14:03.899 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 5.8663ms
2025-03-29 00:14:03.901 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:03.903 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:14:03.904 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 49.2133ms
2025-03-29 00:14:03.904 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:03.906 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:03'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:03.909 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:03'.
2025-03-29 00:14:03.910 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:03.911 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:03.922 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:03.926 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:03.927 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 13.6444ms
2025-03-29 00:14:03.930 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:03.931 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 27.5413ms
2025-03-29 00:14:06.138 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-03-29 00:14:06.139 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:06.145 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
2025-03-29 00:14:06.146 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-03-29 00:14:06.147 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:06.154 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:06.163 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreationDate", "MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "MapId";
2025-03-29 00:14:06.165 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:06.166 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 17.0207ms
2025-03-29 00:14:06.169 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-03-29 00:14:06.172 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 34.2014ms
2025-03-29 00:14:06.300 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json -
2025-03-29 00:14:06.304 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:06.319 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
2025-03-29 00:14:06.325 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:14:06.326 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:06.343 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:14:06.346 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:06.347 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 15.0539ms
2025-03-29 00:14:06.348 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:14:06.350 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json - - 200 - application/json;+charset=utf-8 49.4638ms
2025-03-29 00:14:06.386 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:14:06.387 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:06.389 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:06.400 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
2025-03-29 00:14:06.406 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:06.416 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json -
2025-03-29 00:14:06.420 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:06.421 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:06.426 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:06.427 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
2025-03-29 00:14:06.429 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.2809ms
2025-03-29 00:14:06.436 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:14:06.437 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:06.438 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:06.440 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 53.1589ms
2025-03-29 00:14:06.451 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:14:06.456 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:06.458 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 13.8733ms
2025-03-29 00:14:06.461 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:14:06.463 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json - - 200 - application/json;+charset=utf-8 47.5133ms
2025-03-29 00:14:06.484 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:14:06.484 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json -
2025-03-29 00:14:06.485 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:06.486 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:06.490 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
2025-03-29 00:14:06.495 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:06.493 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
2025-03-29 00:14:06.497 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:06.497 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:14:06.500 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:06.506 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:06.537 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:06.589 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:14:06.590 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 90.6486ms
2025-03-29 00:14:06.595 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:06.596 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 112.3989ms
2025-03-29 00:14:06.607 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:14:06.612 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:06.641 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
2025-03-29 00:14:06.643 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:06.651 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:06.684 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:06.701 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:06.701 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:14:06.708 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:14:06.711 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:06.712 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 56.5125ms
2025-03-29 00:14:06.716 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:06.714 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 207.8148ms
2025-03-29 00:14:06.719 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 112.3003ms
2025-03-29 00:14:06.720 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:14:06.722 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json - - 200 - application/json;+charset=utf-8 238.2089ms
2025-03-29 00:14:06.836 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/162 - -
2025-03-29 00:14:06.837 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:06.838 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/162 - - - 204 - - 1.7148ms
2025-03-29 00:14:06.839 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/162 application/json -
2025-03-29 00:14:06.840 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:06.841 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:14:06.843 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:06.858 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:14:06.860 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:06.862 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 16.6331ms
2025-03-29 00:14:06.863 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/162 application/json -
2025-03-29 00:14:06.864 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:14:06.865 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:06.865 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/162 application/json - - 200 - application/json;+charset=utf-8 26.1924ms
2025-03-29 00:14:06.866 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:14:06.867 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:06.889 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:14:06.891 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:06.893 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 22.0257ms
2025-03-29 00:14:06.894 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:14:06.895 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/162 application/json - - 200 - application/json;+charset=utf-8 32.0845ms
2025-03-29 00:14:06.970 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:14:06.971 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:06.976 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:06.978 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:06'.
2025-03-29 00:14:06.982 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:06.983 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:06.989 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:06.990 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.1877ms
2025-03-29 00:14:06.991 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:06.991 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 21.6390ms
2025-03-29 00:14:07.058 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:14:07.070 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:07.074 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:07'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:07.096 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:07'.
2025-03-29 00:14:07.097 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:07.101 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:07.116 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:07.144 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:14:07.150 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:07.151 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:07.152 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:07'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:07.153 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 50.2765ms
2025-03-29 00:14:07.158 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:07'.
2025-03-29 00:14:07.159 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:07.159 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:07.160 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 102.2028ms
2025-03-29 00:14:07.162 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:07.167 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:07.169 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.5975ms
2025-03-29 00:14:07.171 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:07.172 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 27.6672ms
2025-03-29 00:14:07.176 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:14:07.178 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:07.180 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:07'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:07.186 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:07'.
2025-03-29 00:14:07.188 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:07.189 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:07.200 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:07.204 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:07.206 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.1417ms
2025-03-29 00:14:07.207 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:07.209 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 32.2715ms
2025-03-29 00:14:08.908 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/162 - -
2025-03-29 00:14:08.909 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:08.909 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/162 - - - 204 - - 1.4506ms
2025-03-29 00:14:08.911 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/162 application/json 103
2025-03-29 00:14:08.912 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:08.912 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:14:08.913 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:08.917 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:14:08.923 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "PlaceId";
2025-03-29 00:14:08.925 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreationDate" = @p0, "MapCreatorId" = @p1, "MapDescription" = @p2, "MapLikes" = @p3, "MapName" = @p4, "MapPlacesQuantity" = @p5, "MapPublicationDate" = @p6, "MapThumbnail" = @p7, "MapUploaded" = @p8
WHERE "MapId" = @p9;
2025-03-29 00:14:08.927 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:08.928 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 14.0088ms
2025-03-29 00:14:08.929 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:14:08.930 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/162 application/json 103 - 200 - application/json;+charset=utf-8 18.8798ms
2025-03-29 00:14:10.550 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/162 application/json 102
2025-03-29 00:14:10.551 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:10.551 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:14:10.552 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:10.557 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:14:10.562 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "PlaceId";
2025-03-29 00:14:10.565 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreationDate" = @p0, "MapCreatorId" = @p1, "MapDescription" = @p2, "MapLikes" = @p3, "MapName" = @p4, "MapPlacesQuantity" = @p5, "MapPublicationDate" = @p6, "MapThumbnail" = @p7, "MapUploaded" = @p8
WHERE "MapId" = @p9;
2025-03-29 00:14:10.567 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:10.568 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 14.7714ms
2025-03-29 00:14:10.569 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:14:10.569 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/162 application/json 102 - 200 - application/json;+charset=utf-8 19.7040ms
2025-03-29 00:14:19.118 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json -
2025-03-29 00:14:19.118 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:14:19.119 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:19.120 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:19.122 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:19'.
2025-03-29 00:14:19.123 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:19'.
2025-03-29 00:14:19.124 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:14:19.125 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:19.126 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:19.127 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:19.132 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:14:19.135 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:19.136 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:19.139 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 11.1108ms
2025-03-29 00:14:19.139 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:19.141 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:14:19.143 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:14:19.143 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json - - 200 - application/json;+charset=utf-8 25.7196ms
2025-03-29 00:14:19.144 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 14.6992ms
2025-03-29 00:14:19.145 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:19.146 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 28.8709ms
2025-03-29 00:14:19.153 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:14:19.155 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:19.158 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:19'.
2025-03-29 00:14:19.159 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:19.160 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:19.165 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:19.171 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:19.174 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:14:19.175 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 13.6472ms
2025-03-29 00:14:19.176 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:19.177 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 24.5179ms
2025-03-29 00:14:20.029 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/162 - -
2025-03-29 00:14:20.033 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:20.034 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/162 - - - 204 - - 4.6016ms
2025-03-29 00:14:20.037 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/162 application/json -
2025-03-29 00:14:20.037 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:20.038 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:14:20.039 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:20.047 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:14:20.052 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:20.053 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 13.3171ms
2025-03-29 00:14:20.065 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:14:20.068 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/162 application/json - - 200 - application/json;+charset=utf-8 31.4407ms
2025-03-29 00:14:20.200 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:14:20.202 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:20.203 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 3.0071ms
2025-03-29 00:14:20.206 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:14:20.207 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:20.210 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:20.217 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:20'.
2025-03-29 00:14:20.218 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:20.219 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:20.224 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:20.225 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.1006ms
2025-03-29 00:14:20.227 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:20.228 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 22.0657ms
2025-03-29 00:14:20.281 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:14:20.287 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:20.288 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 7.7194ms
2025-03-29 00:14:20.290 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:14:20.291 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:20.295 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:20.302 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:20'.
2025-03-29 00:14:20.303 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:20.304 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:20.312 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:20.316 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:20.317 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.663ms
2025-03-29 00:14:20.319 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:20.321 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 31.0878ms
2025-03-29 00:14:20.354 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:14:20.356 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:20.357 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:20.361 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:20'.
2025-03-29 00:14:20.365 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:20.367 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:20.372 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:20.373 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.6299ms
2025-03-29 00:14:20.374 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:20.376 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 21.5137ms
2025-03-29 00:14:20.422 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:14:20.423 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:20.424 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:20'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:20.427 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:20'.
2025-03-29 00:14:20.429 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:20.429 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:20.437 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:20.440 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:20.442 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.7041ms
2025-03-29 00:14:20.443 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:20.444 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 21.9840ms
2025-03-29 00:14:22.401 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/162 - -
2025-03-29 00:14:22.402 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:22.402 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/162 - - - 204 - - 1.5211ms
2025-03-29 00:14:22.404 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/162 application/json 102
2025-03-29 00:14:22.404 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:22.405 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:14:22.406 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:22.411 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:14:22.419 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "PlaceId";
2025-03-29 00:14:22.422 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreationDate" = @p0, "MapCreatorId" = @p1, "MapDescription" = @p2, "MapLikes" = @p3, "MapName" = @p4, "MapPlacesQuantity" = @p5, "MapPublicationDate" = @p6, "MapThumbnail" = @p7, "MapUploaded" = @p8
WHERE "MapId" = @p9;
2025-03-29 00:14:22.424 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:22.426 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 18.5181ms
2025-03-29 00:14:22.427 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:14:22.428 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/162 application/json 102 - 200 - application/json;+charset=utf-8 24.3657ms
2025-03-29 00:14:53.814 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:14:53.815 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json -
2025-03-29 00:14:53.816 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:53'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:53.817 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:53'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:53.818 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:53'.
2025-03-29 00:14:53.820 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:53'.
2025-03-29 00:14:53.820 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:53.821 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:14:53.822 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:53.822 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:53.827 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:53.831 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:14:53.834 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:53.834 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:53.836 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:14:53.836 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 11.8979ms
2025-03-29 00:14:53.837 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 13.9269ms
2025-03-29 00:14:53.838 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:14:53.839 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:53.840 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json - - 200 - application/json;+charset=utf-8 25.4540ms
2025-03-29 00:14:53.840 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 26.1602ms
2025-03-29 00:14:53.845 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:14:53.846 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:53'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:53.848 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:53'.
2025-03-29 00:14:53.849 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:53.850 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:53.855 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:53.859 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:53.862 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:14:53.863 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 11.9091ms
2025-03-29 00:14:53.864 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:14:53.865 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 20.1011ms
2025-03-29 00:14:55.083 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/162 - -
2025-03-29 00:14:55.086 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:55.088 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/162 - - - 204 - - 4.2294ms
2025-03-29 00:14:55.090 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/162 application/json -
2025-03-29 00:14:55.091 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:55.092 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:14:55.093 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:14:55.100 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:14:55.103 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:55.105 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 10.3942ms
2025-03-29 00:14:55.107 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:14:55.108 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/162 application/json - - 200 - application/json;+charset=utf-8 17.1598ms
2025-03-29 00:14:55.372 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:14:55.374 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:55.376 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 4.9190ms
2025-03-29 00:14:55.379 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:14:55.383 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:55.386 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:55.400 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:55'.
2025-03-29 00:14:55.400 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:55.402 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:55.410 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:55.414 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9.456ms
2025-03-29 00:14:55.416 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:55.418 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 39.1937ms
2025-03-29 00:14:55.447 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:14:55.454 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:55.459 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 13.2733ms
2025-03-29 00:14:55.462 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:14:55.465 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:55.468 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:55.472 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:55'.
2025-03-29 00:14:55.473 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:55.474 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:55.482 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:55.485 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:55.486 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.5931ms
2025-03-29 00:14:55.488 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:55.489 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 26.4581ms
2025-03-29 00:14:55.632 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:14:55.633 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:55.634 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:55.649 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:55'.
2025-03-29 00:14:55.652 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:55.654 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:55.658 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:55.659 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 3.8318ms
2025-03-29 00:14:55.660 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:14:55.660 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 28.8852ms
2025-03-29 00:14:55.839 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:14:55.840 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:14:55.841 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:14:55.848 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:14:55'.
2025-03-29 00:14:55.849 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:55.850 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:14:55.858 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:14:55.861 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:14:55.862 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.6712ms
2025-03-29 00:14:55.864 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:14:55.865 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 25.9787ms
2025-03-29 00:16:21.385 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:16:21.386 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:16:21.387 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 2.1318ms
2025-03-29 00:16:21.389 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:16:21.391 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:16:21.392 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:16:21.396 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:21'.
2025-03-29 00:16:21.397 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:16:21.398 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:16:21.403 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:16:21.404 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.1304ms
2025-03-29 00:16:21.406 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:16:21.407 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 18.3366ms
2025-03-29 00:16:21.435 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:16:21.436 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:16:21.436 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 1.5914ms
2025-03-29 00:16:21.438 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:16:21.440 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:16:21.441 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:21'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:16:21.443 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:21'.
2025-03-29 00:16:21.444 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:16:21.446 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:16:21.452 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:16:21.455 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:16:21.456 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 9.3218ms
2025-03-29 00:16:21.458 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:16:21.458 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 20.3557ms
2025-03-29 00:16:54.317 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:16:54.320 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:16:54.321 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 4.3649ms
2025-03-29 00:16:54.325 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:16:54.328 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:16:54.331 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:16:54.343 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:54'.
2025-03-29 00:16:54.348 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:16:54.351 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:16:54.358 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:16:54.359 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.8028ms
2025-03-29 00:16:54.361 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:16:54.362 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 38.5293ms
2025-03-29 00:16:54.375 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:16:54.376 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:16:54.377 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 2.1763ms
2025-03-29 00:16:54.379 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:16:54.382 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:16:54.384 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:54'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:16:54.386 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:54'.
2025-03-29 00:16:54.387 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:16:54.388 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:16:54.397 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:16:54.401 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:16:54.403 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 12.5345ms
2025-03-29 00:16:54.404 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:16:54.405 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 26.9050ms
2025-03-29 00:16:58.823 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:16:58.824 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json -
2025-03-29 00:16:58.825 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:16:58.826 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:16:58.828 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:58'.
2025-03-29 00:16:58.830 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:58'.
2025-03-29 00:16:58.830 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:16:58.831 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:16:58.832 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:16:58.835 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:16:58.840 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:16:58.843 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:16:58.846 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:16:58.847 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:16:58.851 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:16:58.851 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 14.5131ms
2025-03-29 00:16:58.852 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 16.5391ms
2025-03-29 00:16:58.853 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:16:58.855 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:16:58.856 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/162 application/json - - 200 - application/json;+charset=utf-8 31.5259ms
2025-03-29 00:16:58.857 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 33.2254ms
2025-03-29 00:16:58.863 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:16:58.867 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:58'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:16:58.870 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:16:58'.
2025-03-29 00:16:58.871 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:16:58.872 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:16:58.883 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:16:58.890 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:16:58.892 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:16:58.897 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 20.3806ms
2025-03-29 00:16:58.898 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:16:58.899 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 36.7374ms
2025-03-29 00:17:00.166 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/162 - -
2025-03-29 00:17:00.167 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:00.168 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/162 - - - 204 - - 1.7959ms
2025-03-29 00:17:00.170 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/162 application/json -
2025-03-29 00:17:00.172 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:00.175 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:17:00.176 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:17:00.183 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:17:00.186 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:00.191 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 12.8403ms
2025-03-29 00:17:00.192 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:17:00.195 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/162 application/json - - 200 - application/json;+charset=utf-8 24.3566ms
2025-03-29 00:17:00.511 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:17:00.521 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:00.522 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 11.4417ms
2025-03-29 00:17:00.529 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:17:00.531 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:00.533 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:00.538 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:00'.
2025-03-29 00:17:00.539 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:00.544 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:00.550 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:00.555 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9.3991ms
2025-03-29 00:17:00.559 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:00.560 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 31.0161ms
2025-03-29 00:17:00.579 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:17:00.581 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:00.584 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 4.2512ms
2025-03-29 00:17:00.586 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:17:00.589 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:00.591 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:00.598 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:00'.
2025-03-29 00:17:00.603 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:00.605 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:00.614 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:00.619 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:00.620 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.081ms
2025-03-29 00:17:00.621 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:00.622 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 35.6011ms
2025-03-29 00:17:00.785 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:17:00.788 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:00.795 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:00.810 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:00'.
2025-03-29 00:17:00.814 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:00.815 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:00.819 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:00.821 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.7243ms
2025-03-29 00:17:00.822 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:00.824 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 38.9496ms
2025-03-29 00:17:00.999 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:17:01.000 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:01.002 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:01.007 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:01'.
2025-03-29 00:17:01.008 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:01.008 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:01.018 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:01.021 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:01.022 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 9.0534ms
2025-03-29 00:17:01.023 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:01.024 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 25.1487ms
2025-03-29 00:17:09.192 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:17:09.195 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:09.196 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 4.3430ms
2025-03-29 00:17:09.199 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:17:09.201 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:09.202 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:09.209 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:09'.
2025-03-29 00:17:09.210 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:09.211 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:09.215 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:09.217 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.2835ms
2025-03-29 00:17:09.218 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:09.218 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 19.8428ms
2025-03-29 00:17:09.252 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:17:09.253 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:09.259 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 6.4864ms
2025-03-29 00:17:09.264 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:17:09.266 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:09.269 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:09'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:09.280 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:09'.
2025-03-29 00:17:09.281 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:09.287 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:09.310 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:09.337 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:09.342 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 50.3255ms
2025-03-29 00:17:09.347 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:09.348 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 83.9411ms
2025-03-29 00:17:11.453 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/createmap/createmap application/json 0
2025-03-29 00:17:11.455 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:11.457 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
2025-03-29 00:17:11.458 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-03-29 00:17:11.459 +01:00 [INF] Route matched with {action = "CreateMap", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] CreateMap(System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:17:11.467 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:11.473 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Maps" ("MapCreationDate", "MapCreatorId", "MapDescription", "MapLikes", "MapName", "MapPlacesQuantity", "MapPublicationDate", "MapThumbnail", "MapUploaded")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8)
RETURNING "MapId";
2025-03-29 00:17:11.475 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:11.476 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.CreateMap (JurMaps) in 16.1267ms
2025-03-29 00:17:11.478 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.CreateMap (JurMaps)'
2025-03-29 00:17:11.479 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/createmap/createmap application/json 0 - 200 - application/json;+charset=utf-8 25.3350ms
2025-03-29 00:17:11.647 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/163 application/json -
2025-03-29 00:17:11.657 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:11.682 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
2025-03-29 00:17:11.683 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:17:11.684 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:17:11.695 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:17:11.698 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:11.699 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 9.875ms
2025-03-29 00:17:11.703 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:17:11.704 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:17:11.705 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:11.706 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/163 application/json - - 200 - application/json;+charset=utf-8 58.7740ms
2025-03-29 00:17:11.707 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/163 application/json -
2025-03-29 00:17:11.707 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:11.712 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:11.715 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
2025-03-29 00:17:11.717 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
2025-03-29 00:17:11.719 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:11.720 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:17:11.722 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:11.723 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:17:11.734 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:11.736 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.1541ms
2025-03-29 00:17:11.737 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:11.738 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 35.5290ms
2025-03-29 00:17:11.743 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:17:11.745 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:11.747 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 12.4985ms
2025-03-29 00:17:11.748 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:17:11.750 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/163 application/json - - 200 - application/json;+charset=utf-8 42.9158ms
2025-03-29 00:17:11.754 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:17:11.757 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:11.761 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/163 application/json -
2025-03-29 00:17:11.763 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
2025-03-29 00:17:11.765 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:11.765 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:17:11.767 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
2025-03-29 00:17:11.768 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:11.769 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:17:11.773 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:17:11.778 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:11.781 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:17:11.784 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:11.789 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:11.792 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:17:11.793 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 18.6511ms
2025-03-29 00:17:11.794 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 21.8013ms
2025-03-29 00:17:11.795 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:17:11.796 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:17:11.798 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/163 application/json - - 200 - application/json;+charset=utf-8 36.8102ms
2025-03-29 00:17:11.799 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 45.1239ms
2025-03-29 00:17:11.807 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:17:11.809 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:11.813 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:11'.
2025-03-29 00:17:11.814 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:17:11.815 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:11.827 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:11.839 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:11.842 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:17:11.845 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 24.3531ms
2025-03-29 00:17:11.850 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:17:11.852 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 44.5211ms
2025-03-29 00:17:11.957 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/163 - -
2025-03-29 00:17:11.959 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:11.960 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/163 - - - 204 - - 2.3734ms
2025-03-29 00:17:11.962 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/163 application/json -
2025-03-29 00:17:11.963 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:11.964 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:17:11.965 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:17:11.973 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:17:11.976 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:11.978 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 10.8814ms
2025-03-29 00:17:11.980 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/163 application/json -
2025-03-29 00:17:11.980 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:17:11.981 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:11.981 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/163 application/json - - 200 - application/json;+charset=utf-8 19.4430ms
2025-03-29 00:17:11.983 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:17:11.985 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:17:11.995 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:17:11.998 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:12.004 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 13.4511ms
2025-03-29 00:17:12.008 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:17:12.011 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/163 application/json - - 200 - application/json;+charset=utf-8 31.4526ms
2025-03-29 00:17:12.205 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:17:12.234 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:12.239 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:12.254 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:12'.
2025-03-29 00:17:12.256 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:12.258 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:12.261 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:17:12.269 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:12.271 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:12.273 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:12.286 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:12'.
2025-03-29 00:17:12.287 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 19.9221ms
2025-03-29 00:17:12.288 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:12.291 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:12.292 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:12.293 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 88.3852ms
2025-03-29 00:17:12.306 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:12.309 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:12.318 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:17:12.332 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 32.584ms
2025-03-29 00:17:12.334 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:12.336 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:12.338 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:12.338 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 76.8331ms
2025-03-29 00:17:12.344 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:12'.
2025-03-29 00:17:12.347 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:12.348 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:12.356 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:12.358 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.7409ms
2025-03-29 00:17:12.360 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:12.361 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 42.5314ms
2025-03-29 00:17:12.367 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:17:12.368 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:12.369 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:12.375 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:12'.
2025-03-29 00:17:12.376 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:12.377 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:12.384 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:12.397 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:12.401 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 22.1252ms
2025-03-29 00:17:12.405 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:12.406 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 39.2294ms
2025-03-29 00:17:14.882 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/163 - -
2025-03-29 00:17:14.883 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:14.884 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/163 - - - 204 - - 1.8542ms
2025-03-29 00:17:14.885 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/163 application/json 102
2025-03-29 00:17:14.887 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:14.888 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:17:14.888 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:17:14.894 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:17:14.898 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "PlaceId";
2025-03-29 00:17:14.901 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreationDate" = @p0, "MapCreatorId" = @p1, "MapDescription" = @p2, "MapLikes" = @p3, "MapName" = @p4, "MapPlacesQuantity" = @p5, "MapPublicationDate" = @p6, "MapThumbnail" = @p7, "MapUploaded" = @p8
WHERE "MapId" = @p9;
2025-03-29 00:17:14.904 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:14.905 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 15.236ms
2025-03-29 00:17:14.906 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:17:14.906 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/163 application/json 102 - 200 - application/json;+charset=utf-8 21.1602ms
2025-03-29 00:17:32.466 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:17:32.479 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:32.483 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 17.4418ms
2025-03-29 00:17:32.486 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:17:32.487 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:32.489 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:32.509 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:32'.
2025-03-29 00:17:32.522 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:17:32.523 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:32.524 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:32.525 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:32.526 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 4.0674ms
2025-03-29 00:17:32.534 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:17:32.538 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:32.539 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:32.542 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:32.543 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 9.0244ms
2025-03-29 00:17:32.548 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:32'.
2025-03-29 00:17:32.549 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:32.549 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:32.550 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 64.1442ms
2025-03-29 00:17:32.564 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:32.576 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:32.579 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:32.586 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 17.0195ms
2025-03-29 00:17:32.591 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:32.592 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 58.0792ms
2025-03-29 00:17:34.734 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:17:34.735 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/163 application/json -
2025-03-29 00:17:34.736 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:34.736 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:34.739 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:34'.
2025-03-29 00:17:34.741 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:34'.
2025-03-29 00:17:34.741 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:17:34.742 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:17:34.743 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:34.743 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:17:34.749 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:34.752 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:17:34.754 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:34.756 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:34.757 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:17:34.758 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 11.8306ms
2025-03-29 00:17:34.759 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 13.8545ms
2025-03-29 00:17:34.759 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:17:34.760 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:17:34.761 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/163 application/json - - 200 - application/json;+charset=utf-8 26.5001ms
2025-03-29 00:17:34.762 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 27.4177ms
2025-03-29 00:17:34.767 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:17:34.768 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:34'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:34.770 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:34'.
2025-03-29 00:17:34.771 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:17:34.772 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:34.778 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:34.786 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:34.790 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:17:34.792 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 18.7409ms
2025-03-29 00:17:34.798 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:17:34.799 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 32.5613ms
2025-03-29 00:17:36.228 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/163 - -
2025-03-29 00:17:36.229 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:36.230 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/163 - - - 204 - - 1.9532ms
2025-03-29 00:17:36.233 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/163 application/json -
2025-03-29 00:17:36.234 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:36.235 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:17:36.236 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:17:36.248 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:17:36.256 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:36.258 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 18.1206ms
2025-03-29 00:17:36.280 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:17:36.283 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/163 application/json - - 200 - application/json;+charset=utf-8 50.0090ms
2025-03-29 00:17:36.531 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:17:36.534 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:36.535 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:36.542 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:36'.
2025-03-29 00:17:36.543 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:36.549 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:36.555 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:36.556 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.6996ms
2025-03-29 00:17:36.558 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:36.559 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 28.2061ms
2025-03-29 00:17:36.596 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:17:36.597 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:36.599 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:36.604 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:36'.
2025-03-29 00:17:36.608 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:36.610 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:36.618 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:36.624 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:36.626 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 14.7675ms
2025-03-29 00:17:36.630 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:36.633 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 37.1166ms
2025-03-29 00:17:36.771 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:17:36.773 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:36.791 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:36.806 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:36'.
2025-03-29 00:17:36.807 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:36.809 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:36.815 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:36.817 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 6.6315ms
2025-03-29 00:17:36.822 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:17:36.823 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 52.5815ms
2025-03-29 00:17:36.961 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:17:36.963 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:36.966 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:36'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:17:36.971 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:17:36'.
2025-03-29 00:17:36.972 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:36.974 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:17:36.982 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:17:36.990 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:36.993 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 16.8804ms
2025-03-29 00:17:36.995 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:17:36.996 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 34.9003ms
2025-03-29 00:17:40.679 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/163 - -
2025-03-29 00:17:40.680 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:40.680 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/163 - - - 204 - - 1.5755ms
2025-03-29 00:17:40.682 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/163 application/json 94
2025-03-29 00:17:40.683 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:17:40.683 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:17:40.684 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:17:40.689 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:17:40.694 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "PlaceId";
2025-03-29 00:17:40.697 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreationDate" = @p0, "MapCreatorId" = @p1, "MapDescription" = @p2, "MapLikes" = @p3, "MapName" = @p4, "MapPlacesQuantity" = @p5, "MapPublicationDate" = @p6, "MapThumbnail" = @p7, "MapUploaded" = @p8
WHERE "MapId" = @p9;
2025-03-29 00:17:40.701 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:17:40.702 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 16.5901ms
2025-03-29 00:17:40.703 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:17:40.704 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/163 application/json 94 - 200 - application/json;+charset=utf-8 22.3227ms
2025-03-29 00:18:04.548 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:18:04.549 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:04.550 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 2.0798ms
2025-03-29 00:18:04.553 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:18:04.555 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:04.556 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:04.561 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:04'.
2025-03-29 00:18:04.562 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:18:04.563 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:04.568 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:04.569 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.0557ms
2025-03-29 00:18:04.570 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:18:04.574 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 21.7330ms
2025-03-29 00:18:04.600 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:18:04.601 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:04.602 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 1.8183ms
2025-03-29 00:18:04.604 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:18:04.604 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:04.605 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:04'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:04.609 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:04'.
2025-03-29 00:18:04.609 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:18:04.610 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:04.618 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:18:04.621 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:04.622 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.9495ms
2025-03-29 00:18:04.623 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:18:04.624 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 20.6462ms
2025-03-29 00:18:08.465 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:18:08.468 +01:00 [INF] Request starting HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/163 application/json -
2025-03-29 00:18:08.470 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:08.471 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:08.472 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:08'.
2025-03-29 00:18:08.474 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:08'.
2025-03-29 00:18:08.474 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:18:08.475 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:18:08.476 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:08.476 +01:00 [INF] Route matched with {action = "VerifyUser", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] VerifyUser(Int32, System.String) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:18:08.481 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:18:08.484 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", t0."MapTagsTagId", t0."MapsWithThisTagMapId", t0."TagId", t0."TagName", t0."TagQuantity"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN (
    SELECT m0."MapTagsTagId", m0."MapsWithThisTagMapId", t1."TagId", t1."TagName", t1."TagQuantity"
    FROM "MapTag" AS m0
    INNER JOIN "Tags" AS t1 ON m0."MapTagsTagId" = t1."TagId"
) AS t0 ON t."MapId" = t0."MapsWithThisTagMapId"
ORDER BY t."MapId", t0."MapTagsTagId", t0."MapsWithThisTagMapId"
2025-03-29 00:18:08.487 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:18:08.490 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:08.491 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:18:08.492 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps) in 13.5474ms
2025-03-29 00:18:08.493 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 15.3783ms
2025-03-29 00:18:08.494 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.VerifyUser (JurMaps)'
2025-03-29 00:18:08.494 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:18:08.495 +01:00 [INF] Request finished HTTP/1.1 GET https://localhost:7299/api/createmap/verifyuser/163 application/json - - 200 - application/json;+charset=utf-8 27.4635ms
2025-03-29 00:18:08.496 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 30.6568ms
2025-03-29 00:18:08.501 +01:00 [INF] Request starting HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0
2025-03-29 00:18:08.502 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:08'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:08.506 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:08'.
2025-03-29 00:18:08.506 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:18:08.507 +01:00 [INF] Route matched with {action = "GetUserContextData", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[JurMaps.Model.DTO.UserContextDto]] GetUserContextData(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:08.513 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:18:08.517 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:18:08.521 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[JurMaps.Model.DTO.UserContextDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-29 00:18:08.522 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserContextData (JurMaps) in 12.8872ms
2025-03-29 00:18:08.523 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserContextData (JurMaps)'
2025-03-29 00:18:08.524 +01:00 [INF] Request finished HTTP/1.1 POST https://localhost:7299/api/auth/getusercontextdata application/json 0 - 200 - application/json;+charset=utf-8 23.0818ms
2025-03-29 00:18:10.062 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/163 - -
2025-03-29 00:18:10.080 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:10.087 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/getmapmarkers/163 - - - 204 - - 25.6759ms
2025-03-29 00:18:10.090 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/163 application/json -
2025-03-29 00:18:10.090 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:10.091 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:18:10.092 +01:00 [INF] Route matched with {action = "GetMapMarkers", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Collections.Generic.List`1[JurMaps.Model.DTO.MarkerDto]]] GetMapMarkers(Int32) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:18:10.100 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:18:10.103 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Collections.Generic.List`1[[JurMaps.Model.DTO.MarkerDto, JurMaps, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:10.104 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps) in 9.7676ms
2025-03-29 00:18:10.105 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.GetMapMarkers (JurMaps)'
2025-03-29 00:18:10.106 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/createmap/getmapmarkers/163 application/json - - 200 - application/json;+charset=utf-8 17.0551ms
2025-03-29 00:18:10.392 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:18:10.394 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:10.395 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 2.7089ms
2025-03-29 00:18:10.398 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:18:10.400 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:10.401 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:10.407 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:10'.
2025-03-29 00:18:10.409 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:18:10.412 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:10.417 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:10.421 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 5.9479ms
2025-03-29 00:18:10.422 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:18:10.423 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 24.1098ms
2025-03-29 00:18:10.450 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:18:10.452 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:10.453 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 2.7986ms
2025-03-29 00:18:10.455 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:18:10.456 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:10.457 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:10.463 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:10'.
2025-03-29 00:18:10.467 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:18:10.469 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:10.481 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:18:10.486 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:10.491 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 17.5096ms
2025-03-29 00:18:10.499 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:18:10.506 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 51.1168ms
2025-03-29 00:18:10.638 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:18:10.690 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:10.694 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:10.702 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:10'.
2025-03-29 00:18:10.703 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:18:10.704 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:10.715 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:10.719 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 11.0999ms
2025-03-29 00:18:10.721 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:18:10.723 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 85.1982ms
2025-03-29 00:18:10.896 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:18:10.897 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:10.898 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:10.902 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:10'.
2025-03-29 00:18:10.903 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:18:10.904 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:10.912 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:18:10.927 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:10.944 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 38.3875ms
2025-03-29 00:18:10.946 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:18:10.948 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 51.5169ms
2025-03-29 00:18:19.842 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:18:19.844 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:19.845 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 3.2839ms
2025-03-29 00:18:19.847 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:18:19.851 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:19.854 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:19.862 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:19'.
2025-03-29 00:18:19.867 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:18:19.868 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:19.878 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:19.880 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.5855ms
2025-03-29 00:18:19.884 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:18:19.885 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 38.2121ms
2025-03-29 00:18:19.930 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:18:19.931 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:19.932 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 1.7462ms
2025-03-29 00:18:19.933 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:18:19.934 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:19.935 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:19.937 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:19'.
2025-03-29 00:18:19.938 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:18:19.939 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:19.945 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:18:19.948 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:19.949 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 8.7404ms
2025-03-29 00:18:19.953 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:18:19.954 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 20.9764ms
2025-03-29 00:18:35.597 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:18:35.638 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:35.641 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 44.0065ms
2025-03-29 00:18:35.645 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:18:35.649 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:35.651 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:35.654 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:35'.
2025-03-29 00:18:35.655 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:18:35.656 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:35.661 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:35.665 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 7.6513ms
2025-03-29 00:18:35.668 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:18:35.669 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:18:35.670 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:35.671 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 25.5324ms
2025-03-29 00:18:35.672 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 4.0554ms
2025-03-29 00:18:35.678 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:18:35.679 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:18:35.681 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:18:35.687 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:18:35'.
2025-03-29 00:18:35.694 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:18:35.696 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:18:35.711 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:18:35.714 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:18:35.715 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 16.9288ms
2025-03-29 00:18:35.718 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:18:35.722 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 44.1339ms
2025-03-29 00:19:59.050 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:19:59.051 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:19:59.051 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 2.0439ms
2025-03-29 00:19:59.053 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:19:59.054 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:19:59.055 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:19:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:19:59.058 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:19:59'.
2025-03-29 00:19:59.059 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:19:59.060 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:19:59.064 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:19:59.066 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.1961ms
2025-03-29 00:19:59.067 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:19:59.068 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 14.7514ms
2025-03-29 00:19:59.093 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:19:59.095 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:19:59.096 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 2.2296ms
2025-03-29 00:19:59.097 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:19:59.098 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:19:59.099 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:19:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:19:59.102 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:19:59'.
2025-03-29 00:19:59.104 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:19:59.105 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:19:59.165 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:19:59.167 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:19:59.168 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 62.1312ms
2025-03-29 00:19:59.170 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:19:59.171 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 74.0238ms
2025-03-29 00:20:53.360 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - -
2025-03-29 00:20:53.363 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:20:53.364 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/checkifuserisadmin - - - 204 - - 4.6755ms
2025-03-29 00:20:53.368 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json -
2025-03-29 00:20:53.372 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:20:53.373 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:20:53'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:20:53.379 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:20:53'.
2025-03-29 00:20:53.380 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:20:53.383 +01:00 [INF] Route matched with {action = "CheckIfUserIsAdmin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Boolean]] CheckIfUserIsAdmin(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:20:53.391 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Boolean, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:20:53.392 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps) in 4.6511ms
2025-03-29 00:20:53.393 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.CheckIfUserIsAdmin (JurMaps)'
2025-03-29 00:20:53.395 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/checkifuserisadmin application/json - - 200 - application/json;+charset=utf-8 26.1342ms
2025-03-29 00:20:53.413 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - -
2025-03-29 00:20:53.414 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:20:53.416 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/auth/getuserprofilepicture - - - 204 - - 2.6346ms
2025-03-29 00:20:53.418 +01:00 [INF] Request starting HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json -
2025-03-29 00:20:53.419 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:20:53.420 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:20:53'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2025-03-29 00:20:53.422 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '24.03.2025 16:08:35', Current time (UTC): '28.03.2025 23:20:53'.
2025-03-29 00:20:53.423 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:20:53.424 +01:00 [INF] Route matched with {action = "GetUserProfilePicture", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.String]] GetUserProfilePicture(System.String) on controller JurMaps.Controllers.AuthController (JurMaps).
2025-03-29 00:20:53.432 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."UserId", t."IsVerified", t."LastVerificationEmailSent", t."ResetPasswordToken", t."ResetPasswordTokenExpiration", t."UserCreatedDate", t."UserEmail", t."UserName", t."UserPassword", t."UserProfilePicture", t."UserRoleId", t."VerificationToken", t."VerificationTokenExpiration", m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
FROM (
    SELECT u."UserId", u."IsVerified", u."LastVerificationEmailSent", u."ResetPasswordToken", u."ResetPasswordTokenExpiration", u."UserCreatedDate", u."UserEmail", u."UserName", u."UserPassword", u."UserProfilePicture", u."UserRoleId", u."VerificationToken", u."VerificationTokenExpiration"
    FROM "Users" AS u
    WHERE u."UserId" = @__userId_0
    LIMIT 1
) AS t
LEFT JOIN "Maps" AS m ON t."UserId" = m."MapCreatorId"
ORDER BY t."UserId"
2025-03-29 00:20:53.435 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:20:53.436 +01:00 [INF] Executed action JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps) in 10.2266ms
2025-03-29 00:20:53.437 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.AuthController.GetUserProfilePicture (JurMaps)'
2025-03-29 00:20:53.439 +01:00 [INF] Request finished HTTP/2 GET https://localhost:7299/api/auth/getuserprofilepicture application/json - - 200 - application/json;+charset=utf-8 20.6387ms
2025-03-29 00:20:56.562 +01:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/163 - -
2025-03-29 00:20:56.563 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:20:56.563 +01:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7299/api/createmap/addmarker/163 - - - 204 - - 1.8580ms
2025-03-29 00:20:56.565 +01:00 [INF] Request starting HTTP/2 POST https://localhost:7299/api/createmap/addmarker/163 application/json 102
2025-03-29 00:20:56.566 +01:00 [INF] CORS policy execution successful.
2025-03-29 00:20:56.566 +01:00 [INF] Executing endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:20:56.567 +01:00 [INF] Route matched with {action = "AddMarker", controller = "CreateMap"}. Executing controller action with signature System.Threading.Tasks.Task`1[ControllerResult`1[System.Int32]] AddMarker(Int32, JurMaps.Model.DTO.MarkerDto) on controller JurMaps.Controllers.CreateMapController (JurMaps).
2025-03-29 00:20:56.579 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__mapId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."MapId", t."MapCreationDate", t."MapCreatorId", t."MapDescription", t."MapLikes", t."MapName", t."MapPlacesQuantity", t."MapPublicationDate", t."MapThumbnail", t."MapUploaded", p."PlaceId", p."MapId", p."PlaceColor", p."PlaceCountry", p."PlaceDescription", p."PlaceName", p."PlacePhoto1", p."PlacePhoto2", p."PlacePhoto3", p."PlacePosition", p."PlaceType"
FROM (
    SELECT m."MapId", m."MapCreationDate", m."MapCreatorId", m."MapDescription", m."MapLikes", m."MapName", m."MapPlacesQuantity", m."MapPublicationDate", m."MapThumbnail", m."MapUploaded"
    FROM "Maps" AS m
    WHERE m."MapId" = @__mapId_0
    LIMIT 1
) AS t
LEFT JOIN "Places" AS p ON t."MapId" = p."MapId"
ORDER BY t."MapId"
2025-03-29 00:20:56.585 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?', @p2='?', @p3='?', @p4='?', @p5='?', @p6='?', @p7='?', @p8='?' (DbType = Object), @p9='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Places" ("MapId", "PlaceColor", "PlaceCountry", "PlaceDescription", "PlaceName", "PlacePhoto1", "PlacePhoto2", "PlacePhoto3", "PlacePosition", "PlaceType")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9)
RETURNING "PlaceId";
2025-03-29 00:20:56.588 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p9='?' (DbType = Int32), @p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = Int32), @p4='?', @p5='?' (DbType = Int32), @p6='?', @p7='?', @p8='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
UPDATE "Maps" SET "MapCreationDate" = @p0, "MapCreatorId" = @p1, "MapDescription" = @p2, "MapLikes" = @p3, "MapName" = @p4, "MapPlacesQuantity" = @p5, "MapPublicationDate" = @p6, "MapThumbnail" = @p7, "MapUploaded" = @p8
WHERE "MapId" = @p9;
2025-03-29 00:20:56.589 +01:00 [INF] Executing ObjectResult, writing value of type 'ControllerResult`1[[System.Int32, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-29 00:20:56.590 +01:00 [INF] Executed action JurMaps.Controllers.CreateMapController.AddMarker (JurMaps) in 22.2562ms
2025-03-29 00:20:56.591 +01:00 [INF] Executed endpoint 'JurMaps.Controllers.CreateMapController.AddMarker (JurMaps)'
2025-03-29 00:20:56.592 +01:00 [INF] Request finished HTTP/2 POST https://localhost:7299/api/createmap/addmarker/163 application/json 102 - 200 - application/json;+charset=utf-8 27.1463ms
